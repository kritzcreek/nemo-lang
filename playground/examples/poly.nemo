import log : fn (i32) -> unit from log
import log_f32 : fn (f32) -> unit from log

variant Option[a] {
  struct None {},
  struct Some { value : a },
}

fn for_each[a](f : fn (a) -> unit, as : [a]) {
  let i = 0;
  while i < @array_len(as) {
    f(as[i]);
    set i = i + 1;
  };
}

fn main() {

  let o = Option::Some #[i32] { value = 42 };

  let xs = [1, 2, 3, 5];
  for_each#[i32](log, xs);

  let fs = [1.1, 2.2, 3.3, 5.5];
  for_each#[f32](log_f32, fs);
}
