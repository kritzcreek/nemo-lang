---
source: packages/frontend/tests/parser.rs
expression: output
---
Root@0..4834
  TopImport@0..51
    IMPORT_KW@0..6 "import"
    SPACE@6..7 " "
    ImpInternal@7..15
      IDENT@7..14 "move_to"
      SPACE@14..15 " "
    COLON@15..16 ":"
    SPACE@16..17 " "
    TyFn@17..39
      FN_KW@17..19 "fn"
      SPACE@19..20 " "
      TyArgList@20..31
        L_PAREN@20..21 "("
        TyFloat@21..24
          F32_BUILTIN@21..24 "f32"
        COMMA@24..25 ","
        SPACE@25..26 " "
        TyFloat@26..29
          F32_BUILTIN@26..29 "f32"
        R_PAREN@29..30 ")"
        SPACE@30..31 " "
      ARROW@31..33 "->"
      SPACE@33..34 " "
      TyUnit@34..39
        UNIT_BUILTIN@34..38 "unit"
        SPACE@38..39 " "
    FROM_KW@39..43 "from"
    SPACE@43..44 " "
    ImpExternal@44..51
      IDENT@44..51 "move_to"
  TopImport@51..103
    LINEFEED@51..52 "\n"
    IMPORT_KW@52..58 "import"
    SPACE@58..59 " "
    ImpInternal@59..67
      IDENT@59..66 "line_to"
      SPACE@66..67 " "
    COLON@67..68 ":"
    SPACE@68..69 " "
    TyFn@69..91
      FN_KW@69..71 "fn"
      SPACE@71..72 " "
      TyArgList@72..83
        L_PAREN@72..73 "("
        TyFloat@73..76
          F32_BUILTIN@73..76 "f32"
        COMMA@76..77 ","
        SPACE@77..78 " "
        TyFloat@78..81
          F32_BUILTIN@78..81 "f32"
        R_PAREN@81..82 ")"
        SPACE@82..83 " "
      ARROW@83..85 "->"
      SPACE@85..86 " "
      TyUnit@86..91
        UNIT_BUILTIN@86..90 "unit"
        SPACE@90..91 " "
    FROM_KW@91..95 "from"
    SPACE@95..96 " "
    ImpExternal@96..103
      IDENT@96..103 "line_to"
  TopImport@103..162
    LINEFEED@103..104 "\n"
    IMPORT_KW@104..110 "import"
    SPACE@110..111 " "
    ImpInternal@111..115
      IDENT@111..114 "arc"
      SPACE@114..115 " "
    COLON@115..116 ":"
    SPACE@116..117 " "
    TyFn@117..154
      FN_KW@117..119 "fn"
      SPACE@119..120 " "
      TyArgList@120..146
        L_PAREN@120..121 "("
        TyFloat@121..124
          F32_BUILTIN@121..124 "f32"
        COMMA@124..125 ","
        SPACE@125..126 " "
        TyFloat@126..129
          F32_BUILTIN@126..129 "f32"
        COMMA@129..130 ","
        SPACE@130..131 " "
        TyFloat@131..134
          F32_BUILTIN@131..134 "f32"
        COMMA@134..135 ","
        SPACE@135..136 " "
        TyFloat@136..139
          F32_BUILTIN@136..139 "f32"
        COMMA@139..140 ","
        SPACE@140..141 " "
        TyFloat@141..144
          F32_BUILTIN@141..144 "f32"
        R_PAREN@144..145 ")"
        SPACE@145..146 " "
      ARROW@146..148 "->"
      SPACE@148..149 " "
      TyUnit@149..154
        UNIT_BUILTIN@149..153 "unit"
        SPACE@153..154 " "
    FROM_KW@154..158 "from"
    SPACE@158..159 " "
    ImpExternal@159..162
      IDENT@159..162 "arc"
  TopImport@162..237
    LINEFEED@162..163 "\n"
    IMPORT_KW@163..169 "import"
    SPACE@169..170 " "
    ImpInternal@170..187
      IDENT@170..186 "set_stroke_color"
      SPACE@186..187 " "
    COLON@187..188 ":"
    SPACE@188..189 " "
    TyFn@189..216
      FN_KW@189..191 "fn"
      SPACE@191..192 " "
      TyArgList@192..208
        L_PAREN@192..193 "("
        TyFloat@193..196
          F32_BUILTIN@193..196 "f32"
        COMMA@196..197 ","
        SPACE@197..198 " "
        TyFloat@198..201
          F32_BUILTIN@198..201 "f32"
        COMMA@201..202 ","
        SPACE@202..203 " "
        TyFloat@203..206
          F32_BUILTIN@203..206 "f32"
        R_PAREN@206..207 ")"
        SPACE@207..208 " "
      ARROW@208..210 "->"
      SPACE@210..211 " "
      TyUnit@211..216
        UNIT_BUILTIN@211..215 "unit"
        SPACE@215..216 " "
    FROM_KW@216..220 "from"
    SPACE@220..221 " "
    ImpExternal@221..237
      IDENT@221..237 "set_stroke_color"
  TopImport@237..287
    LINEFEED@237..238 "\n"
    IMPORT_KW@238..244 "import"
    SPACE@244..245 " "
    ImpInternal@245..256
      IDENT@245..255 "begin_path"
      SPACE@255..256 " "
    COLON@256..257 ":"
    SPACE@257..258 " "
    TyFn@258..272
      FN_KW@258..260 "fn"
      SPACE@260..261 " "
      TyArgList@261..264
        L_PAREN@261..262 "("
        R_PAREN@262..263 ")"
        SPACE@263..264 " "
      ARROW@264..266 "->"
      SPACE@266..267 " "
      TyUnit@267..272
        UNIT_BUILTIN@267..271 "unit"
        SPACE@271..272 " "
    FROM_KW@272..276 "from"
    SPACE@276..277 " "
    ImpExternal@277..287
      IDENT@277..287 "begin_path"
  TopImport@287..337
    LINEFEED@287..288 "\n"
    IMPORT_KW@288..294 "import"
    SPACE@294..295 " "
    ImpInternal@295..306
      IDENT@295..305 "close_path"
      SPACE@305..306 " "
    COLON@306..307 ":"
    SPACE@307..308 " "
    TyFn@308..322
      FN_KW@308..310 "fn"
      SPACE@310..311 " "
      TyArgList@311..314
        L_PAREN@311..312 "("
        R_PAREN@312..313 ")"
        SPACE@313..314 " "
      ARROW@314..316 "->"
      SPACE@316..317 " "
      TyUnit@317..322
        UNIT_BUILTIN@317..321 "unit"
        SPACE@321..322 " "
    FROM_KW@322..326 "from"
    SPACE@326..327 " "
    ImpExternal@327..337
      IDENT@327..337 "close_path"
  TopImport@337..379
    LINEFEED@337..338 "\n"
    IMPORT_KW@338..344 "import"
    SPACE@344..345 " "
    ImpInternal@345..352
      IDENT@345..351 "stroke"
      SPACE@351..352 " "
    COLON@352..353 ":"
    SPACE@353..354 " "
    TyFn@354..368
      FN_KW@354..356 "fn"
      SPACE@356..357 " "
      TyArgList@357..360
        L_PAREN@357..358 "("
        R_PAREN@358..359 ")"
        SPACE@359..360 " "
      ARROW@360..362 "->"
      SPACE@362..363 " "
      TyUnit@363..368
        UNIT_BUILTIN@363..367 "unit"
        SPACE@367..368 " "
    FROM_KW@368..372 "from"
    SPACE@372..373 " "
    ImpExternal@373..379
      IDENT@373..379 "stroke"
  TopImport@379..426
    LINEFEED@379..380 "\n"
    IMPORT_KW@380..386 "import"
    SPACE@386..387 " "
    ImpInternal@387..393
      IDENT@387..392 "clear"
      SPACE@392..393 " "
    COLON@393..394 ":"
    SPACE@394..395 " "
    TyFn@395..409
      FN_KW@395..397 "fn"
      SPACE@397..398 " "
      TyArgList@398..401
        L_PAREN@398..399 "("
        R_PAREN@399..400 ")"
        SPACE@400..401 " "
      ARROW@401..403 "->"
      SPACE@403..404 " "
      TyUnit@404..409
        UNIT_BUILTIN@404..408 "unit"
        SPACE@408..409 " "
    FROM_KW@409..413 "from"
    SPACE@413..414 " "
    ImpExternal@414..426
      IDENT@414..426 "clear_canvas"
  TopStruct@426..476
    LINEFEED@426..427 "\n"
    LINEFEED@427..428 "\n"
    STRUCT_KW@428..434 "struct"
    SPACE@434..435 " "
    UPPER_IDENT@435..440 "Color"
    SPACE@440..441 " "
    L_BRACE@441..442 "{"
    StructField@442..452
      LINEFEED@442..443 "\n"
      SPACE@443..445 "  "
      IDENT@445..446 "r"
      SPACE@446..447 " "
      COLON@447..448 ":"
      SPACE@448..449 " "
      TyFloat@449..452
        F32_BUILTIN@449..452 "f32"
    COMMA@452..453 ","
    StructField@453..463
      LINEFEED@453..454 "\n"
      SPACE@454..456 "  "
      IDENT@456..457 "g"
      SPACE@457..458 " "
      COLON@458..459 ":"
      SPACE@459..460 " "
      TyFloat@460..463
        F32_BUILTIN@460..463 "f32"
    COMMA@463..464 ","
    StructField@464..474
      LINEFEED@464..465 "\n"
      SPACE@465..467 "  "
      IDENT@467..468 "b"
      SPACE@468..469 " "
      COLON@469..470 ":"
      SPACE@470..471 " "
      TyFloat@471..474
        F32_BUILTIN@471..474 "f32"
    LINEFEED@474..475 "\n"
    R_BRACE@475..476 "}"
  TopVariant@476..569
    LINEFEED@476..477 "\n"
    LINEFEED@477..478 "\n"
    VARIANT_KW@478..485 "variant"
    SPACE@485..486 " "
    UPPER_IDENT@486..490 "Body"
    SPACE@490..491 " "
    L_BRACE@491..492 "{"
    TopStruct@492..527
      LINEFEED@492..493 "\n"
      SPACE@493..495 "  "
      STRUCT_KW@495..501 "struct"
      SPACE@501..502 " "
      UPPER_IDENT@502..506 "Cube"
      SPACE@506..507 " "
      L_BRACE@507..508 "{"
      StructField@508..523
        LINEFEED@508..509 "\n"
        SPACE@509..513 "    "
        IDENT@513..517 "size"
        SPACE@517..518 " "
        COLON@518..519 ":"
        SPACE@519..520 " "
        TyFloat@520..523
          F32_BUILTIN@520..523 "f32"
      LINEFEED@523..524 "\n"
      SPACE@524..526 "  "
      R_BRACE@526..527 "}"
    COMMA@527..528 ","
    TopStruct@528..567
      LINEFEED@528..529 "\n"
      SPACE@529..531 "  "
      STRUCT_KW@531..537 "struct"
      SPACE@537..538 " "
      UPPER_IDENT@538..544 "Circle"
      SPACE@544..545 " "
      L_BRACE@545..546 "{"
      StructField@546..563
        LINEFEED@546..547 "\n"
        SPACE@547..551 "    "
        IDENT@551..557 "radius"
        SPACE@557..558 " "
        COLON@558..559 ":"
        SPACE@559..560 " "
        TyFloat@560..563
          F32_BUILTIN@560..563 "f32"
      LINEFEED@563..564 "\n"
      SPACE@564..566 "  "
      R_BRACE@566..567 "}"
    LINEFEED@567..568 "\n"
    R_BRACE@568..569 "}"
  TopStruct@569..664
    LINEFEED@569..570 "\n"
    LINEFEED@570..571 "\n"
    STRUCT_KW@571..577 "struct"
    SPACE@577..578 " "
    UPPER_IDENT@578..583 "Shape"
    SPACE@583..584 " "
    L_BRACE@584..585 "{"
    StructField@585..595
      LINEFEED@585..586 "\n"
      SPACE@586..588 "  "
      IDENT@588..589 "x"
      SPACE@589..590 " "
      COLON@590..591 ":"
      SPACE@591..592 " "
      TyFloat@592..595
        F32_BUILTIN@592..595 "f32"
    COMMA@595..596 ","
    StructField@596..606
      LINEFEED@596..597 "\n"
      SPACE@597..599 "  "
      IDENT@599..600 "y"
      SPACE@600..601 " "
      COLON@601..602 ":"
      SPACE@602..603 " "
      TyFloat@603..606
        F32_BUILTIN@603..606 "f32"
    COMMA@606..607 ","
    StructField@607..618
      LINEFEED@607..608 "\n"
      SPACE@608..610 "  "
      IDENT@610..612 "vx"
      SPACE@612..613 " "
      COLON@613..614 ":"
      SPACE@614..615 " "
      TyFloat@615..618
        F32_BUILTIN@615..618 "f32"
    COMMA@618..619 ","
    StructField@619..630
      LINEFEED@619..620 "\n"
      SPACE@620..622 "  "
      IDENT@622..624 "vy"
      SPACE@624..625 " "
      COLON@625..626 ":"
      SPACE@626..627 " "
      TyFloat@627..630
        F32_BUILTIN@627..630 "f32"
    COMMA@630..631 ","
    StructField@631..645
      LINEFEED@631..632 "\n"
      SPACE@632..634 "  "
      IDENT@634..638 "body"
      SPACE@638..639 " "
      COLON@639..640 ":"
      SPACE@640..641 " "
      TyCons@641..645
        UPPER_IDENT@641..645 "Body"
    COMMA@645..646 ","
    StructField@646..662
      LINEFEED@646..647 "\n"
      SPACE@647..649 "  "
      IDENT@649..654 "color"
      SPACE@654..655 " "
      COLON@655..656 ":"
      SPACE@656..657 " "
      TyCons@657..662
        UPPER_IDENT@657..662 "Color"
    LINEFEED@662..663 "\n"
    R_BRACE@663..664 "}"
  TopStruct@664..737
    LINEFEED@664..665 "\n"
    LINEFEED@665..666 "\n"
    STRUCT_KW@666..672 "struct"
    SPACE@672..673 " "
    UPPER_IDENT@673..681 "Particle"
    SPACE@681..682 " "
    L_BRACE@682..683 "{"
    StructField@683..693
      LINEFEED@683..684 "\n"
      SPACE@684..686 "  "
      IDENT@686..687 "x"
      SPACE@687..688 " "
      COLON@688..689 ":"
      SPACE@689..690 " "
      TyFloat@690..693
        F32_BUILTIN@690..693 "f32"
    COMMA@693..694 ","
    StructField@694..704
      LINEFEED@694..695 "\n"
      SPACE@695..697 "  "
      IDENT@697..698 "y"
      SPACE@698..699 " "
      COLON@699..700 ":"
      SPACE@700..701 " "
      TyFloat@701..704
        F32_BUILTIN@701..704 "f32"
    COMMA@704..705 ","
    StructField@705..721
      LINEFEED@705..706 "\n"
      SPACE@706..708 "  "
      IDENT@708..713 "color"
      SPACE@713..714 " "
      COLON@714..715 ":"
      SPACE@715..716 " "
      TyCons@716..721
        UPPER_IDENT@716..721 "Color"
    COMMA@721..722 ","
    StructField@722..735
      LINEFEED@722..723 "\n"
      SPACE@723..725 "  "
      IDENT@725..729 "time"
      SPACE@729..730 " "
      COLON@730..731 ":"
      SPACE@731..732 " "
      TyFloat@732..735
        F32_BUILTIN@732..735 "f32"
    LINEFEED@735..736 "\n"
    R_BRACE@736..737 "}"
  TopStruct@737..801
    LINEFEED@737..738 "\n"
    LINEFEED@738..739 "\n"
    STRUCT_KW@739..745 "struct"
    SPACE@745..746 " "
    UPPER_IDENT@746..756 "RingBuffer"
    SPACE@756..757 " "
    L_BRACE@757..758 "{"
    StructField@758..780
      LINEFEED@758..759 "\n"
      SPACE@759..761 "  "
      IDENT@761..767 "buffer"
      SPACE@767..768 " "
      COLON@768..769 ":"
      SPACE@769..770 " "
      TyArray@770..780
        L_BRACKET@770..771 "["
        TyCons@771..779
          UPPER_IDENT@771..779 "Particle"
        R_BRACKET@779..780 "]"
    COMMA@780..781 ","
    StructField@781..799
      LINEFEED@781..782 "\n"
      SPACE@782..784 "  "
      IDENT@784..793 "watermark"
      SPACE@793..794 " "
      COLON@794..795 ":"
      SPACE@795..796 " "
      TyInt@796..799
        I32_BUILTIN@796..799 "i32"
    LINEFEED@799..800 "\n"
    R_BRACE@800..801 "}"
  TopGlobal@801..838
    LINEFEED@801..802 "\n"
    LINEFEED@802..803 "\n"
    GLOBAL_KW@803..809 "global"
    SPACE@809..810 " "
    IDENT@810..816 "two_pi"
    SPACE@816..817 " "
    EQUALS@817..818 "="
    SPACE@818..819 " "
    EBinary@819..838
      ELit@819..833
        LitFloat@819..833
          FLOAT_LIT@819..832 "3.14159265359"
          SPACE@832..833 " "
      BinOp@833..835
        STAR@833..834 "*"
        SPACE@834..835 " "
      ELit@835..838
        LitFloat@835..838
          FLOAT_LIT@835..838 "2.0"
  TopGlobal@838..868
    LINEFEED@838..839 "\n"
    GLOBAL_KW@839..845 "global"
    SPACE@845..846 " "
    IDENT@846..860 "particle_timer"
    SPACE@860..861 " "
    EQUALS@861..862 "="
    SPACE@862..863 " "
    ELit@863..868
      LitFloat@863..868
        FLOAT_LIT@863..868 "200.0"
  TopGlobal@868..920
    LINEFEED@868..869 "\n"
    LINEFEED@869..870 "\n"
    GLOBAL_KW@870..876 "global"
    SPACE@876..877 " "
    IDENT@877..880 "red"
    SPACE@880..881 " "
    EQUALS@881..882 "="
    SPACE@882..883 " "
    EStruct@883..920
      UPPER_IDENT@883..888 "Color"
      SPACE@888..889 " "
      L_BRACE@889..890 "{"
      SPACE@890..891 " "
      EStructField@891..900
        IDENT@891..892 "r"
        SPACE@892..893 " "
        EQUALS@893..894 "="
        SPACE@894..895 " "
        ELit@895..900
          LitFloat@895..900
            FLOAT_LIT@895..900 "180.0"
      COMMA@900..901 ","
      SPACE@901..902 " "
      EStructField@902..909
        IDENT@902..903 "g"
        SPACE@903..904 " "
        EQUALS@904..905 "="
        SPACE@905..906 " "
        ELit@906..909
          LitFloat@906..909
            FLOAT_LIT@906..909 "0.0"
      COMMA@909..910 ","
      SPACE@910..911 " "
      EStructField@911..919
        IDENT@911..912 "b"
        SPACE@912..913 " "
        EQUALS@913..914 "="
        SPACE@914..915 " "
        ELit@915..919
          LitFloat@915..919
            FLOAT_LIT@915..918 "0.0"
            SPACE@918..919 " "
      R_BRACE@919..920 "}"
  TopGlobal@920..973
    LINEFEED@920..921 "\n"
    GLOBAL_KW@921..927 "global"
    SPACE@927..928 " "
    IDENT@928..933 "green"
    SPACE@933..934 " "
    EQUALS@934..935 "="
    SPACE@935..936 " "
    EStruct@936..973
      UPPER_IDENT@936..941 "Color"
      SPACE@941..942 " "
      L_BRACE@942..943 "{"
      SPACE@943..944 " "
      EStructField@944..951
        IDENT@944..945 "r"
        SPACE@945..946 " "
        EQUALS@946..947 "="
        SPACE@947..948 " "
        ELit@948..951
          LitFloat@948..951
            FLOAT_LIT@948..951 "0.0"
      COMMA@951..952 ","
      SPACE@952..953 " "
      EStructField@953..962
        IDENT@953..954 "g"
        SPACE@954..955 " "
        EQUALS@955..956 "="
        SPACE@956..957 " "
        ELit@957..962
          LitFloat@957..962
            FLOAT_LIT@957..962 "180.0"
      COMMA@962..963 ","
      SPACE@963..964 " "
      EStructField@964..972
        IDENT@964..965 "b"
        SPACE@965..966 " "
        EQUALS@966..967 "="
        SPACE@967..968 " "
        ELit@968..972
          LitFloat@968..972
            FLOAT_LIT@968..971 "0.0"
            SPACE@971..972 " "
      R_BRACE@972..973 "}"
  TopGlobal@973..1025
    LINEFEED@973..974 "\n"
    GLOBAL_KW@974..980 "global"
    SPACE@980..981 " "
    IDENT@981..985 "blue"
    SPACE@985..986 " "
    EQUALS@986..987 "="
    SPACE@987..988 " "
    EStruct@988..1025
      UPPER_IDENT@988..993 "Color"
      SPACE@993..994 " "
      L_BRACE@994..995 "{"
      SPACE@995..996 " "
      EStructField@996..1003
        IDENT@996..997 "r"
        SPACE@997..998 " "
        EQUALS@998..999 "="
        SPACE@999..1000 " "
        ELit@1000..1003
          LitFloat@1000..1003
            FLOAT_LIT@1000..1003 "0.0"
      COMMA@1003..1004 ","
      SPACE@1004..1005 " "
      EStructField@1005..1012
        IDENT@1005..1006 "g"
        SPACE@1006..1007 " "
        EQUALS@1007..1008 "="
        SPACE@1008..1009 " "
        ELit@1009..1012
          LitFloat@1009..1012
            FLOAT_LIT@1009..1012 "0.0"
      COMMA@1012..1013 ","
      SPACE@1013..1014 " "
      EStructField@1014..1024
        IDENT@1014..1015 "b"
        SPACE@1015..1016 " "
        EQUALS@1016..1017 "="
        SPACE@1017..1018 " "
        ELit@1018..1024
          LitFloat@1018..1024
            FLOAT_LIT@1018..1023 "180.0"
            SPACE@1023..1024 " "
      R_BRACE@1024..1025 "}"
  TopGlobal@1025..1773
    LINEFEED@1025..1026 "\n"
    LINEFEED@1026..1027 "\n"
    GLOBAL_KW@1027..1033 "global"
    SPACE@1033..1034 " "
    IDENT@1034..1039 "cubes"
    SPACE@1039..1040 " "
    EQUALS@1040..1041 "="
    SPACE@1041..1042 " "
    EArray@1042..1773
      L_BRACKET@1042..1043 "["
      EStruct@1043..1144
        LINEFEED@1043..1044 "\n"
        SPACE@1044..1046 "  "
        UPPER_IDENT@1046..1051 "Shape"
        SPACE@1051..1052 " "
        L_BRACE@1052..1053 "{"
        SPACE@1053..1054 " "
        EStructField@1054..1063
          IDENT@1054..1055 "x"
          SPACE@1055..1056 " "
          EQUALS@1056..1057 "="
          SPACE@1057..1060 "   "
          ELit@1060..1063
            LitFloat@1060..1063
              FLOAT_LIT@1060..1063 "0.0"
        COMMA@1063..1064 ","
        SPACE@1064..1065 " "
        EStructField@1065..1072
          IDENT@1065..1066 "y"
          SPACE@1066..1067 " "
          EQUALS@1067..1068 "="
          SPACE@1068..1069 " "
          ELit@1069..1072
            LitFloat@1069..1072
              FLOAT_LIT@1069..1072 "0.0"
        COMMA@1072..1073 ","
        SPACE@1073..1074 " "
        EStructField@1074..1083
          IDENT@1074..1076 "vx"
          SPACE@1076..1077 " "
          EQUALS@1077..1078 "="
          SPACE@1078..1080 "  "
          ELit@1080..1083
            LitFloat@1080..1083
              FLOAT_LIT@1080..1083 "9.0"
        COMMA@1083..1084 ","
        SPACE@1084..1085 " "
        EStructField@1085..1094
          IDENT@1085..1087 "vy"
          SPACE@1087..1088 " "
          EQUALS@1088..1089 "="
          SPACE@1089..1090 " "
          ELit@1090..1094
            LitFloat@1090..1094
              FLOAT_LIT@1090..1094 "14.0"
        COMMA@1094..1095 ","
        SPACE@1095..1096 " "
        EStructField@1096..1129
          IDENT@1096..1100 "body"
          SPACE@1100..1101 " "
          EQUALS@1101..1102 "="
          SPACE@1102..1103 " "
          EStruct@1103..1129
            Qualifier@1103..1109
              UPPER_IDENT@1103..1107 "Body"
              DOUBLE_COLON@1107..1109 "::"
            UPPER_IDENT@1109..1113 "Cube"
            SPACE@1113..1114 " "
            L_BRACE@1114..1115 "{"
            SPACE@1115..1116 " "
            EStructField@1116..1128
              IDENT@1116..1120 "size"
              SPACE@1120..1121 " "
              EQUALS@1121..1122 "="
              SPACE@1122..1123 " "
              ELit@1123..1128
                LitFloat@1123..1128
                  FLOAT_LIT@1123..1127 "10.0"
                  SPACE@1127..1128 " "
            R_BRACE@1128..1129 "}"
        COMMA@1129..1130 ","
        SPACE@1130..1131 " "
        EStructField@1131..1143
          IDENT@1131..1136 "color"
          SPACE@1136..1137 " "
          EQUALS@1137..1138 "="
          SPACE@1138..1139 " "
          EVar@1139..1143
            IDENT@1139..1142 "red"
            SPACE@1142..1143 " "
        R_BRACE@1143..1144 "}"
      COMMA@1144..1145 ","
      EStruct@1145..1248
        LINEFEED@1145..1146 "\n"
        SPACE@1146..1148 "  "
        UPPER_IDENT@1148..1153 "Shape"
        SPACE@1153..1154 " "
        L_BRACE@1154..1155 "{"
        SPACE@1155..1156 " "
        EStructField@1156..1165
          IDENT@1156..1157 "x"
          SPACE@1157..1158 " "
          EQUALS@1158..1159 "="
          SPACE@1159..1160 " "
          ELit@1160..1165
            LitFloat@1160..1165
              FLOAT_LIT@1160..1165 "100.0"
        COMMA@1165..1166 ","
        SPACE@1166..1167 " "
        EStructField@1167..1174
          IDENT@1167..1168 "y"
          SPACE@1168..1169 " "
          EQUALS@1169..1170 "="
          SPACE@1170..1171 " "
          ELit@1171..1174
            LitFloat@1171..1174
              FLOAT_LIT@1171..1174 "0.0"
        COMMA@1174..1175 ","
        SPACE@1175..1176 " "
        EStructField@1176..1185
          IDENT@1176..1178 "vx"
          SPACE@1178..1179 " "
          EQUALS@1179..1180 "="
          SPACE@1180..1181 " "
          ELit@1181..1185
            LitFloat@1181..1185
              FLOAT_LIT@1181..1185 "10.0"
        COMMA@1185..1186 ","
        SPACE@1186..1187 " "
        EStructField@1187..1196
          IDENT@1187..1189 "vy"
          SPACE@1189..1190 " "
          EQUALS@1190..1191 "="
          SPACE@1191..1192 " "
          ELit@1192..1196
            LitFloat@1192..1196
              FLOAT_LIT@1192..1196 "13.0"
        COMMA@1196..1197 ","
        SPACE@1197..1198 " "
        EStructField@1198..1231
          IDENT@1198..1202 "body"
          SPACE@1202..1203 " "
          EQUALS@1203..1204 "="
          SPACE@1204..1205 " "
          EStruct@1205..1231
            Qualifier@1205..1211
              UPPER_IDENT@1205..1209 "Body"
              DOUBLE_COLON@1209..1211 "::"
            UPPER_IDENT@1211..1215 "Cube"
            SPACE@1215..1216 " "
            L_BRACE@1216..1217 "{"
            SPACE@1217..1218 " "
            EStructField@1218..1230
              IDENT@1218..1222 "size"
              SPACE@1222..1223 " "
              EQUALS@1223..1224 "="
              SPACE@1224..1225 " "
              ELit@1225..1230
                LitFloat@1225..1230
                  FLOAT_LIT@1225..1229 "15.0"
                  SPACE@1229..1230 " "
            R_BRACE@1230..1231 "}"
        COMMA@1231..1232 ","
        SPACE@1232..1233 " "
        EStructField@1233..1247
          IDENT@1233..1238 "color"
          SPACE@1238..1239 " "
          EQUALS@1239..1240 "="
          SPACE@1240..1241 " "
          EVar@1241..1247
            IDENT@1241..1246 "green"
            SPACE@1246..1247 " "
        R_BRACE@1247..1248 "}"
      COMMA@1248..1249 ","
      EStruct@1249..1355
        LINEFEED@1249..1250 "\n"
        SPACE@1250..1252 "  "
        UPPER_IDENT@1252..1257 "Shape"
        SPACE@1257..1258 " "
        L_BRACE@1258..1259 "{"
        SPACE@1259..1260 " "
        EStructField@1260..1269
          IDENT@1260..1261 "x"
          SPACE@1261..1262 " "
          EQUALS@1262..1263 "="
          SPACE@1263..1264 " "
          ELit@1264..1269
            LitFloat@1264..1269
              FLOAT_LIT@1264..1269 "200.0"
        COMMA@1269..1270 ","
        SPACE@1270..1271 " "
        EStructField@1271..1278
          IDENT@1271..1272 "y"
          SPACE@1272..1273 " "
          EQUALS@1273..1274 "="
          SPACE@1274..1275 " "
          ELit@1275..1278
            LitFloat@1275..1278
              FLOAT_LIT@1275..1278 "0.0"
        COMMA@1278..1279 ","
        SPACE@1279..1280 " "
        EStructField@1280..1289
          IDENT@1280..1282 "vx"
          SPACE@1282..1283 " "
          EQUALS@1283..1284 "="
          SPACE@1284..1285 " "
          ELit@1285..1289
            LitFloat@1285..1289
              FLOAT_LIT@1285..1289 "11.0"
        COMMA@1289..1290 ","
        SPACE@1290..1291 " "
        EStructField@1291..1300
          IDENT@1291..1293 "vy"
          SPACE@1293..1294 " "
          EQUALS@1294..1295 "="
          SPACE@1295..1296 " "
          ELit@1296..1300
            LitFloat@1296..1300
              FLOAT_LIT@1296..1300 "12.0"
        COMMA@1300..1301 ","
        SPACE@1301..1302 " "
        EStructField@1302..1339
          IDENT@1302..1306 "body"
          SPACE@1306..1307 " "
          EQUALS@1307..1308 "="
          SPACE@1308..1309 " "
          EStruct@1309..1339
            Qualifier@1309..1315
              UPPER_IDENT@1309..1313 "Body"
              DOUBLE_COLON@1313..1315 "::"
            UPPER_IDENT@1315..1321 "Circle"
            SPACE@1321..1322 " "
            L_BRACE@1322..1323 "{"
            SPACE@1323..1324 " "
            EStructField@1324..1338
              IDENT@1324..1330 "radius"
              SPACE@1330..1331 " "
              EQUALS@1331..1332 "="
              SPACE@1332..1333 " "
              ELit@1333..1338
                LitFloat@1333..1338
                  FLOAT_LIT@1333..1337 "10.0"
                  SPACE@1337..1338 " "
            R_BRACE@1338..1339 "}"
        COMMA@1339..1340 ","
        SPACE@1340..1341 " "
        EStructField@1341..1354
          IDENT@1341..1346 "color"
          SPACE@1346..1347 " "
          EQUALS@1347..1348 "="
          SPACE@1348..1349 " "
          EVar@1349..1354
            IDENT@1349..1353 "blue"
            SPACE@1353..1354 " "
        R_BRACE@1354..1355 "}"
      COMMA@1355..1356 ","
      EStruct@1356..1458
        LINEFEED@1356..1357 "\n"
        SPACE@1357..1359 "  "
        UPPER_IDENT@1359..1364 "Shape"
        SPACE@1364..1365 " "
        L_BRACE@1365..1366 "{"
        SPACE@1366..1367 " "
        EStructField@1367..1376
          IDENT@1367..1368 "x"
          SPACE@1368..1369 " "
          EQUALS@1369..1370 "="
          SPACE@1370..1371 " "
          ELit@1371..1376
            LitFloat@1371..1376
              FLOAT_LIT@1371..1376 "300.0"
        COMMA@1376..1377 ","
        SPACE@1377..1378 " "
        EStructField@1378..1385
          IDENT@1378..1379 "y"
          SPACE@1379..1380 " "
          EQUALS@1380..1381 "="
          SPACE@1381..1382 " "
          ELit@1382..1385
            LitFloat@1382..1385
              FLOAT_LIT@1382..1385 "0.0"
        COMMA@1385..1386 ","
        SPACE@1386..1387 " "
        EStructField@1387..1396
          IDENT@1387..1389 "vx"
          SPACE@1389..1390 " "
          EQUALS@1390..1391 "="
          SPACE@1391..1392 " "
          ELit@1392..1396
            LitFloat@1392..1396
              FLOAT_LIT@1392..1396 "12.0"
        COMMA@1396..1397 ","
        SPACE@1397..1398 " "
        EStructField@1398..1407
          IDENT@1398..1400 "vy"
          SPACE@1400..1401 " "
          EQUALS@1401..1402 "="
          SPACE@1402..1403 " "
          ELit@1403..1407
            LitFloat@1403..1407
              FLOAT_LIT@1403..1407 "11.0"
        COMMA@1407..1408 ","
        SPACE@1408..1409 " "
        EStructField@1409..1442
          IDENT@1409..1413 "body"
          SPACE@1413..1414 " "
          EQUALS@1414..1415 "="
          SPACE@1415..1416 " "
          EStruct@1416..1442
            Qualifier@1416..1422
              UPPER_IDENT@1416..1420 "Body"
              DOUBLE_COLON@1420..1422 "::"
            UPPER_IDENT@1422..1426 "Cube"
            SPACE@1426..1427 " "
            L_BRACE@1427..1428 "{"
            SPACE@1428..1429 " "
            EStructField@1429..1441
              IDENT@1429..1433 "size"
              SPACE@1433..1434 " "
              EQUALS@1434..1435 "="
              SPACE@1435..1436 " "
              ELit@1436..1441
                LitFloat@1436..1441
                  FLOAT_LIT@1436..1440 "25.0"
                  SPACE@1440..1441 " "
            R_BRACE@1441..1442 "}"
        COMMA@1442..1443 ","
        SPACE@1443..1444 " "
        EStructField@1444..1457
          IDENT@1444..1449 "color"
          SPACE@1449..1450 " "
          EQUALS@1450..1451 "="
          SPACE@1451..1452 " "
          EVar@1452..1457
            IDENT@1452..1456 "blue"
            SPACE@1456..1457 " "
        R_BRACE@1457..1458 "}"
      COMMA@1458..1459 ","
      EStruct@1459..1562
        LINEFEED@1459..1460 "\n"
        SPACE@1460..1462 "  "
        UPPER_IDENT@1462..1467 "Shape"
        SPACE@1467..1468 " "
        L_BRACE@1468..1469 "{"
        SPACE@1469..1470 " "
        EStructField@1470..1479
          IDENT@1470..1471 "x"
          SPACE@1471..1472 " "
          EQUALS@1472..1473 "="
          SPACE@1473..1474 " "
          ELit@1474..1479
            LitFloat@1474..1479
              FLOAT_LIT@1474..1479 "400.0"
        COMMA@1479..1480 ","
        SPACE@1480..1481 " "
        EStructField@1481..1488
          IDENT@1481..1482 "y"
          SPACE@1482..1483 " "
          EQUALS@1483..1484 "="
          SPACE@1484..1485 " "
          ELit@1485..1488
            LitFloat@1485..1488
              FLOAT_LIT@1485..1488 "0.0"
        COMMA@1488..1489 ","
        SPACE@1489..1490 " "
        EStructField@1490..1499
          IDENT@1490..1492 "vx"
          SPACE@1492..1493 " "
          EQUALS@1493..1494 "="
          SPACE@1494..1495 " "
          ELit@1495..1499
            LitFloat@1495..1499
              FLOAT_LIT@1495..1499 "13.0"
        COMMA@1499..1500 ","
        SPACE@1500..1501 " "
        EStructField@1501..1510
          IDENT@1501..1503 "vy"
          SPACE@1503..1504 " "
          EQUALS@1504..1505 "="
          SPACE@1505..1506 " "
          ELit@1506..1510
            LitFloat@1506..1510
              FLOAT_LIT@1506..1510 "10.0"
        COMMA@1510..1511 ","
        SPACE@1511..1512 " "
        EStructField@1512..1545
          IDENT@1512..1516 "body"
          SPACE@1516..1517 " "
          EQUALS@1517..1518 "="
          SPACE@1518..1519 " "
          EStruct@1519..1545
            Qualifier@1519..1525
              UPPER_IDENT@1519..1523 "Body"
              DOUBLE_COLON@1523..1525 "::"
            UPPER_IDENT@1525..1529 "Cube"
            SPACE@1529..1530 " "
            L_BRACE@1530..1531 "{"
            SPACE@1531..1532 " "
            EStructField@1532..1544
              IDENT@1532..1536 "size"
              SPACE@1536..1537 " "
              EQUALS@1537..1538 "="
              SPACE@1538..1539 " "
              ELit@1539..1544
                LitFloat@1539..1544
                  FLOAT_LIT@1539..1543 "30.0"
                  SPACE@1543..1544 " "
            R_BRACE@1544..1545 "}"
        COMMA@1545..1546 ","
        SPACE@1546..1547 " "
        EStructField@1547..1561
          IDENT@1547..1552 "color"
          SPACE@1552..1553 " "
          EQUALS@1553..1554 "="
          SPACE@1554..1555 " "
          EVar@1555..1561
            IDENT@1555..1560 "green"
            SPACE@1560..1561 " "
        R_BRACE@1561..1562 "}"
      COMMA@1562..1563 ","
      EStruct@1563..1668
        LINEFEED@1563..1564 "\n"
        SPACE@1564..1566 "  "
        UPPER_IDENT@1566..1571 "Shape"
        SPACE@1571..1572 " "
        L_BRACE@1572..1573 "{"
        SPACE@1573..1574 " "
        EStructField@1574..1583
          IDENT@1574..1575 "x"
          SPACE@1575..1576 " "
          EQUALS@1576..1577 "="
          SPACE@1577..1578 " "
          ELit@1578..1583
            LitFloat@1578..1583
              FLOAT_LIT@1578..1583 "500.0"
        COMMA@1583..1584 ","
        SPACE@1584..1585 " "
        EStructField@1585..1592
          IDENT@1585..1586 "y"
          SPACE@1586..1587 " "
          EQUALS@1587..1588 "="
          SPACE@1588..1589 " "
          ELit@1589..1592
            LitFloat@1589..1592
              FLOAT_LIT@1589..1592 "0.0"
        COMMA@1592..1593 ","
        SPACE@1593..1594 " "
        EStructField@1594..1603
          IDENT@1594..1596 "vx"
          SPACE@1596..1597 " "
          EQUALS@1597..1598 "="
          SPACE@1598..1599 " "
          ELit@1599..1603
            LitFloat@1599..1603
              FLOAT_LIT@1599..1603 "14.0"
        COMMA@1603..1604 ","
        SPACE@1604..1605 " "
        EStructField@1605..1614
          IDENT@1605..1607 "vy"
          SPACE@1607..1608 " "
          EQUALS@1608..1609 "="
          SPACE@1609..1611 "  "
          ELit@1611..1614
            LitFloat@1611..1614
              FLOAT_LIT@1611..1614 "9.0"
        COMMA@1614..1615 ","
        SPACE@1615..1616 " "
        EStructField@1616..1653
          IDENT@1616..1620 "body"
          SPACE@1620..1621 " "
          EQUALS@1621..1622 "="
          SPACE@1622..1623 " "
          EStruct@1623..1653
            Qualifier@1623..1629
              UPPER_IDENT@1623..1627 "Body"
              DOUBLE_COLON@1627..1629 "::"
            UPPER_IDENT@1629..1635 "Circle"
            SPACE@1635..1636 " "
            L_BRACE@1636..1637 "{"
            SPACE@1637..1638 " "
            EStructField@1638..1652
              IDENT@1638..1644 "radius"
              SPACE@1644..1645 " "
              EQUALS@1645..1646 "="
              SPACE@1646..1647 " "
              ELit@1647..1652
                LitFloat@1647..1652
                  FLOAT_LIT@1647..1651 "17.0"
                  SPACE@1651..1652 " "
            R_BRACE@1652..1653 "}"
        COMMA@1653..1654 ","
        SPACE@1654..1655 " "
        EStructField@1655..1667
          IDENT@1655..1660 "color"
          SPACE@1660..1661 " "
          EQUALS@1661..1662 "="
          SPACE@1662..1663 " "
          EVar@1663..1667
            IDENT@1663..1666 "red"
            SPACE@1666..1667 " "
        R_BRACE@1667..1668 "}"
      COMMA@1668..1669 ","
      EStruct@1669..1771
        LINEFEED@1669..1670 "\n"
        SPACE@1670..1672 "  "
        UPPER_IDENT@1672..1677 "Shape"
        SPACE@1677..1678 " "
        L_BRACE@1678..1679 "{"
        SPACE@1679..1680 " "
        EStructField@1680..1689
          IDENT@1680..1681 "x"
          SPACE@1681..1682 " "
          EQUALS@1682..1683 "="
          SPACE@1683..1684 " "
          ELit@1684..1689
            LitFloat@1684..1689
              FLOAT_LIT@1684..1689 "500.0"
        COMMA@1689..1690 ","
        SPACE@1690..1691 " "
        EStructField@1691..1698
          IDENT@1691..1692 "y"
          SPACE@1692..1693 " "
          EQUALS@1693..1694 "="
          SPACE@1694..1695 " "
          ELit@1695..1698
            LitFloat@1695..1698
              FLOAT_LIT@1695..1698 "0.0"
        COMMA@1698..1699 ","
        SPACE@1699..1700 " "
        EStructField@1700..1709
          IDENT@1700..1702 "vx"
          SPACE@1702..1703 " "
          EQUALS@1703..1704 "="
          SPACE@1704..1705 " "
          ELit@1705..1709
            LitFloat@1705..1709
              FLOAT_LIT@1705..1709 "19.0"
        COMMA@1709..1710 ","
        SPACE@1710..1711 " "
        EStructField@1711..1720
          IDENT@1711..1713 "vy"
          SPACE@1713..1714 " "
          EQUALS@1714..1715 "="
          SPACE@1715..1716 " "
          ELit@1716..1720
            LitFloat@1716..1720
              FLOAT_LIT@1716..1720 "17.0"
        COMMA@1720..1721 ","
        SPACE@1721..1722 " "
        EStructField@1722..1755
          IDENT@1722..1726 "body"
          SPACE@1726..1727 " "
          EQUALS@1727..1728 "="
          SPACE@1728..1729 " "
          EStruct@1729..1755
            Qualifier@1729..1735
              UPPER_IDENT@1729..1733 "Body"
              DOUBLE_COLON@1733..1735 "::"
            UPPER_IDENT@1735..1739 "Cube"
            SPACE@1739..1740 " "
            L_BRACE@1740..1741 "{"
            SPACE@1741..1742 " "
            EStructField@1742..1754
              IDENT@1742..1746 "size"
              SPACE@1746..1747 " "
              EQUALS@1747..1748 "="
              SPACE@1748..1749 " "
              ELit@1749..1754
                LitFloat@1749..1754
                  FLOAT_LIT@1749..1753 "35.0"
                  SPACE@1753..1754 " "
            R_BRACE@1754..1755 "}"
        COMMA@1755..1756 ","
        SPACE@1756..1757 " "
        EStructField@1757..1770
          IDENT@1757..1762 "color"
          SPACE@1762..1763 " "
          EQUALS@1763..1764 "="
          SPACE@1764..1765 " "
          EVar@1765..1770
            IDENT@1765..1769 "blue"
            SPACE@1769..1770 " "
        R_BRACE@1770..1771 "}"
      LINEFEED@1771..1772 "\n"
      R_BRACKET@1772..1773 "]"
  TopGlobal@1773..1907
    LINEFEED@1773..1774 "\n"
    LINEFEED@1774..1775 "\n"
    GLOBAL_KW@1775..1781 "global"
    SPACE@1781..1782 " "
    IDENT@1782..1791 "particles"
    SPACE@1791..1792 " "
    EQUALS@1792..1793 "="
    SPACE@1793..1794 " "
    EStruct@1794..1907
      UPPER_IDENT@1794..1804 "RingBuffer"
      SPACE@1804..1805 " "
      L_BRACE@1805..1806 "{"
      EStructField@1806..1888
        LINEFEED@1806..1807 "\n"
        SPACE@1807..1809 "  "
        IDENT@1809..1815 "buffer"
        SPACE@1815..1816 " "
        EQUALS@1816..1817 "="
        SPACE@1817..1818 " "
        EIntrinsic@1818..1888
          AT_IDENT@1818..1828 "@array_new"
          EArgList@1828..1888
            L_PAREN@1828..1829 "("
            EStruct@1829..1883
              UPPER_IDENT@1829..1837 "Particle"
              SPACE@1837..1838 " "
              L_BRACE@1838..1839 "{"
              SPACE@1839..1840 " "
              EStructField@1840..1847
                IDENT@1840..1841 "x"
                SPACE@1841..1842 " "
                EQUALS@1842..1843 "="
                SPACE@1843..1844 " "
                ELit@1844..1847
                  LitFloat@1844..1847
                    FLOAT_LIT@1844..1847 "0.0"
              COMMA@1847..1848 ","
              SPACE@1848..1849 " "
              EStructField@1849..1856
                IDENT@1849..1850 "y"
                SPACE@1850..1851 " "
                EQUALS@1851..1852 "="
                SPACE@1852..1853 " "
                ELit@1853..1856
                  LitFloat@1853..1856
                    FLOAT_LIT@1853..1856 "0.0"
              COMMA@1856..1857 ","
              SPACE@1857..1858 " "
              EStructField@1858..1869
                IDENT@1858..1863 "color"
                SPACE@1863..1864 " "
                EQUALS@1864..1865 "="
                SPACE@1865..1866 " "
                EVar@1866..1869
                  IDENT@1866..1869 "red"
              COMMA@1869..1870 ","
              SPACE@1870..1871 " "
              EStructField@1871..1882
                IDENT@1871..1875 "time"
                SPACE@1875..1876 " "
                EQUALS@1876..1877 "="
                SPACE@1877..1878 " "
                ELit@1878..1882
                  LitFloat@1878..1882
                    FLOAT_LIT@1878..1881 "0.0"
                    SPACE@1881..1882 " "
              R_BRACE@1882..1883 "}"
            COMMA@1883..1884 ","
            SPACE@1884..1885 " "
            ELit@1885..1887
              LitInt@1885..1887
                INT_LIT@1885..1887 "25"
            R_PAREN@1887..1888 ")"
      COMMA@1888..1889 ","
      EStructField@1889..1905
        LINEFEED@1889..1890 "\n"
        SPACE@1890..1892 "  "
        IDENT@1892..1901 "watermark"
        SPACE@1901..1902 " "
        EQUALS@1902..1903 "="
        SPACE@1903..1904 " "
        ELit@1904..1905
          LitInt@1904..1905
            INT_LIT@1904..1905 "0"
      LINEFEED@1905..1906 "\n"
      R_BRACE@1906..1907 "}"
  TopFn@1907..2088
    LINEFEED@1907..1908 "\n"
    LINEFEED@1908..1909 "\n"
    FN_KW@1909..1911 "fn"
    SPACE@1911..1912 " "
    IDENT@1912..1924 "add_particle"
    L_PAREN@1924..1925 "("
    Param@1925..1937
      IDENT@1925..1926 "p"
      SPACE@1926..1927 " "
      COLON@1927..1928 ":"
      SPACE@1928..1929 " "
      TyCons@1929..1937
        UPPER_IDENT@1929..1937 "Particle"
    R_PAREN@1937..1938 ")"
    SPACE@1938..1939 " "
    EBlock@1939..2088
      L_BRACE@1939..1940 "{"
      DSet@1940..1988
        LINEFEED@1940..1941 "\n"
        SPACE@1941..1943 "  "
        SET_KW@1943..1946 "set"
        SPACE@1946..1947 " "
        SetTarget@1947..1985
          EArrayIdx@1947..1985
            EStructIdx@1947..1963
              EVar@1947..1956
                IDENT@1947..1956 "particles"
              DOT@1956..1957 "."
              IDENT@1957..1963 "buffer"
            L_BRACKET@1963..1964 "["
            EStructIdx@1964..1983
              EVar@1964..1973
                IDENT@1964..1973 "particles"
              DOT@1973..1974 "."
              IDENT@1974..1983 "watermark"
            R_BRACKET@1983..1984 "]"
            SPACE@1984..1985 " "
        EQUALS@1985..1986 "="
        SPACE@1986..1987 " "
        EVar@1987..1988
          IDENT@1987..1988 "p"
      SEMICOLON@1988..1989 ";"
      DSet@1989..2086
        LINEFEED@1989..1990 "\n"
        SPACE@1990..1992 "  "
        SET_KW@1992..1995 "set"
        SPACE@1995..1996 " "
        SetTarget@1996..2016
          EStructIdx@1996..2016
            EVar@1996..2005
              IDENT@1996..2005 "particles"
            DOT@2005..2006 "."
            IDENT@2006..2015 "watermark"
            SPACE@2015..2016 " "
        EQUALS@2016..2017 "="
        ECall@2017..2086
          EVar@2017..2031
            LINEFEED@2017..2018 "\n"
            SPACE@2018..2022 "    "
            IDENT@2022..2031 "i32_rem_s"
          EArgList@2031..2086
            L_PAREN@2031..2032 "("
            EBinary@2032..2055
              EStructIdx@2032..2052
                EVar@2032..2041
                  IDENT@2032..2041 "particles"
                DOT@2041..2042 "."
                IDENT@2042..2051 "watermark"
                SPACE@2051..2052 " "
              BinOp@2052..2054
                PLUS@2052..2053 "+"
                SPACE@2053..2054 " "
              ELit@2054..2055
                LitInt@2054..2055
                  INT_LIT@2054..2055 "1"
            COMMA@2055..2056 ","
            SPACE@2056..2057 " "
            EIntrinsic@2057..2085
              AT_IDENT@2057..2067 "@array_len"
              EArgList@2067..2085
                L_PAREN@2067..2068 "("
                EStructIdx@2068..2084
                  EVar@2068..2077
                    IDENT@2068..2077 "particles"
                  DOT@2077..2078 "."
                  IDENT@2078..2084 "buffer"
                R_PAREN@2084..2085 ")"
            R_PAREN@2085..2086 ")"
      LINEFEED@2086..2087 "\n"
      R_BRACE@2087..2088 "}"
  TopFn@2088..2176
    LINEFEED@2088..2089 "\n"
    LINEFEED@2089..2090 "\n"
    FN_KW@2090..2092 "fn"
    SPACE@2092..2093 " "
    IDENT@2093..2098 "clamp"
    L_PAREN@2098..2099 "("
    Param@2099..2110
      IDENT@2099..2102 "min"
      SPACE@2102..2103 " "
      COLON@2103..2104 ":"
      SPACE@2104..2105 " "
      TyFloat@2105..2108
        F32_BUILTIN@2105..2108 "f32"
      COMMA@2108..2109 ","
      SPACE@2109..2110 " "
    Param@2110..2121
      IDENT@2110..2113 "val"
      SPACE@2113..2114 " "
      COLON@2114..2115 ":"
      SPACE@2115..2116 " "
      TyFloat@2116..2119
        F32_BUILTIN@2116..2119 "f32"
      COMMA@2119..2120 ","
      SPACE@2120..2121 " "
    Param@2121..2130
      IDENT@2121..2124 "max"
      SPACE@2124..2125 " "
      COLON@2125..2126 ":"
      SPACE@2126..2127 " "
      TyFloat@2127..2130
        F32_BUILTIN@2127..2130 "f32"
    R_PAREN@2130..2131 ")"
    SPACE@2131..2132 " "
    ARROW@2132..2134 "->"
    SPACE@2134..2135 " "
    TyFloat@2135..2139
      F32_BUILTIN@2135..2138 "f32"
      SPACE@2138..2139 " "
    EBlock@2139..2176
      L_BRACE@2139..2140 "{"
      DExpr@2140..2174
        ECall@2140..2174
          EVar@2140..2150
            LINEFEED@2140..2141 "\n"
            SPACE@2141..2143 "  "
            IDENT@2143..2150 "f32_min"
          EArgList@2150..2174
            L_PAREN@2150..2151 "("
            EVar@2151..2154
              IDENT@2151..2154 "max"
            COMMA@2154..2155 ","
            SPACE@2155..2156 " "
            ECall@2156..2173
              EVar@2156..2163
                IDENT@2156..2163 "f32_max"
              EArgList@2163..2173
                L_PAREN@2163..2164 "("
                EVar@2164..2167
                  IDENT@2164..2167 "min"
                COMMA@2167..2168 ","
                SPACE@2168..2169 " "
                EVar@2169..2172
                  IDENT@2169..2172 "val"
                R_PAREN@2172..2173 ")"
            R_PAREN@2173..2174 ")"
      LINEFEED@2174..2175 "\n"
      R_BRACE@2175..2176 "}"
  TopFn@2176..2301
    LINEFEED@2176..2177 "\n"
    LINEFEED@2177..2178 "\n"
    FN_KW@2178..2180 "fn"
    SPACE@2180..2181 " "
    IDENT@2181..2185 "size"
    L_PAREN@2185..2186 "("
    Param@2186..2197
      IDENT@2186..2190 "body"
      SPACE@2190..2191 " "
      COLON@2191..2192 ":"
      SPACE@2192..2193 " "
      TyCons@2193..2197
        UPPER_IDENT@2193..2197 "Body"
    R_PAREN@2197..2198 ")"
    SPACE@2198..2199 " "
    ARROW@2199..2201 "->"
    SPACE@2201..2202 " "
    TyFloat@2202..2206
      F32_BUILTIN@2202..2205 "f32"
      SPACE@2205..2206 " "
    EBlock@2206..2301
      L_BRACE@2206..2207 "{"
      DExpr@2207..2299
        EMatch@2207..2299
          LINEFEED@2207..2208 "\n"
          SPACE@2208..2210 "  "
          MATCH_KW@2210..2215 "match"
          SPACE@2215..2216 " "
          EVar@2216..2221
            IDENT@2216..2220 "body"
            SPACE@2220..2221 " "
          L_BRACE@2221..2222 "{"
          EMatchBranch@2222..2253
            PatVariant@2222..2240
              Qualifier@2222..2233
                LINEFEED@2222..2223 "\n"
                SPACE@2223..2227 "    "
                UPPER_IDENT@2227..2231 "Body"
                DOUBLE_COLON@2231..2233 "::"
              UPPER_IDENT@2233..2237 "Cube"
              SPACE@2237..2238 " "
              IDENT@2238..2239 "c"
              SPACE@2239..2240 " "
            FAT_ARROW@2240..2242 "=>"
            SPACE@2242..2243 " "
            EBlock@2243..2253
              L_BRACE@2243..2244 "{"
              SPACE@2244..2245 " "
              DExpr@2245..2252
                EStructIdx@2245..2252
                  EVar@2245..2246
                    IDENT@2245..2246 "c"
                  DOT@2246..2247 "."
                  IDENT@2247..2251 "size"
                  SPACE@2251..2252 " "
              R_BRACE@2252..2253 "}"
          COMMA@2253..2254 ","
          EMatchBranch@2254..2295
            PatVariant@2254..2274
              Qualifier@2254..2265
                LINEFEED@2254..2255 "\n"
                SPACE@2255..2259 "    "
                UPPER_IDENT@2259..2263 "Body"
                DOUBLE_COLON@2263..2265 "::"
              UPPER_IDENT@2265..2271 "Circle"
              SPACE@2271..2272 " "
              IDENT@2272..2273 "c"
              SPACE@2273..2274 " "
            FAT_ARROW@2274..2276 "=>"
            SPACE@2276..2277 " "
            EBlock@2277..2295
              L_BRACE@2277..2278 "{"
              SPACE@2278..2279 " "
              DExpr@2279..2294
                EBinary@2279..2294
                  EStructIdx@2279..2288
                    EVar@2279..2280
                      IDENT@2279..2280 "c"
                    DOT@2280..2281 "."
                    IDENT@2281..2287 "radius"
                    SPACE@2287..2288 " "
                  BinOp@2288..2290
                    STAR@2288..2289 "*"
                    SPACE@2289..2290 " "
                  ELit@2290..2294
                    LitFloat@2290..2294
                      FLOAT_LIT@2290..2293 "2.0"
                      SPACE@2293..2294 " "
              R_BRACE@2294..2295 "}"
          LINEFEED@2295..2296 "\n"
          SPACE@2296..2298 "  "
          R_BRACE@2298..2299 "}"
      LINEFEED@2299..2300 "\n"
      R_BRACE@2300..2301 "}"
  TopFn@2301..2665
    LINEFEED@2301..2302 "\n"
    LINEFEED@2302..2303 "\n"
    FN_KW@2303..2305 "fn"
    SPACE@2305..2306 " "
    IDENT@2306..2315 "draw_body"
    L_PAREN@2315..2316 "("
    Param@2316..2325
      IDENT@2316..2317 "x"
      SPACE@2317..2318 " "
      COLON@2318..2319 ":"
      SPACE@2319..2320 " "
      TyFloat@2320..2323
        F32_BUILTIN@2320..2323 "f32"
      COMMA@2323..2324 ","
      SPACE@2324..2325 " "
    Param@2325..2334
      IDENT@2325..2326 "y"
      SPACE@2326..2327 " "
      COLON@2327..2328 ":"
      SPACE@2328..2329 " "
      TyFloat@2329..2332
        F32_BUILTIN@2329..2332 "f32"
      COMMA@2332..2333 ","
      SPACE@2333..2334 " "
    Param@2334..2345
      IDENT@2334..2338 "body"
      SPACE@2338..2339 " "
      COLON@2339..2340 ":"
      SPACE@2340..2341 " "
      TyCons@2341..2345
        UPPER_IDENT@2341..2345 "Body"
    R_PAREN@2345..2346 ")"
    SPACE@2346..2347 " "
    EBlock@2347..2665
      L_BRACE@2347..2348 "{"
      DExpr@2348..2663
        EMatch@2348..2663
          LINEFEED@2348..2349 "\n"
          SPACE@2349..2351 "  "
          MATCH_KW@2351..2356 "match"
          SPACE@2356..2357 " "
          EVar@2357..2362
            IDENT@2357..2361 "body"
            SPACE@2361..2362 " "
          L_BRACE@2362..2363 "{"
          EMatchBranch@2363..2520
            PatVariant@2363..2381
              Qualifier@2363..2374
                LINEFEED@2363..2364 "\n"
                SPACE@2364..2368 "    "
                UPPER_IDENT@2368..2372 "Body"
                DOUBLE_COLON@2372..2374 "::"
              UPPER_IDENT@2374..2378 "Cube"
              SPACE@2378..2379 " "
              IDENT@2379..2380 "c"
              SPACE@2380..2381 " "
            FAT_ARROW@2381..2383 "=>"
            SPACE@2383..2384 " "
            EBlock@2384..2520
              L_BRACE@2384..2385 "{"
              DExpr@2385..2407
                ECall@2385..2407
                  EVar@2385..2401
                    LINEFEED@2385..2386 "\n"
                    SPACE@2386..2394 "        "
                    IDENT@2394..2401 "move_to"
                  EArgList@2401..2407
                    L_PAREN@2401..2402 "("
                    EVar@2402..2403
                      IDENT@2402..2403 "x"
                    COMMA@2403..2404 ","
                    SPACE@2404..2405 " "
                    EVar@2405..2406
                      IDENT@2405..2406 "y"
                    R_PAREN@2406..2407 ")"
              SEMICOLON@2407..2408 ";"
              DExpr@2408..2440
                ECall@2408..2440
                  EVar@2408..2424
                    LINEFEED@2408..2409 "\n"
                    SPACE@2409..2417 "        "
                    IDENT@2417..2424 "line_to"
                  EArgList@2424..2440
                    L_PAREN@2424..2425 "("
                    EVar@2425..2427
                      IDENT@2425..2426 "x"
                      SPACE@2426..2427 " "
                    COMMA@2427..2428 ","
                    SPACE@2428..2429 " "
                    EBinary@2429..2439
                      EVar@2429..2431
                        IDENT@2429..2430 "y"
                        SPACE@2430..2431 " "
                      BinOp@2431..2433
                        PLUS@2431..2432 "+"
                        SPACE@2432..2433 " "
                      EStructIdx@2433..2439
                        EVar@2433..2434
                          IDENT@2433..2434 "c"
                        DOT@2434..2435 "."
                        IDENT@2435..2439 "size"
                    R_PAREN@2439..2440 ")"
              SEMICOLON@2440..2441 ";"
              DExpr@2441..2481
                ECall@2441..2481
                  EVar@2441..2457
                    LINEFEED@2441..2442 "\n"
                    SPACE@2442..2450 "        "
                    IDENT@2450..2457 "line_to"
                  EArgList@2457..2481
                    L_PAREN@2457..2458 "("
                    EBinary@2458..2468
                      EVar@2458..2460
                        IDENT@2458..2459 "x"
                        SPACE@2459..2460 " "
                      BinOp@2460..2462
                        PLUS@2460..2461 "+"
                        SPACE@2461..2462 " "
                      EStructIdx@2462..2468
                        EVar@2462..2463
                          IDENT@2462..2463 "c"
                        DOT@2463..2464 "."
                        IDENT@2464..2468 "size"
                    COMMA@2468..2469 ","
                    SPACE@2469..2470 " "
                    EBinary@2470..2480
                      EVar@2470..2472
                        IDENT@2470..2471 "y"
                        SPACE@2471..2472 " "
                      BinOp@2472..2474
                        PLUS@2472..2473 "+"
                        SPACE@2473..2474 " "
                      EStructIdx@2474..2480
                        EVar@2474..2475
                          IDENT@2474..2475 "c"
                        DOT@2475..2476 "."
                        IDENT@2476..2480 "size"
                    R_PAREN@2480..2481 ")"
              SEMICOLON@2481..2482 ";"
              DExpr@2482..2513
                ECall@2482..2513
                  EVar@2482..2498
                    LINEFEED@2482..2483 "\n"
                    SPACE@2483..2491 "        "
                    IDENT@2491..2498 "line_to"
                  EArgList@2498..2513
                    L_PAREN@2498..2499 "("
                    EBinary@2499..2509
                      EVar@2499..2501
                        IDENT@2499..2500 "x"
                        SPACE@2500..2501 " "
                      BinOp@2501..2503
                        PLUS@2501..2502 "+"
                        SPACE@2502..2503 " "
                      EStructIdx@2503..2509
                        EVar@2503..2504
                          IDENT@2503..2504 "c"
                        DOT@2504..2505 "."
                        IDENT@2505..2509 "size"
                    COMMA@2509..2510 ","
                    SPACE@2510..2511 " "
                    EVar@2511..2512
                      IDENT@2511..2512 "y"
                    R_PAREN@2512..2513 ")"
              SEMICOLON@2513..2514 ";"
              LINEFEED@2514..2515 "\n"
              SPACE@2515..2519 "    "
              R_BRACE@2519..2520 "}"
          COMMA@2520..2521 ","
          EMatchBranch@2521..2659
            PatVariant@2521..2541
              Qualifier@2521..2532
                LINEFEED@2521..2522 "\n"
                SPACE@2522..2526 "    "
                UPPER_IDENT@2526..2530 "Body"
                DOUBLE_COLON@2530..2532 "::"
              UPPER_IDENT@2532..2538 "Circle"
              SPACE@2538..2539 " "
              IDENT@2539..2540 "c"
              SPACE@2540..2541 " "
            FAT_ARROW@2541..2543 "=>"
            SPACE@2543..2544 " "
            EBlock@2544..2659
              L_BRACE@2544..2545 "{"
              DLet@2545..2584
                LINEFEED@2545..2546 "\n"
                SPACE@2546..2552 "      "
                LET_KW@2552..2555 "let"
                SPACE@2555..2556 " "
                IDENT@2556..2567 "half_radius"
                SPACE@2567..2568 " "
                EQUALS@2568..2569 "="
                SPACE@2569..2570 " "
                EBinary@2570..2584
                  EStructIdx@2570..2579
                    EVar@2570..2571
                      IDENT@2570..2571 "c"
                    DOT@2571..2572 "."
                    IDENT@2572..2578 "radius"
                    SPACE@2578..2579 " "
                  BinOp@2579..2581
                    SLASH@2579..2580 "/"
                    SPACE@2580..2581 " "
                  ELit@2581..2584
                    LitFloat@2581..2584
                      FLOAT_LIT@2581..2584 "2.0"
              SEMICOLON@2584..2585 ";"
              DExpr@2585..2652
                ECall@2585..2652
                  EVar@2585..2595
                    LINEFEED@2585..2586 "\n"
                    SPACE@2586..2592 "      "
                    IDENT@2592..2595 "arc"
                  EArgList@2595..2652
                    L_PAREN@2595..2596 "("
                    EBinary@2596..2611
                      EVar@2596..2598
                        IDENT@2596..2597 "x"
                        SPACE@2597..2598 " "
                      BinOp@2598..2600
                        PLUS@2598..2599 "+"
                        SPACE@2599..2600 " "
                      EVar@2600..2611
                        IDENT@2600..2611 "half_radius"
                    COMMA@2611..2612 ","
                    SPACE@2612..2613 " "
                    EBinary@2613..2628
                      EVar@2613..2615
                        IDENT@2613..2614 "y"
                        SPACE@2614..2615 " "
                      BinOp@2615..2617
                        PLUS@2615..2616 "+"
                        SPACE@2616..2617 " "
                      EVar@2617..2628
                        IDENT@2617..2628 "half_radius"
                    COMMA@2628..2629 ","
                    SPACE@2629..2630 " "
                    EStructIdx@2630..2638
                      EVar@2630..2631
                        IDENT@2630..2631 "c"
                      DOT@2631..2632 "."
                      IDENT@2632..2638 "radius"
                    COMMA@2638..2639 ","
                    SPACE@2639..2640 " "
                    ELit@2640..2643
                      LitFloat@2640..2643
                        FLOAT_LIT@2640..2643 "0.0"
                    COMMA@2643..2644 ","
                    SPACE@2644..2645 " "
                    EVar@2645..2651
                      IDENT@2645..2651 "two_pi"
                    R_PAREN@2651..2652 ")"
              SEMICOLON@2652..2653 ";"
              LINEFEED@2653..2654 "\n"
              SPACE@2654..2658 "    "
              R_BRACE@2658..2659 "}"
          LINEFEED@2659..2660 "\n"
          SPACE@2660..2662 "  "
          R_BRACE@2662..2663 "}"
      LINEFEED@2663..2664 "\n"
      R_BRACE@2664..2665 "}"
  TopFn@2665..2842
    LINEFEED@2665..2666 "\n"
    LINEFEED@2666..2667 "\n"
    FN_KW@2667..2669 "fn"
    SPACE@2669..2670 " "
    IDENT@2670..2679 "draw_cube"
    L_PAREN@2679..2680 "("
    Param@2680..2692
      IDENT@2680..2684 "cube"
      SPACE@2684..2685 " "
      COLON@2685..2686 ":"
      SPACE@2686..2687 " "
      TyCons@2687..2692
        UPPER_IDENT@2687..2692 "Shape"
    R_PAREN@2692..2693 ")"
    SPACE@2693..2694 " "
    EBlock@2694..2842
      L_BRACE@2694..2695 "{"
      DExpr@2695..2710
        ECall@2695..2710
          EVar@2695..2708
            LINEFEED@2695..2696 "\n"
            SPACE@2696..2698 "  "
            IDENT@2698..2708 "begin_path"
          EArgList@2708..2710
            L_PAREN@2708..2709 "("
            R_PAREN@2709..2710 ")"
      SEMICOLON@2710..2711 ";"
      DExpr@2711..2750
        ECall@2711..2750
          EVar@2711..2723
            LINEFEED@2711..2712 "\n"
            SPACE@2712..2714 "  "
            IDENT@2714..2723 "draw_body"
          EArgList@2723..2750
            L_PAREN@2723..2724 "("
            EStructIdx@2724..2730
              EVar@2724..2728
                IDENT@2724..2728 "cube"
              DOT@2728..2729 "."
              IDENT@2729..2730 "x"
            COMMA@2730..2731 ","
            SPACE@2731..2732 " "
            EStructIdx@2732..2738
              EVar@2732..2736
                IDENT@2732..2736 "cube"
              DOT@2736..2737 "."
              IDENT@2737..2738 "y"
            COMMA@2738..2739 ","
            SPACE@2739..2740 " "
            EStructIdx@2740..2749
              EVar@2740..2744
                IDENT@2740..2744 "cube"
              DOT@2744..2745 "."
              IDENT@2745..2749 "body"
            R_PAREN@2749..2750 ")"
      SEMICOLON@2750..2751 ";"
      DExpr@2751..2812
        ECall@2751..2812
          EVar@2751..2770
            LINEFEED@2751..2752 "\n"
            SPACE@2752..2754 "  "
            IDENT@2754..2770 "set_stroke_color"
          EArgList@2770..2812
            L_PAREN@2770..2771 "("
            EStructIdx@2771..2783
              EStructIdx@2771..2781
                EVar@2771..2775
                  IDENT@2771..2775 "cube"
                DOT@2775..2776 "."
                IDENT@2776..2781 "color"
              DOT@2781..2782 "."
              IDENT@2782..2783 "r"
            COMMA@2783..2784 ","
            SPACE@2784..2785 " "
            EStructIdx@2785..2797
              EStructIdx@2785..2795
                EVar@2785..2789
                  IDENT@2785..2789 "cube"
                DOT@2789..2790 "."
                IDENT@2790..2795 "color"
              DOT@2795..2796 "."
              IDENT@2796..2797 "g"
            COMMA@2797..2798 ","
            SPACE@2798..2799 " "
            EStructIdx@2799..2811
              EStructIdx@2799..2809
                EVar@2799..2803
                  IDENT@2799..2803 "cube"
                DOT@2803..2804 "."
                IDENT@2804..2809 "color"
              DOT@2809..2810 "."
              IDENT@2810..2811 "b"
            R_PAREN@2811..2812 ")"
      SEMICOLON@2812..2813 ";"
      DExpr@2813..2828
        ECall@2813..2828
          EVar@2813..2826
            LINEFEED@2813..2814 "\n"
            SPACE@2814..2816 "  "
            IDENT@2816..2826 "close_path"
          EArgList@2826..2828
            L_PAREN@2826..2827 "("
            R_PAREN@2827..2828 ")"
      SEMICOLON@2828..2829 ";"
      DExpr@2829..2840
        ECall@2829..2840
          EVar@2829..2838
            LINEFEED@2829..2830 "\n"
            SPACE@2830..2832 "  "
            IDENT@2832..2838 "stroke"
          EArgList@2838..2840
            L_PAREN@2838..2839 "("
            R_PAREN@2839..2840 ")"
      LINEFEED@2840..2841 "\n"
      R_BRACE@2841..2842 "}"
  TopFn@2842..3117
    LINEFEED@2842..2843 "\n"
    LINEFEED@2843..2844 "\n"
    FN_KW@2844..2846 "fn"
    SPACE@2846..2847 " "
    IDENT@2847..2860 "draw_particle"
    L_PAREN@2860..2861 "("
    Param@2861..2880
      IDENT@2861..2869 "particle"
      SPACE@2869..2870 " "
      COLON@2870..2871 ":"
      SPACE@2871..2872 " "
      TyCons@2872..2880
        UPPER_IDENT@2872..2880 "Particle"
    R_PAREN@2880..2881 ")"
    SPACE@2881..2882 " "
    EBlock@2882..3117
      L_BRACE@2882..2883 "{"
      DExpr@2883..3115
        EIf@2883..3115
          LINEFEED@2883..2884 "\n"
          SPACE@2884..2886 "  "
          IF_KW@2886..2888 "if"
          SPACE@2888..2889 " "
          EBinary@2889..2909
            EStructIdx@2889..2903
              EVar@2889..2897
                IDENT@2889..2897 "particle"
              DOT@2897..2898 "."
              IDENT@2898..2902 "time"
              SPACE@2902..2903 " "
            BinOp@2903..2905
              R_ANGLE@2903..2904 ">"
              SPACE@2904..2905 " "
            ELit@2905..2909
              LitFloat@2905..2909
                FLOAT_LIT@2905..2908 "0.0"
                SPACE@2908..2909 " "
          EBlock@2909..3108
            L_BRACE@2909..2910 "{"
            DExpr@2910..2927
              ECall@2910..2927
                EVar@2910..2925
                  LINEFEED@2910..2911 "\n"
                  SPACE@2911..2915 "    "
                  IDENT@2915..2925 "begin_path"
                EArgList@2925..2927
                  L_PAREN@2925..2926 "("
                  R_PAREN@2926..2927 ")"
            SEMICOLON@2927..2928 ";"
            DExpr@2928..3013
              ECall@2928..3013
                EVar@2928..2936
                  LINEFEED@2928..2929 "\n"
                  SPACE@2929..2933 "    "
                  IDENT@2933..2936 "arc"
                EArgList@2936..3013
                  L_PAREN@2936..2937 "("
                  EStructIdx@2937..2947
                    EVar@2937..2945
                      IDENT@2937..2945 "particle"
                    DOT@2945..2946 "."
                    IDENT@2946..2947 "x"
                  COMMA@2947..2948 ","
                  SPACE@2948..2949 " "
                  EStructIdx@2949..2959
                    EVar@2949..2957
                      IDENT@2949..2957 "particle"
                    DOT@2957..2958 "."
                    IDENT@2958..2959 "y"
                  COMMA@2959..2960 ","
                  SPACE@2960..2961 " "
                  EBinary@2961..2999
                    EParen@2961..2994
                      L_PAREN@2961..2962 "("
                      EBinary@2962..2992
                        EVar@2962..2977
                          IDENT@2962..2976 "particle_timer"
                          SPACE@2976..2977 " "
                        BinOp@2977..2979
                          MINUS@2977..2978 "-"
                          SPACE@2978..2979 " "
                        EStructIdx@2979..2992
                          EVar@2979..2987
                            IDENT@2979..2987 "particle"
                          DOT@2987..2988 "."
                          IDENT@2988..2992 "time"
                      R_PAREN@2992..2993 ")"
                      SPACE@2993..2994 " "
                    BinOp@2994..2996
                      SLASH@2994..2995 "/"
                      SPACE@2995..2996 " "
                    ELit@2996..2999
                      LitFloat@2996..2999
                        FLOAT_LIT@2996..2999 "2.0"
                  COMMA@2999..3000 ","
                  SPACE@3000..3001 " "
                  ELit@3001..3004
                    LitFloat@3001..3004
                      FLOAT_LIT@3001..3004 "0.0"
                  COMMA@3004..3005 ","
                  SPACE@3005..3006 " "
                  EVar@3006..3012
                    IDENT@3006..3012 "two_pi"
                  R_PAREN@3012..3013 ")"
            SEMICOLON@3013..3014 ";"
            DExpr@3014..3089
              ECall@3014..3089
                EVar@3014..3035
                  LINEFEED@3014..3015 "\n"
                  SPACE@3015..3019 "    "
                  IDENT@3019..3035 "set_stroke_color"
                EArgList@3035..3089
                  L_PAREN@3035..3036 "("
                  EStructIdx@3036..3052
                    EStructIdx@3036..3050
                      EVar@3036..3044
                        IDENT@3036..3044 "particle"
                      DOT@3044..3045 "."
                      IDENT@3045..3050 "color"
                    DOT@3050..3051 "."
                    IDENT@3051..3052 "r"
                  COMMA@3052..3053 ","
                  SPACE@3053..3054 " "
                  EStructIdx@3054..3070
                    EStructIdx@3054..3068
                      EVar@3054..3062
                        IDENT@3054..3062 "particle"
                      DOT@3062..3063 "."
                      IDENT@3063..3068 "color"
                    DOT@3068..3069 "."
                    IDENT@3069..3070 "g"
                  COMMA@3070..3071 ","
                  SPACE@3071..3072 " "
                  EStructIdx@3072..3088
                    EStructIdx@3072..3086
                      EVar@3072..3080
                        IDENT@3072..3080 "particle"
                      DOT@3080..3081 "."
                      IDENT@3081..3086 "color"
                    DOT@3086..3087 "."
                    IDENT@3087..3088 "b"
                  R_PAREN@3088..3089 ")"
            SEMICOLON@3089..3090 ";"
            DExpr@3090..3103
              ECall@3090..3103
                EVar@3090..3101
                  LINEFEED@3090..3091 "\n"
                  SPACE@3091..3095 "    "
                  IDENT@3095..3101 "stroke"
                EArgList@3101..3103
                  L_PAREN@3101..3102 "("
                  R_PAREN@3102..3103 ")"
            LINEFEED@3103..3104 "\n"
            SPACE@3104..3106 "  "
            R_BRACE@3106..3107 "}"
            SPACE@3107..3108 " "
          ELSE_KW@3108..3112 "else"
          SPACE@3112..3113 " "
          EBlock@3113..3115
            L_BRACE@3113..3114 "{"
            R_BRACE@3114..3115 "}"
      LINEFEED@3115..3116 "\n"
      R_BRACE@3116..3117 "}"
  TopFn@3117..3675
    LINEFEED@3117..3118 "\n"
    LINEFEED@3118..3119 "\n"
    FN_KW@3119..3121 "fn"
    SPACE@3121..3122 " "
    IDENT@3122..3135 "collide_cubes"
    L_PAREN@3135..3136 "("
    Param@3136..3148
      IDENT@3136..3138 "c1"
      SPACE@3138..3139 " "
      COLON@3139..3140 ":"
      SPACE@3140..3141 " "
      TyCons@3141..3146
        UPPER_IDENT@3141..3146 "Shape"
      COMMA@3146..3147 ","
      SPACE@3147..3148 " "
    Param@3148..3158
      IDENT@3148..3150 "c2"
      SPACE@3150..3151 " "
      COLON@3151..3152 ":"
      SPACE@3152..3153 " "
      TyCons@3153..3158
        UPPER_IDENT@3153..3158 "Shape"
    R_PAREN@3158..3159 ")"
    SPACE@3159..3160 " "
    EBlock@3160..3675
      L_BRACE@3160..3161 "{"
      DLet@3161..3238
        LINEFEED@3161..3162 "\n"
        SPACE@3162..3164 "  "
        LET_KW@3164..3167 "let"
        SPACE@3167..3168 " "
        IDENT@3168..3177 "overlap_x"
        SPACE@3177..3178 " "
        EQUALS@3178..3179 "="
        SPACE@3179..3180 " "
        EBinary@3180..3238
          EBinary@3180..3208
            EStructIdx@3180..3185
              EVar@3180..3182
                IDENT@3180..3182 "c1"
              DOT@3182..3183 "."
              IDENT@3183..3184 "x"
              SPACE@3184..3185 " "
            BinOp@3185..3187
              L_ANGLE@3185..3186 "<"
              SPACE@3186..3187 " "
            EBinary@3187..3208
              EStructIdx@3187..3192
                EVar@3187..3189
                  IDENT@3187..3189 "c2"
                DOT@3189..3190 "."
                IDENT@3190..3191 "x"
                SPACE@3191..3192 " "
              BinOp@3192..3194
                PLUS@3192..3193 "+"
                SPACE@3193..3194 " "
              ECall@3194..3208
                EVar@3194..3198
                  IDENT@3194..3198 "size"
                EArgList@3198..3208
                  L_PAREN@3198..3199 "("
                  EStructIdx@3199..3206
                    EVar@3199..3201
                      IDENT@3199..3201 "c2"
                    DOT@3201..3202 "."
                    IDENT@3202..3206 "body"
                  R_PAREN@3206..3207 ")"
                  SPACE@3207..3208 " "
          BinOp@3208..3211
            ANDAND@3208..3210 "&&"
            SPACE@3210..3211 " "
          EBinary@3211..3238
            EBinary@3211..3232
              EStructIdx@3211..3216
                EVar@3211..3213
                  IDENT@3211..3213 "c1"
                DOT@3213..3214 "."
                IDENT@3214..3215 "x"
                SPACE@3215..3216 " "
              BinOp@3216..3218
                PLUS@3216..3217 "+"
                SPACE@3217..3218 " "
              ECall@3218..3232
                EVar@3218..3222
                  IDENT@3218..3222 "size"
                EArgList@3222..3232
                  L_PAREN@3222..3223 "("
                  EStructIdx@3223..3230
                    EVar@3223..3225
                      IDENT@3223..3225 "c1"
                    DOT@3225..3226 "."
                    IDENT@3226..3230 "body"
                  R_PAREN@3230..3231 ")"
                  SPACE@3231..3232 " "
            BinOp@3232..3234
              R_ANGLE@3232..3233 ">"
              SPACE@3233..3234 " "
            EStructIdx@3234..3238
              EVar@3234..3236
                IDENT@3234..3236 "c2"
              DOT@3236..3237 "."
              IDENT@3237..3238 "x"
      SEMICOLON@3238..3239 ";"
      DLet@3239..3316
        LINEFEED@3239..3240 "\n"
        SPACE@3240..3242 "  "
        LET_KW@3242..3245 "let"
        SPACE@3245..3246 " "
        IDENT@3246..3255 "overlap_y"
        SPACE@3255..3256 " "
        EQUALS@3256..3257 "="
        SPACE@3257..3258 " "
        EBinary@3258..3316
          EBinary@3258..3286
            EStructIdx@3258..3263
              EVar@3258..3260
                IDENT@3258..3260 "c1"
              DOT@3260..3261 "."
              IDENT@3261..3262 "y"
              SPACE@3262..3263 " "
            BinOp@3263..3265
              L_ANGLE@3263..3264 "<"
              SPACE@3264..3265 " "
            EBinary@3265..3286
              EStructIdx@3265..3270
                EVar@3265..3267
                  IDENT@3265..3267 "c2"
                DOT@3267..3268 "."
                IDENT@3268..3269 "y"
                SPACE@3269..3270 " "
              BinOp@3270..3272
                PLUS@3270..3271 "+"
                SPACE@3271..3272 " "
              ECall@3272..3286
                EVar@3272..3276
                  IDENT@3272..3276 "size"
                EArgList@3276..3286
                  L_PAREN@3276..3277 "("
                  EStructIdx@3277..3284
                    EVar@3277..3279
                      IDENT@3277..3279 "c2"
                    DOT@3279..3280 "."
                    IDENT@3280..3284 "body"
                  R_PAREN@3284..3285 ")"
                  SPACE@3285..3286 " "
          BinOp@3286..3289
            ANDAND@3286..3288 "&&"
            SPACE@3288..3289 " "
          EBinary@3289..3316
            EBinary@3289..3310
              EStructIdx@3289..3294
                EVar@3289..3291
                  IDENT@3289..3291 "c1"
                DOT@3291..3292 "."
                IDENT@3292..3293 "y"
                SPACE@3293..3294 " "
              BinOp@3294..3296
                PLUS@3294..3295 "+"
                SPACE@3295..3296 " "
              ECall@3296..3310
                EVar@3296..3300
                  IDENT@3296..3300 "size"
                EArgList@3300..3310
                  L_PAREN@3300..3301 "("
                  EStructIdx@3301..3308
                    EVar@3301..3303
                      IDENT@3301..3303 "c1"
                    DOT@3303..3304 "."
                    IDENT@3304..3308 "body"
                  R_PAREN@3308..3309 ")"
                  SPACE@3309..3310 " "
            BinOp@3310..3312
              R_ANGLE@3310..3311 ">"
              SPACE@3311..3312 " "
            EStructIdx@3312..3316
              EVar@3312..3314
                IDENT@3312..3314 "c2"
              DOT@3314..3315 "."
              IDENT@3315..3316 "y"
      SEMICOLON@3316..3317 ";"
      DExpr@3317..3673
        EIf@3317..3673
          LINEFEED@3317..3318 "\n"
          LINEFEED@3318..3319 "\n"
          SPACE@3319..3321 "  "
          IF_KW@3321..3323 "if"
          SPACE@3323..3324 " "
          EBinary@3324..3347
            EVar@3324..3334
              IDENT@3324..3333 "overlap_y"
              SPACE@3333..3334 " "
            BinOp@3334..3337
              ANDAND@3334..3336 "&&"
              SPACE@3336..3337 " "
            EVar@3337..3347
              IDENT@3337..3346 "overlap_x"
              SPACE@3346..3347 " "
          EBlock@3347..3666
            L_BRACE@3347..3348 "{"
            DExpr@3348..3439
              ECall@3348..3439
                EVar@3348..3365
                  LINEFEED@3348..3349 "\n"
                  SPACE@3349..3353 "    "
                  IDENT@3353..3365 "add_particle"
                EArgList@3365..3439
                  L_PAREN@3365..3366 "("
                  EStruct@3366..3438
                    UPPER_IDENT@3366..3374 "Particle"
                    SPACE@3374..3375 " "
                    L_BRACE@3375..3376 "{"
                    SPACE@3376..3377 " "
                    EStructField@3377..3385
                      IDENT@3377..3378 "x"
                      SPACE@3378..3379 " "
                      EQUALS@3379..3380 "="
                      SPACE@3380..3381 " "
                      EStructIdx@3381..3385
                        EVar@3381..3383
                          IDENT@3381..3383 "c1"
                        DOT@3383..3384 "."
                        IDENT@3384..3385 "x"
                    COMMA@3385..3386 ","
                    SPACE@3386..3387 " "
                    EStructField@3387..3395
                      IDENT@3387..3388 "y"
                      SPACE@3388..3389 " "
                      EQUALS@3389..3390 "="
                      SPACE@3390..3391 " "
                      EStructIdx@3391..3395
                        EVar@3391..3393
                          IDENT@3391..3393 "c1"
                        DOT@3393..3394 "."
                        IDENT@3394..3395 "y"
                    COMMA@3395..3396 ","
                    SPACE@3396..3397 " "
                    EStructField@3397..3413
                      IDENT@3397..3402 "color"
                      SPACE@3402..3403 " "
                      EQUALS@3403..3404 "="
                      SPACE@3404..3405 " "
                      EStructIdx@3405..3413
                        EVar@3405..3407
                          IDENT@3405..3407 "c1"
                        DOT@3407..3408 "."
                        IDENT@3408..3413 "color"
                    COMMA@3413..3414 ","
                    SPACE@3414..3415 " "
                    EStructField@3415..3437
                      IDENT@3415..3419 "time"
                      SPACE@3419..3420 " "
                      EQUALS@3420..3421 "="
                      SPACE@3421..3422 " "
                      EVar@3422..3437
                        IDENT@3422..3436 "particle_timer"
                        SPACE@3436..3437 " "
                    R_BRACE@3437..3438 "}"
                  R_PAREN@3438..3439 ")"
            SEMICOLON@3439..3440 ";"
            DLet@3440..3471
              LINEFEED@3440..3441 "\n"
              LINEFEED@3441..3442 "\n"
              SPACE@3442..3446 "    "
              LET_KW@3446..3449 "let"
              SPACE@3449..3450 " "
              IDENT@3450..3457 "delta_x"
              SPACE@3457..3458 " "
              EQUALS@3458..3459 "="
              SPACE@3459..3460 " "
              EBinary@3460..3471
                EStructIdx@3460..3465
                  EVar@3460..3462
                    IDENT@3460..3462 "c1"
                  DOT@3462..3463 "."
                  IDENT@3463..3464 "x"
                  SPACE@3464..3465 " "
                BinOp@3465..3467
                  MINUS@3465..3466 "-"
                  SPACE@3466..3467 " "
                EStructIdx@3467..3471
                  EVar@3467..3469
                    IDENT@3467..3469 "c2"
                  DOT@3469..3470 "."
                  IDENT@3470..3471 "x"
            SEMICOLON@3471..3472 ";"
            DLet@3472..3502
              LINEFEED@3472..3473 "\n"
              SPACE@3473..3477 "    "
              LET_KW@3477..3480 "let"
              SPACE@3480..3481 " "
              IDENT@3481..3488 "delta_y"
              SPACE@3488..3489 " "
              EQUALS@3489..3490 "="
              SPACE@3490..3491 " "
              EBinary@3491..3502
                EStructIdx@3491..3496
                  EVar@3491..3493
                    IDENT@3491..3493 "c1"
                  DOT@3493..3494 "."
                  IDENT@3494..3495 "y"
                  SPACE@3495..3496 " "
                BinOp@3496..3498
                  MINUS@3496..3497 "-"
                  SPACE@3497..3498 " "
                EStructIdx@3498..3502
                  EVar@3498..3500
                    IDENT@3498..3500 "c2"
                  DOT@3500..3501 "."
                  IDENT@3501..3502 "y"
            SEMICOLON@3502..3503 ";"
            DExpr@3503..3661
              EIf@3503..3661
                LINEFEED@3503..3504 "\n"
                SPACE@3504..3508 "    "
                IF_KW@3508..3510 "if"
                SPACE@3510..3511 " "
                EBinary@3511..3547
                  ECall@3511..3528
                    EVar@3511..3518
                      IDENT@3511..3518 "f32_abs"
                    EArgList@3518..3528
                      L_PAREN@3518..3519 "("
                      EVar@3519..3526
                        IDENT@3519..3526 "delta_x"
                      R_PAREN@3526..3527 ")"
                      SPACE@3527..3528 " "
                  BinOp@3528..3530
                    R_ANGLE@3528..3529 ">"
                    SPACE@3529..3530 " "
                  ECall@3530..3547
                    EVar@3530..3537
                      IDENT@3530..3537 "f32_abs"
                    EArgList@3537..3547
                      L_PAREN@3537..3538 "("
                      EVar@3538..3545
                        IDENT@3538..3545 "delta_y"
                      R_PAREN@3545..3546 ")"
                      SPACE@3546..3547 " "
                EBlock@3547..3602
                  L_BRACE@3547..3548 "{"
                  DSet@3548..3595
                    LINEFEED@3548..3549 "\n"
                    SPACE@3549..3555 "      "
                    SET_KW@3555..3558 "set"
                    SPACE@3558..3559 " "
                    SetTarget@3559..3565
                      EStructIdx@3559..3565
                        EVar@3559..3561
                          IDENT@3559..3561 "c1"
                        DOT@3561..3562 "."
                        IDENT@3562..3564 "vx"
                        SPACE@3564..3565 " "
                    EQUALS@3565..3566 "="
                    SPACE@3566..3567 " "
                    ECall@3567..3595
                      EVar@3567..3579
                        IDENT@3567..3579 "f32_copysign"
                      EArgList@3579..3595
                        L_PAREN@3579..3580 "("
                        EStructIdx@3580..3585
                          EVar@3580..3582
                            IDENT@3580..3582 "c1"
                          DOT@3582..3583 "."
                          IDENT@3583..3585 "vx"
                        COMMA@3585..3586 ","
                        SPACE@3586..3587 " "
                        EVar@3587..3594
                          IDENT@3587..3594 "delta_x"
                        R_PAREN@3594..3595 ")"
                  LINEFEED@3595..3596 "\n"
                  SPACE@3596..3600 "    "
                  R_BRACE@3600..3601 "}"
                  SPACE@3601..3602 " "
                ELSE_KW@3602..3606 "else"
                SPACE@3606..3607 " "
                EBlock@3607..3661
                  L_BRACE@3607..3608 "{"
                  DSet@3608..3655
                    LINEFEED@3608..3609 "\n"
                    SPACE@3609..3615 "      "
                    SET_KW@3615..3618 "set"
                    SPACE@3618..3619 " "
                    SetTarget@3619..3625
                      EStructIdx@3619..3625
                        EVar@3619..3621
                          IDENT@3619..3621 "c1"
                        DOT@3621..3622 "."
                        IDENT@3622..3624 "vy"
                        SPACE@3624..3625 " "
                    EQUALS@3625..3626 "="
                    SPACE@3626..3627 " "
                    ECall@3627..3655
                      EVar@3627..3639
                        IDENT@3627..3639 "f32_copysign"
                      EArgList@3639..3655
                        L_PAREN@3639..3640 "("
                        EStructIdx@3640..3645
                          EVar@3640..3642
                            IDENT@3640..3642 "c1"
                          DOT@3642..3643 "."
                          IDENT@3643..3645 "vy"
                        COMMA@3645..3646 ","
                        SPACE@3646..3647 " "
                        EVar@3647..3654
                          IDENT@3647..3654 "delta_y"
                        R_PAREN@3654..3655 ")"
                  LINEFEED@3655..3656 "\n"
                  SPACE@3656..3660 "    "
                  R_BRACE@3660..3661 "}"
            LINEFEED@3661..3662 "\n"
            SPACE@3662..3664 "  "
            R_BRACE@3664..3665 "}"
            SPACE@3665..3666 " "
          ELSE_KW@3666..3670 "else"
          SPACE@3670..3671 " "
          EBlock@3671..3673
            L_BRACE@3671..3672 "{"
            R_BRACE@3672..3673 "}"
      LINEFEED@3673..3674 "\n"
      R_BRACE@3674..3675 "}"
  TopFn@3675..3901
    LINEFEED@3675..3676 "\n"
    LINEFEED@3676..3677 "\n"
    FN_KW@3677..3679 "fn"
    SPACE@3679..3680 " "
    IDENT@3680..3692 "collide_cube"
    L_PAREN@3692..3693 "("
    Param@3693..3705
      IDENT@3693..3697 "cube"
      SPACE@3697..3698 " "
      COLON@3698..3699 ":"
      SPACE@3699..3700 " "
      TyCons@3700..3705
        UPPER_IDENT@3700..3705 "Shape"
    R_PAREN@3705..3706 ")"
    SPACE@3706..3707 " "
    EBlock@3707..3901
      L_BRACE@3707..3708 "{"
      DLet@3708..3722
        LINEFEED@3708..3709 "\n"
        SPACE@3709..3711 "  "
        LET_KW@3711..3714 "let"
        SPACE@3714..3715 " "
        IDENT@3715..3718 "idx"
        SPACE@3718..3719 " "
        EQUALS@3719..3720 "="
        SPACE@3720..3721 " "
        ELit@3721..3722
          LitInt@3721..3722
            INT_LIT@3721..3722 "0"
      SEMICOLON@3722..3723 ";"
      DWhile@3723..3899
        LINEFEED@3723..3724 "\n"
        SPACE@3724..3726 "  "
        WHILE_KW@3726..3731 "while"
        SPACE@3731..3732 " "
        EBinary@3732..3756
          EVar@3732..3736
            IDENT@3732..3735 "idx"
            SPACE@3735..3736 " "
          BinOp@3736..3738
            L_ANGLE@3736..3737 "<"
            SPACE@3737..3738 " "
          EIntrinsic@3738..3756
            AT_IDENT@3738..3748 "@array_len"
            EArgList@3748..3756
              L_PAREN@3748..3749 "("
              EVar@3749..3754
                IDENT@3749..3754 "cubes"
              R_PAREN@3754..3755 ")"
              SPACE@3755..3756 " "
        EBlock@3756..3899
          L_BRACE@3756..3757 "{"
          DExpr@3757..3872
            EIf@3757..3872
              LINEFEED@3757..3758 "\n"
              SPACE@3758..3762 "    "
              IF_KW@3762..3764 "if"
              SPACE@3764..3765 " "
              EBinary@3765..3814
                EBinary@3765..3788
                  EStructIdx@3765..3778
                    EArrayIdx@3765..3775
                      EVar@3765..3770
                        IDENT@3765..3770 "cubes"
                      L_BRACKET@3770..3771 "["
                      EVar@3771..3774
                        IDENT@3771..3774 "idx"
                      R_BRACKET@3774..3775 "]"
                    DOT@3775..3776 "."
                    IDENT@3776..3777 "x"
                    SPACE@3777..3778 " "
                  BinOp@3778..3781
                    DOUBLE_EQUALS@3778..3780 "=="
                    SPACE@3780..3781 " "
                  EStructIdx@3781..3788
                    EVar@3781..3785
                      IDENT@3781..3785 "cube"
                    DOT@3785..3786 "."
                    IDENT@3786..3787 "x"
                    SPACE@3787..3788 " "
                BinOp@3788..3791
                  ANDAND@3788..3790 "&&"
                  SPACE@3790..3791 " "
                EBinary@3791..3814
                  EStructIdx@3791..3804
                    EArrayIdx@3791..3801
                      EVar@3791..3796
                        IDENT@3791..3796 "cubes"
                      L_BRACKET@3796..3797 "["
                      EVar@3797..3800
                        IDENT@3797..3800 "idx"
                      R_BRACKET@3800..3801 "]"
                    DOT@3801..3802 "."
                    IDENT@3802..3803 "y"
                    SPACE@3803..3804 " "
                  BinOp@3804..3807
                    DOUBLE_EQUALS@3804..3806 "=="
                    SPACE@3806..3807 " "
                  EStructIdx@3807..3814
                    EVar@3807..3811
                      IDENT@3807..3811 "cube"
                    DOT@3811..3812 "."
                    IDENT@3812..3813 "y"
                    SPACE@3813..3814 " "
              EBlock@3814..3822
                L_BRACE@3814..3815 "{"
                LINEFEED@3815..3816 "\n"
                SPACE@3816..3820 "    "
                R_BRACE@3820..3821 "}"
                SPACE@3821..3822 " "
              ELSE_KW@3822..3826 "else"
              SPACE@3826..3827 " "
              EBlock@3827..3872
                L_BRACE@3827..3828 "{"
                DExpr@3828..3866
                  ECall@3828..3866
                    EVar@3828..3848
                      LINEFEED@3828..3829 "\n"
                      SPACE@3829..3835 "      "
                      IDENT@3835..3848 "collide_cubes"
                    EArgList@3848..3866
                      L_PAREN@3848..3849 "("
                      EVar@3849..3853
                        IDENT@3849..3853 "cube"
                      COMMA@3853..3854 ","
                      SPACE@3854..3855 " "
                      EArrayIdx@3855..3865
                        EVar@3855..3860
                          IDENT@3855..3860 "cubes"
                        L_BRACKET@3860..3861 "["
                        EVar@3861..3864
                          IDENT@3861..3864 "idx"
                        R_BRACKET@3864..3865 "]"
                      R_PAREN@3865..3866 ")"
                LINEFEED@3866..3867 "\n"
                SPACE@3867..3871 "    "
                R_BRACE@3871..3872 "}"
          SEMICOLON@3872..3873 ";"
          DSet@3873..3895
            LINEFEED@3873..3874 "\n"
            SPACE@3874..3878 "    "
            SET_KW@3878..3881 "set"
            SPACE@3881..3882 " "
            SetTarget@3882..3886
              EVar@3882..3886
                IDENT@3882..3885 "idx"
                SPACE@3885..3886 " "
            EQUALS@3886..3887 "="
            SPACE@3887..3888 " "
            EBinary@3888..3895
              EVar@3888..3892
                IDENT@3888..3891 "idx"
                SPACE@3891..3892 " "
              BinOp@3892..3894
                PLUS@3892..3893 "+"
                SPACE@3893..3894 " "
              ELit@3894..3895
                LitInt@3894..3895
                  INT_LIT@3894..3895 "1"
          LINEFEED@3895..3896 "\n"
          SPACE@3896..3898 "  "
          R_BRACE@3898..3899 "}"
      LINEFEED@3899..3900 "\n"
      R_BRACE@3900..3901 "}"
  TopFn@3901..4365
    LINEFEED@3901..3902 "\n"
    LINEFEED@3902..3903 "\n"
    FN_KW@3903..3905 "fn"
    SPACE@3905..3906 " "
    IDENT@3906..3915 "tick_cube"
    L_PAREN@3915..3916 "("
    Param@3916..3930
      IDENT@3916..3920 "cube"
      SPACE@3920..3921 " "
      COLON@3921..3922 ":"
      SPACE@3922..3923 " "
      TyCons@3923..3928
        UPPER_IDENT@3923..3928 "Shape"
      COMMA@3928..3929 ","
      SPACE@3929..3930 " "
    Param@3930..3951
      IDENT@3930..3945 "elapsed_time_ms"
      SPACE@3945..3946 " "
      COLON@3946..3947 ":"
      SPACE@3947..3948 " "
      TyFloat@3948..3951
        F32_BUILTIN@3948..3951 "f32"
    R_PAREN@3951..3952 ")"
    SPACE@3952..3953 " "
    EBlock@3953..4365
      L_BRACE@3953..3954 "{"
      DLet@3954..4000
        LINEFEED@3954..3955 "\n"
        SPACE@3955..3957 "  "
        LET_KW@3957..3960 "let"
        SPACE@3960..3961 " "
        IDENT@3961..3975 "elapsed_factor"
        SPACE@3975..3976 " "
        EQUALS@3976..3977 "="
        SPACE@3977..3978 " "
        EBinary@3978..4000
          EVar@3978..3994
            IDENT@3978..3993 "elapsed_time_ms"
            SPACE@3993..3994 " "
          BinOp@3994..3996
            SLASH@3994..3995 "/"
            SPACE@3995..3996 " "
          ELit@3996..4000
            LitFloat@3996..4000
              FLOAT_LIT@3996..4000 "48.0"
      SEMICOLON@4000..4001 ";"
      DSet@4001..4051
        LINEFEED@4001..4002 "\n"
        LINEFEED@4002..4003 "\n"
        SPACE@4003..4005 "  "
        SET_KW@4005..4008 "set"
        SPACE@4008..4009 " "
        SetTarget@4009..4016
          EStructIdx@4009..4016
            EVar@4009..4013
              IDENT@4009..4013 "cube"
            DOT@4013..4014 "."
            IDENT@4014..4015 "x"
            SPACE@4015..4016 " "
        EQUALS@4016..4017 "="
        SPACE@4017..4018 " "
        EBinary@4018..4051
          EStructIdx@4018..4025
            EVar@4018..4022
              IDENT@4018..4022 "cube"
            DOT@4022..4023 "."
            IDENT@4023..4024 "x"
            SPACE@4024..4025 " "
          BinOp@4025..4027
            PLUS@4025..4026 "+"
            SPACE@4026..4027 " "
          EBinary@4027..4051
            EStructIdx@4027..4035
              EVar@4027..4031
                IDENT@4027..4031 "cube"
              DOT@4031..4032 "."
              IDENT@4032..4034 "vx"
              SPACE@4034..4035 " "
            BinOp@4035..4037
              STAR@4035..4036 "*"
              SPACE@4036..4037 " "
            EVar@4037..4051
              IDENT@4037..4051 "elapsed_factor"
      SEMICOLON@4051..4052 ";"
      DSet@4052..4101
        LINEFEED@4052..4053 "\n"
        SPACE@4053..4055 "  "
        SET_KW@4055..4058 "set"
        SPACE@4058..4059 " "
        SetTarget@4059..4066
          EStructIdx@4059..4066
            EVar@4059..4063
              IDENT@4059..4063 "cube"
            DOT@4063..4064 "."
            IDENT@4064..4065 "y"
            SPACE@4065..4066 " "
        EQUALS@4066..4067 "="
        SPACE@4067..4068 " "
        EBinary@4068..4101
          EStructIdx@4068..4075
            EVar@4068..4072
              IDENT@4068..4072 "cube"
            DOT@4072..4073 "."
            IDENT@4073..4074 "y"
            SPACE@4074..4075 " "
          BinOp@4075..4077
            PLUS@4075..4076 "+"
            SPACE@4076..4077 " "
          EBinary@4077..4101
            EStructIdx@4077..4085
              EVar@4077..4081
                IDENT@4077..4081 "cube"
              DOT@4081..4082 "."
              IDENT@4082..4084 "vy"
              SPACE@4084..4085 " "
            BinOp@4085..4087
              STAR@4085..4086 "*"
              SPACE@4086..4087 " "
            EVar@4087..4101
              IDENT@4087..4101 "elapsed_factor"
      SEMICOLON@4101..4102 ";"
      DExpr@4102..4232
        EIf@4102..4232
          LINEFEED@4102..4103 "\n"
          LINEFEED@4103..4104 "\n"
          SPACE@4104..4106 "  "
          IF_KW@4106..4108 "if"
          SPACE@4108..4109 " "
          EBinary@4109..4140
            EBinary@4109..4122
              EStructIdx@4109..4116
                EVar@4109..4113
                  IDENT@4109..4113 "cube"
                DOT@4113..4114 "."
                IDENT@4114..4115 "x"
                SPACE@4115..4116 " "
              BinOp@4116..4118
                L_ANGLE@4116..4117 "<"
                SPACE@4117..4118 " "
              ELit@4118..4122
                LitFloat@4118..4122
                  FLOAT_LIT@4118..4121 "0.0"
                  SPACE@4121..4122 " "
            BinOp@4122..4125
              OROR@4122..4124 "||"
              SPACE@4124..4125 " "
            EBinary@4125..4140
              EStructIdx@4125..4132
                EVar@4125..4129
                  IDENT@4125..4129 "cube"
                DOT@4129..4130 "."
                IDENT@4130..4131 "x"
                SPACE@4131..4132 " "
              BinOp@4132..4134
                R_ANGLE@4132..4133 ">"
                SPACE@4133..4134 " "
              ELit@4134..4140
                LitFloat@4134..4140
                  FLOAT_LIT@4134..4139 "500.0"
                  SPACE@4139..4140 " "
          EBlock@4140..4225
            L_BRACE@4140..4141 "{"
            DSet@4141..4184
              LINEFEED@4141..4142 "\n"
              SPACE@4142..4146 "    "
              SET_KW@4146..4149 "set"
              SPACE@4149..4150 " "
              SetTarget@4150..4157
                EStructIdx@4150..4157
                  EVar@4150..4154
                    IDENT@4150..4154 "cube"
                  DOT@4154..4155 "."
                  IDENT@4155..4156 "x"
                  SPACE@4156..4157 " "
              EQUALS@4157..4158 "="
              SPACE@4158..4159 " "
              ECall@4159..4184
                EVar@4159..4164
                  IDENT@4159..4164 "clamp"
                EArgList@4164..4184
                  L_PAREN@4164..4165 "("
                  ELit@4165..4168
                    LitFloat@4165..4168
                      FLOAT_LIT@4165..4168 "0.0"
                  COMMA@4168..4169 ","
                  SPACE@4169..4170 " "
                  EStructIdx@4170..4176
                    EVar@4170..4174
                      IDENT@4170..4174 "cube"
                    DOT@4174..4175 "."
                    IDENT@4175..4176 "x"
                  COMMA@4176..4177 ","
                  SPACE@4177..4178 " "
                  ELit@4178..4183
                    LitFloat@4178..4183
                      FLOAT_LIT@4178..4183 "500.0"
                  R_PAREN@4183..4184 ")"
            SEMICOLON@4184..4185 ";"
            DSet@4185..4220
              LINEFEED@4185..4186 "\n"
              SPACE@4186..4190 "    "
              SET_KW@4190..4193 "set"
              SPACE@4193..4194 " "
              SetTarget@4194..4202
                EStructIdx@4194..4202
                  EVar@4194..4198
                    IDENT@4194..4198 "cube"
                  DOT@4198..4199 "."
                  IDENT@4199..4201 "vx"
                  SPACE@4201..4202 " "
              EQUALS@4202..4203 "="
              SPACE@4203..4204 " "
              ECall@4204..4220
                EVar@4204..4211
                  IDENT@4204..4211 "f32_neg"
                EArgList@4211..4220
                  L_PAREN@4211..4212 "("
                  EStructIdx@4212..4219
                    EVar@4212..4216
                      IDENT@4212..4216 "cube"
                    DOT@4216..4217 "."
                    IDENT@4217..4219 "vx"
                  R_PAREN@4219..4220 ")"
            LINEFEED@4220..4221 "\n"
            SPACE@4221..4223 "  "
            R_BRACE@4223..4224 "}"
            SPACE@4224..4225 " "
          ELSE_KW@4225..4229 "else"
          SPACE@4229..4230 " "
          EBlock@4230..4232
            L_BRACE@4230..4231 "{"
            R_BRACE@4231..4232 "}"
      SEMICOLON@4232..4233 ";"
      DExpr@4233..4363
        EIf@4233..4363
          LINEFEED@4233..4234 "\n"
          LINEFEED@4234..4235 "\n"
          SPACE@4235..4237 "  "
          IF_KW@4237..4239 "if"
          SPACE@4239..4240 " "
          EBinary@4240..4271
            EBinary@4240..4253
              EStructIdx@4240..4247
                EVar@4240..4244
                  IDENT@4240..4244 "cube"
                DOT@4244..4245 "."
                IDENT@4245..4246 "y"
                SPACE@4246..4247 " "
              BinOp@4247..4249
                L_ANGLE@4247..4248 "<"
                SPACE@4248..4249 " "
              ELit@4249..4253
                LitFloat@4249..4253
                  FLOAT_LIT@4249..4252 "0.0"
                  SPACE@4252..4253 " "
            BinOp@4253..4256
              OROR@4253..4255 "||"
              SPACE@4255..4256 " "
            EBinary@4256..4271
              EStructIdx@4256..4263
                EVar@4256..4260
                  IDENT@4256..4260 "cube"
                DOT@4260..4261 "."
                IDENT@4261..4262 "y"
                SPACE@4262..4263 " "
              BinOp@4263..4265
                R_ANGLE@4263..4264 ">"
                SPACE@4264..4265 " "
              ELit@4265..4271
                LitFloat@4265..4271
                  FLOAT_LIT@4265..4270 "500.0"
                  SPACE@4270..4271 " "
          EBlock@4271..4356
            L_BRACE@4271..4272 "{"
            DSet@4272..4315
              LINEFEED@4272..4273 "\n"
              SPACE@4273..4277 "    "
              SET_KW@4277..4280 "set"
              SPACE@4280..4281 " "
              SetTarget@4281..4288
                EStructIdx@4281..4288
                  EVar@4281..4285
                    IDENT@4281..4285 "cube"
                  DOT@4285..4286 "."
                  IDENT@4286..4287 "y"
                  SPACE@4287..4288 " "
              EQUALS@4288..4289 "="
              SPACE@4289..4290 " "
              ECall@4290..4315
                EVar@4290..4295
                  IDENT@4290..4295 "clamp"
                EArgList@4295..4315
                  L_PAREN@4295..4296 "("
                  ELit@4296..4299
                    LitFloat@4296..4299
                      FLOAT_LIT@4296..4299 "0.0"
                  COMMA@4299..4300 ","
                  SPACE@4300..4301 " "
                  EStructIdx@4301..4307
                    EVar@4301..4305
                      IDENT@4301..4305 "cube"
                    DOT@4305..4306 "."
                    IDENT@4306..4307 "y"
                  COMMA@4307..4308 ","
                  SPACE@4308..4309 " "
                  ELit@4309..4314
                    LitFloat@4309..4314
                      FLOAT_LIT@4309..4314 "500.0"
                  R_PAREN@4314..4315 ")"
            SEMICOLON@4315..4316 ";"
            DSet@4316..4351
              LINEFEED@4316..4317 "\n"
              SPACE@4317..4321 "    "
              SET_KW@4321..4324 "set"
              SPACE@4324..4325 " "
              SetTarget@4325..4333
                EStructIdx@4325..4333
                  EVar@4325..4329
                    IDENT@4325..4329 "cube"
                  DOT@4329..4330 "."
                  IDENT@4330..4332 "vy"
                  SPACE@4332..4333 " "
              EQUALS@4333..4334 "="
              SPACE@4334..4335 " "
              ECall@4335..4351
                EVar@4335..4342
                  IDENT@4335..4342 "f32_neg"
                EArgList@4342..4351
                  L_PAREN@4342..4343 "("
                  EStructIdx@4343..4350
                    EVar@4343..4347
                      IDENT@4343..4347 "cube"
                    DOT@4347..4348 "."
                    IDENT@4348..4350 "vy"
                  R_PAREN@4350..4351 ")"
            LINEFEED@4351..4352 "\n"
            SPACE@4352..4354 "  "
            R_BRACE@4354..4355 "}"
            SPACE@4355..4356 " "
          ELSE_KW@4356..4360 "else"
          SPACE@4360..4361 " "
          EBlock@4361..4363
            L_BRACE@4361..4362 "{"
            R_BRACE@4362..4363 "}"
      LINEFEED@4363..4364 "\n"
      R_BRACE@4364..4365 "}"
  TopFn@4365..4834
    LINEFEED@4365..4366 "\n"
    LINEFEED@4366..4367 "\n"
    FN_KW@4367..4369 "fn"
    SPACE@4369..4370 " "
    IDENT@4370..4374 "tick"
    L_PAREN@4374..4375 "("
    Param@4375..4396
      IDENT@4375..4390 "elapsed_time_ms"
      SPACE@4390..4391 " "
      COLON@4391..4392 ":"
      SPACE@4392..4393 " "
      TyFloat@4393..4396
        F32_BUILTIN@4393..4396 "f32"
    R_PAREN@4396..4397 ")"
    SPACE@4397..4398 " "
    EBlock@4398..4834
      L_BRACE@4398..4399 "{"
      DExpr@4399..4409
        ECall@4399..4409
          EVar@4399..4407
            LINEFEED@4399..4400 "\n"
            SPACE@4400..4402 "  "
            IDENT@4402..4407 "clear"
          EArgList@4407..4409
            L_PAREN@4407..4408 "("
            R_PAREN@4408..4409 ")"
      SEMICOLON@4409..4410 ";"
      DLet@4410..4425
        LINEFEED@4410..4411 "\n"
        LINEFEED@4411..4412 "\n"
        SPACE@4412..4414 "  "
        LET_KW@4414..4417 "let"
        SPACE@4417..4418 " "
        IDENT@4418..4421 "idx"
        SPACE@4421..4422 " "
        EQUALS@4422..4423 "="
        SPACE@4423..4424 " "
        ELit@4424..4425
          LitInt@4424..4425
            INT_LIT@4424..4425 "0"
      SEMICOLON@4425..4426 ";"
      DWhile@4426..4588
        LINEFEED@4426..4427 "\n"
        SPACE@4427..4429 "  "
        WHILE_KW@4429..4434 "while"
        SPACE@4434..4435 " "
        EBinary@4435..4459
          EVar@4435..4439
            IDENT@4435..4438 "idx"
            SPACE@4438..4439 " "
          BinOp@4439..4441
            L_ANGLE@4439..4440 "<"
            SPACE@4440..4441 " "
          EIntrinsic@4441..4459
            AT_IDENT@4441..4451 "@array_len"
            EArgList@4451..4459
              L_PAREN@4451..4452 "("
              EVar@4452..4457
                IDENT@4452..4457 "cubes"
              R_PAREN@4457..4458 ")"
              SPACE@4458..4459 " "
        EBlock@4459..4588
          L_BRACE@4459..4460 "{"
          DExpr@4460..4489
            ECall@4460..4489
              EVar@4460..4477
                LINEFEED@4460..4461 "\n"
                SPACE@4461..4465 "    "
                IDENT@4465..4477 "collide_cube"
              EArgList@4477..4489
                L_PAREN@4477..4478 "("
                EArrayIdx@4478..4488
                  EVar@4478..4483
                    IDENT@4478..4483 "cubes"
                  L_BRACKET@4483..4484 "["
                  EVar@4484..4487
                    IDENT@4484..4487 "idx"
                  R_BRACKET@4487..4488 "]"
                R_PAREN@4488..4489 ")"
          SEMICOLON@4489..4490 ";"
          DExpr@4490..4533
            ECall@4490..4533
              EVar@4490..4504
                LINEFEED@4490..4491 "\n"
                SPACE@4491..4495 "    "
                IDENT@4495..4504 "tick_cube"
              EArgList@4504..4533
                L_PAREN@4504..4505 "("
                EArrayIdx@4505..4515
                  EVar@4505..4510
                    IDENT@4505..4510 "cubes"
                  L_BRACKET@4510..4511 "["
                  EVar@4511..4514
                    IDENT@4511..4514 "idx"
                  R_BRACKET@4514..4515 "]"
                COMMA@4515..4516 ","
                SPACE@4516..4517 " "
                EVar@4517..4532
                  IDENT@4517..4532 "elapsed_time_ms"
                R_PAREN@4532..4533 ")"
          SEMICOLON@4533..4534 ";"
          DExpr@4534..4560
            ECall@4534..4560
              EVar@4534..4548
                LINEFEED@4534..4535 "\n"
                SPACE@4535..4539 "    "
                IDENT@4539..4548 "draw_cube"
              EArgList@4548..4560
                L_PAREN@4548..4549 "("
                EArrayIdx@4549..4559
                  EVar@4549..4554
                    IDENT@4549..4554 "cubes"
                  L_BRACKET@4554..4555 "["
                  EVar@4555..4558
                    IDENT@4555..4558 "idx"
                  R_BRACKET@4558..4559 "]"
                R_PAREN@4559..4560 ")"
          SEMICOLON@4560..4561 ";"
          DSet@4561..4584
            LINEFEED@4561..4562 "\n"
            LINEFEED@4562..4563 "\n"
            SPACE@4563..4567 "    "
            SET_KW@4567..4570 "set"
            SPACE@4570..4571 " "
            SetTarget@4571..4575
              EVar@4571..4575
                IDENT@4571..4574 "idx"
                SPACE@4574..4575 " "
            EQUALS@4575..4576 "="
            SPACE@4576..4577 " "
            EBinary@4577..4584
              EVar@4577..4581
                IDENT@4577..4580 "idx"
                SPACE@4580..4581 " "
              BinOp@4581..4583
                PLUS@4581..4582 "+"
                SPACE@4582..4583 " "
              ELit@4583..4584
                LitInt@4583..4584
                  INT_LIT@4583..4584 "1"
          LINEFEED@4584..4585 "\n"
          SPACE@4585..4587 "  "
          R_BRACE@4587..4588 "}"
      SEMICOLON@4588..4589 ";"
      DSet@4589..4604
        LINEFEED@4589..4590 "\n"
        LINEFEED@4590..4591 "\n"
        SPACE@4591..4593 "  "
        SET_KW@4593..4596 "set"
        SPACE@4596..4597 " "
        SetTarget@4597..4601
          EVar@4597..4601
            IDENT@4597..4600 "idx"
            SPACE@4600..4601 " "
        EQUALS@4601..4602 "="
        SPACE@4602..4603 " "
        ELit@4603..4604
          LitInt@4603..4604
            INT_LIT@4603..4604 "0"
      SEMICOLON@4604..4605 ";"
      DWhile@4605..4832
        LINEFEED@4605..4606 "\n"
        SPACE@4606..4608 "  "
        WHILE_KW@4608..4613 "while"
        SPACE@4613..4614 " "
        EBinary@4614..4649
          EVar@4614..4618
            IDENT@4614..4617 "idx"
            SPACE@4617..4618 " "
          BinOp@4618..4620
            L_ANGLE@4618..4619 "<"
            SPACE@4619..4620 " "
          EIntrinsic@4620..4649
            AT_IDENT@4620..4630 "@array_len"
            EArgList@4630..4649
              L_PAREN@4630..4631 "("
              EStructIdx@4631..4647
                EVar@4631..4640
                  IDENT@4631..4640 "particles"
                DOT@4640..4641 "."
                IDENT@4641..4647 "buffer"
              R_PAREN@4647..4648 ")"
              SPACE@4648..4649 " "
        EBlock@4649..4832
          L_BRACE@4649..4650 "{"
          DExpr@4650..4691
            ECall@4650..4691
              EVar@4650..4668
                LINEFEED@4650..4651 "\n"
                SPACE@4651..4655 "    "
                IDENT@4655..4668 "draw_particle"
              EArgList@4668..4691
                L_PAREN@4668..4669 "("
                EArrayIdx@4669..4690
                  EStructIdx@4669..4685
                    EVar@4669..4678
                      IDENT@4669..4678 "particles"
                    DOT@4678..4679 "."
                    IDENT@4679..4685 "buffer"
                  L_BRACKET@4685..4686 "["
                  EVar@4686..4689
                    IDENT@4686..4689 "idx"
                  R_BRACKET@4689..4690 "]"
                R_PAREN@4690..4691 ")"
          SEMICOLON@4691..4692 ";"
          DLet@4692..4733
            LINEFEED@4692..4693 "\n"
            SPACE@4693..4697 "    "
            LET_KW@4697..4700 "let"
            SPACE@4700..4701 " "
            IDENT@4701..4709 "particle"
            SPACE@4709..4710 " "
            EQUALS@4710..4711 "="
            SPACE@4711..4712 " "
            EArrayIdx@4712..4733
              EStructIdx@4712..4728
                EVar@4712..4721
                  IDENT@4712..4721 "particles"
                DOT@4721..4722 "."
                IDENT@4722..4728 "buffer"
              L_BRACKET@4728..4729 "["
              EVar@4729..4732
                IDENT@4729..4732 "idx"
              R_BRACKET@4732..4733 "]"
          SEMICOLON@4733..4734 ";"
          DSet@4734..4804
            LINEFEED@4734..4735 "\n"
            SPACE@4735..4739 "    "
            SET_KW@4739..4742 "set"
            SPACE@4742..4743 " "
            SetTarget@4743..4757
              EStructIdx@4743..4757
                EVar@4743..4751
                  IDENT@4743..4751 "particle"
                DOT@4751..4752 "."
                IDENT@4752..4756 "time"
                SPACE@4756..4757 " "
            EQUALS@4757..4758 "="
            SPACE@4758..4759 " "
            ECall@4759..4804
              EVar@4759..4766
                IDENT@4759..4766 "f32_max"
              EArgList@4766..4804
                L_PAREN@4766..4767 "("
                ELit@4767..4770
                  LitFloat@4767..4770
                    FLOAT_LIT@4767..4770 "0.0"
                COMMA@4770..4771 ","
                SPACE@4771..4772 " "
                EBinary@4772..4803
                  EStructIdx@4772..4786
                    EVar@4772..4780
                      IDENT@4772..4780 "particle"
                    DOT@4780..4781 "."
                    IDENT@4781..4785 "time"
                    SPACE@4785..4786 " "
                  BinOp@4786..4788
                    MINUS@4786..4787 "-"
                    SPACE@4787..4788 " "
                  EVar@4788..4803
                    IDENT@4788..4803 "elapsed_time_ms"
                R_PAREN@4803..4804 ")"
          SEMICOLON@4804..4805 ";"
          DSet@4805..4828
            LINEFEED@4805..4806 "\n"
            LINEFEED@4806..4807 "\n"
            SPACE@4807..4811 "    "
            SET_KW@4811..4814 "set"
            SPACE@4814..4815 " "
            SetTarget@4815..4819
              EVar@4815..4819
                IDENT@4815..4818 "idx"
                SPACE@4818..4819 " "
            EQUALS@4819..4820 "="
            SPACE@4820..4821 " "
            EBinary@4821..4828
              EVar@4821..4825
                IDENT@4821..4824 "idx"
                SPACE@4824..4825 " "
              BinOp@4825..4827
                PLUS@4825..4826 "+"
                SPACE@4826..4827 " "
              ELit@4827..4828
                LitInt@4827..4828
                  INT_LIT@4827..4828 "1"
          LINEFEED@4828..4829 "\n"
          SPACE@4829..4831 "  "
          R_BRACE@4831..4832 "}"
      LINEFEED@4832..4833 "\n"
      R_BRACE@4833..4834 "}"
