---
source: packages/frontend/tests/parser.rs
expression: output
---
Root@0..4766
  TopImport@0..51
    IMPORT_KW@0..6 "import"
    SPACE@6..7 " "
    ImpInternal@7..15
      IDENT@7..14 "move_to"
      SPACE@14..15 " "
    COLON@15..16 ":"
    SPACE@16..17 " "
    TyFn@17..39
      FN_KW@17..19 "fn"
      SPACE@19..20 " "
      TyArgList@20..31
        L_PAREN@20..21 "("
        TyFloat@21..24
          F32_BUILTIN@21..24 "f32"
        COMMA@24..25 ","
        SPACE@25..26 " "
        TyFloat@26..29
          F32_BUILTIN@26..29 "f32"
        R_PAREN@29..30 ")"
        SPACE@30..31 " "
      ARROW@31..33 "->"
      SPACE@33..34 " "
      TyUnit@34..39
        UNIT_BUILTIN@34..38 "unit"
        SPACE@38..39 " "
    FROM_KW@39..43 "from"
    SPACE@43..44 " "
    ImpExternal@44..51
      IDENT@44..51 "move_to"
  TopImport@51..103
    LINEFEED@51..52 "\n"
    IMPORT_KW@52..58 "import"
    SPACE@58..59 " "
    ImpInternal@59..67
      IDENT@59..66 "line_to"
      SPACE@66..67 " "
    COLON@67..68 ":"
    SPACE@68..69 " "
    TyFn@69..91
      FN_KW@69..71 "fn"
      SPACE@71..72 " "
      TyArgList@72..83
        L_PAREN@72..73 "("
        TyFloat@73..76
          F32_BUILTIN@73..76 "f32"
        COMMA@76..77 ","
        SPACE@77..78 " "
        TyFloat@78..81
          F32_BUILTIN@78..81 "f32"
        R_PAREN@81..82 ")"
        SPACE@82..83 " "
      ARROW@83..85 "->"
      SPACE@85..86 " "
      TyUnit@86..91
        UNIT_BUILTIN@86..90 "unit"
        SPACE@90..91 " "
    FROM_KW@91..95 "from"
    SPACE@95..96 " "
    ImpExternal@96..103
      IDENT@96..103 "line_to"
  TopImport@103..162
    LINEFEED@103..104 "\n"
    IMPORT_KW@104..110 "import"
    SPACE@110..111 " "
    ImpInternal@111..115
      IDENT@111..114 "arc"
      SPACE@114..115 " "
    COLON@115..116 ":"
    SPACE@116..117 " "
    TyFn@117..154
      FN_KW@117..119 "fn"
      SPACE@119..120 " "
      TyArgList@120..146
        L_PAREN@120..121 "("
        TyFloat@121..124
          F32_BUILTIN@121..124 "f32"
        COMMA@124..125 ","
        SPACE@125..126 " "
        TyFloat@126..129
          F32_BUILTIN@126..129 "f32"
        COMMA@129..130 ","
        SPACE@130..131 " "
        TyFloat@131..134
          F32_BUILTIN@131..134 "f32"
        COMMA@134..135 ","
        SPACE@135..136 " "
        TyFloat@136..139
          F32_BUILTIN@136..139 "f32"
        COMMA@139..140 ","
        SPACE@140..141 " "
        TyFloat@141..144
          F32_BUILTIN@141..144 "f32"
        R_PAREN@144..145 ")"
        SPACE@145..146 " "
      ARROW@146..148 "->"
      SPACE@148..149 " "
      TyUnit@149..154
        UNIT_BUILTIN@149..153 "unit"
        SPACE@153..154 " "
    FROM_KW@154..158 "from"
    SPACE@158..159 " "
    ImpExternal@159..162
      IDENT@159..162 "arc"
  TopImport@162..237
    LINEFEED@162..163 "\n"
    IMPORT_KW@163..169 "import"
    SPACE@169..170 " "
    ImpInternal@170..187
      IDENT@170..186 "set_stroke_color"
      SPACE@186..187 " "
    COLON@187..188 ":"
    SPACE@188..189 " "
    TyFn@189..216
      FN_KW@189..191 "fn"
      SPACE@191..192 " "
      TyArgList@192..208
        L_PAREN@192..193 "("
        TyFloat@193..196
          F32_BUILTIN@193..196 "f32"
        COMMA@196..197 ","
        SPACE@197..198 " "
        TyFloat@198..201
          F32_BUILTIN@198..201 "f32"
        COMMA@201..202 ","
        SPACE@202..203 " "
        TyFloat@203..206
          F32_BUILTIN@203..206 "f32"
        R_PAREN@206..207 ")"
        SPACE@207..208 " "
      ARROW@208..210 "->"
      SPACE@210..211 " "
      TyUnit@211..216
        UNIT_BUILTIN@211..215 "unit"
        SPACE@215..216 " "
    FROM_KW@216..220 "from"
    SPACE@220..221 " "
    ImpExternal@221..237
      IDENT@221..237 "set_stroke_color"
  TopImport@237..287
    LINEFEED@237..238 "\n"
    IMPORT_KW@238..244 "import"
    SPACE@244..245 " "
    ImpInternal@245..256
      IDENT@245..255 "begin_path"
      SPACE@255..256 " "
    COLON@256..257 ":"
    SPACE@257..258 " "
    TyFn@258..272
      FN_KW@258..260 "fn"
      SPACE@260..261 " "
      TyArgList@261..264
        L_PAREN@261..262 "("
        R_PAREN@262..263 ")"
        SPACE@263..264 " "
      ARROW@264..266 "->"
      SPACE@266..267 " "
      TyUnit@267..272
        UNIT_BUILTIN@267..271 "unit"
        SPACE@271..272 " "
    FROM_KW@272..276 "from"
    SPACE@276..277 " "
    ImpExternal@277..287
      IDENT@277..287 "begin_path"
  TopImport@287..337
    LINEFEED@287..288 "\n"
    IMPORT_KW@288..294 "import"
    SPACE@294..295 " "
    ImpInternal@295..306
      IDENT@295..305 "close_path"
      SPACE@305..306 " "
    COLON@306..307 ":"
    SPACE@307..308 " "
    TyFn@308..322
      FN_KW@308..310 "fn"
      SPACE@310..311 " "
      TyArgList@311..314
        L_PAREN@311..312 "("
        R_PAREN@312..313 ")"
        SPACE@313..314 " "
      ARROW@314..316 "->"
      SPACE@316..317 " "
      TyUnit@317..322
        UNIT_BUILTIN@317..321 "unit"
        SPACE@321..322 " "
    FROM_KW@322..326 "from"
    SPACE@326..327 " "
    ImpExternal@327..337
      IDENT@327..337 "close_path"
  TopImport@337..379
    LINEFEED@337..338 "\n"
    IMPORT_KW@338..344 "import"
    SPACE@344..345 " "
    ImpInternal@345..352
      IDENT@345..351 "stroke"
      SPACE@351..352 " "
    COLON@352..353 ":"
    SPACE@353..354 " "
    TyFn@354..368
      FN_KW@354..356 "fn"
      SPACE@356..357 " "
      TyArgList@357..360
        L_PAREN@357..358 "("
        R_PAREN@358..359 ")"
        SPACE@359..360 " "
      ARROW@360..362 "->"
      SPACE@362..363 " "
      TyUnit@363..368
        UNIT_BUILTIN@363..367 "unit"
        SPACE@367..368 " "
    FROM_KW@368..372 "from"
    SPACE@372..373 " "
    ImpExternal@373..379
      IDENT@373..379 "stroke"
  TopImport@379..426
    LINEFEED@379..380 "\n"
    IMPORT_KW@380..386 "import"
    SPACE@386..387 " "
    ImpInternal@387..393
      IDENT@387..392 "clear"
      SPACE@392..393 " "
    COLON@393..394 ":"
    SPACE@394..395 " "
    TyFn@395..409
      FN_KW@395..397 "fn"
      SPACE@397..398 " "
      TyArgList@398..401
        L_PAREN@398..399 "("
        R_PAREN@399..400 ")"
        SPACE@400..401 " "
      ARROW@401..403 "->"
      SPACE@403..404 " "
      TyUnit@404..409
        UNIT_BUILTIN@404..408 "unit"
        SPACE@408..409 " "
    FROM_KW@409..413 "from"
    SPACE@413..414 " "
    ImpExternal@414..426
      IDENT@414..426 "clear_canvas"
  TopStruct@426..476
    LINEFEED@426..427 "\n"
    LINEFEED@427..428 "\n"
    STRUCT_KW@428..434 "struct"
    SPACE@434..435 " "
    UPPER_IDENT@435..440 "Color"
    SPACE@440..441 " "
    L_BRACE@441..442 "{"
    StructField@442..452
      LINEFEED@442..443 "\n"
      SPACE@443..445 "  "
      IDENT@445..446 "r"
      SPACE@446..447 " "
      COLON@447..448 ":"
      SPACE@448..449 " "
      TyFloat@449..452
        F32_BUILTIN@449..452 "f32"
    COMMA@452..453 ","
    StructField@453..463
      LINEFEED@453..454 "\n"
      SPACE@454..456 "  "
      IDENT@456..457 "g"
      SPACE@457..458 " "
      COLON@458..459 ":"
      SPACE@459..460 " "
      TyFloat@460..463
        F32_BUILTIN@460..463 "f32"
    COMMA@463..464 ","
    StructField@464..474
      LINEFEED@464..465 "\n"
      SPACE@465..467 "  "
      IDENT@467..468 "b"
      SPACE@468..469 " "
      COLON@469..470 ":"
      SPACE@470..471 " "
      TyFloat@471..474
        F32_BUILTIN@471..474 "f32"
    LINEFEED@474..475 "\n"
    R_BRACE@475..476 "}"
  TopVariant@476..569
    LINEFEED@476..477 "\n"
    LINEFEED@477..478 "\n"
    VARIANT_KW@478..485 "variant"
    SPACE@485..486 " "
    UPPER_IDENT@486..490 "Body"
    SPACE@490..491 " "
    L_BRACE@491..492 "{"
    TopStruct@492..527
      LINEFEED@492..493 "\n"
      SPACE@493..495 "  "
      STRUCT_KW@495..501 "struct"
      SPACE@501..502 " "
      UPPER_IDENT@502..506 "Cube"
      SPACE@506..507 " "
      L_BRACE@507..508 "{"
      StructField@508..523
        LINEFEED@508..509 "\n"
        SPACE@509..513 "    "
        IDENT@513..517 "size"
        SPACE@517..518 " "
        COLON@518..519 ":"
        SPACE@519..520 " "
        TyFloat@520..523
          F32_BUILTIN@520..523 "f32"
      LINEFEED@523..524 "\n"
      SPACE@524..526 "  "
      R_BRACE@526..527 "}"
    COMMA@527..528 ","
    TopStruct@528..567
      LINEFEED@528..529 "\n"
      SPACE@529..531 "  "
      STRUCT_KW@531..537 "struct"
      SPACE@537..538 " "
      UPPER_IDENT@538..544 "Circle"
      SPACE@544..545 " "
      L_BRACE@545..546 "{"
      StructField@546..563
        LINEFEED@546..547 "\n"
        SPACE@547..551 "    "
        IDENT@551..557 "radius"
        SPACE@557..558 " "
        COLON@558..559 ":"
        SPACE@559..560 " "
        TyFloat@560..563
          F32_BUILTIN@560..563 "f32"
      LINEFEED@563..564 "\n"
      SPACE@564..566 "  "
      R_BRACE@566..567 "}"
    LINEFEED@567..568 "\n"
    R_BRACE@568..569 "}"
  TopStruct@569..664
    LINEFEED@569..570 "\n"
    LINEFEED@570..571 "\n"
    STRUCT_KW@571..577 "struct"
    SPACE@577..578 " "
    UPPER_IDENT@578..583 "Shape"
    SPACE@583..584 " "
    L_BRACE@584..585 "{"
    StructField@585..595
      LINEFEED@585..586 "\n"
      SPACE@586..588 "  "
      IDENT@588..589 "x"
      SPACE@589..590 " "
      COLON@590..591 ":"
      SPACE@591..592 " "
      TyFloat@592..595
        F32_BUILTIN@592..595 "f32"
    COMMA@595..596 ","
    StructField@596..606
      LINEFEED@596..597 "\n"
      SPACE@597..599 "  "
      IDENT@599..600 "y"
      SPACE@600..601 " "
      COLON@601..602 ":"
      SPACE@602..603 " "
      TyFloat@603..606
        F32_BUILTIN@603..606 "f32"
    COMMA@606..607 ","
    StructField@607..618
      LINEFEED@607..608 "\n"
      SPACE@608..610 "  "
      IDENT@610..612 "vx"
      SPACE@612..613 " "
      COLON@613..614 ":"
      SPACE@614..615 " "
      TyFloat@615..618
        F32_BUILTIN@615..618 "f32"
    COMMA@618..619 ","
    StructField@619..630
      LINEFEED@619..620 "\n"
      SPACE@620..622 "  "
      IDENT@622..624 "vy"
      SPACE@624..625 " "
      COLON@625..626 ":"
      SPACE@626..627 " "
      TyFloat@627..630
        F32_BUILTIN@627..630 "f32"
    COMMA@630..631 ","
    StructField@631..645
      LINEFEED@631..632 "\n"
      SPACE@632..634 "  "
      IDENT@634..638 "body"
      SPACE@638..639 " "
      COLON@639..640 ":"
      SPACE@640..641 " "
      TyCons@641..645
        UPPER_IDENT@641..645 "Body"
    COMMA@645..646 ","
    StructField@646..662
      LINEFEED@646..647 "\n"
      SPACE@647..649 "  "
      IDENT@649..654 "color"
      SPACE@654..655 " "
      COLON@655..656 ":"
      SPACE@656..657 " "
      TyCons@657..662
        UPPER_IDENT@657..662 "Color"
    LINEFEED@662..663 "\n"
    R_BRACE@663..664 "}"
  TopStruct@664..737
    LINEFEED@664..665 "\n"
    LINEFEED@665..666 "\n"
    STRUCT_KW@666..672 "struct"
    SPACE@672..673 " "
    UPPER_IDENT@673..681 "Particle"
    SPACE@681..682 " "
    L_BRACE@682..683 "{"
    StructField@683..693
      LINEFEED@683..684 "\n"
      SPACE@684..686 "  "
      IDENT@686..687 "x"
      SPACE@687..688 " "
      COLON@688..689 ":"
      SPACE@689..690 " "
      TyFloat@690..693
        F32_BUILTIN@690..693 "f32"
    COMMA@693..694 ","
    StructField@694..704
      LINEFEED@694..695 "\n"
      SPACE@695..697 "  "
      IDENT@697..698 "y"
      SPACE@698..699 " "
      COLON@699..700 ":"
      SPACE@700..701 " "
      TyFloat@701..704
        F32_BUILTIN@701..704 "f32"
    COMMA@704..705 ","
    StructField@705..721
      LINEFEED@705..706 "\n"
      SPACE@706..708 "  "
      IDENT@708..713 "color"
      SPACE@713..714 " "
      COLON@714..715 ":"
      SPACE@715..716 " "
      TyCons@716..721
        UPPER_IDENT@716..721 "Color"
    COMMA@721..722 ","
    StructField@722..735
      LINEFEED@722..723 "\n"
      SPACE@723..725 "  "
      IDENT@725..729 "time"
      SPACE@729..730 " "
      COLON@730..731 ":"
      SPACE@731..732 " "
      TyFloat@732..735
        F32_BUILTIN@732..735 "f32"
    LINEFEED@735..736 "\n"
    R_BRACE@736..737 "}"
  TopStruct@737..801
    LINEFEED@737..738 "\n"
    LINEFEED@738..739 "\n"
    STRUCT_KW@739..745 "struct"
    SPACE@745..746 " "
    UPPER_IDENT@746..756 "RingBuffer"
    SPACE@756..757 " "
    L_BRACE@757..758 "{"
    StructField@758..780
      LINEFEED@758..759 "\n"
      SPACE@759..761 "  "
      IDENT@761..767 "buffer"
      SPACE@767..768 " "
      COLON@768..769 ":"
      SPACE@769..770 " "
      TyArray@770..780
        L_BRACKET@770..771 "["
        TyCons@771..779
          UPPER_IDENT@771..779 "Particle"
        R_BRACKET@779..780 "]"
    COMMA@780..781 ","
    StructField@781..799
      LINEFEED@781..782 "\n"
      SPACE@782..784 "  "
      IDENT@784..793 "watermark"
      SPACE@793..794 " "
      COLON@794..795 ":"
      SPACE@795..796 " "
      TyInt@796..799
        I32_BUILTIN@796..799 "i32"
    LINEFEED@799..800 "\n"
    R_BRACE@800..801 "}"
  TopGlobal@801..838
    LINEFEED@801..802 "\n"
    LINEFEED@802..803 "\n"
    GLOBAL_KW@803..809 "global"
    SPACE@809..810 " "
    IDENT@810..816 "two_pi"
    SPACE@816..817 " "
    EQUALS@817..818 "="
    SPACE@818..819 " "
    EBinary@819..838
      ELit@819..833
        LitFloat@819..833
          FLOAT_LIT@819..832 "3.14159265359"
          SPACE@832..833 " "
      BinOp@833..835
        STAR@833..834 "*"
        SPACE@834..835 " "
      ELit@835..838
        LitFloat@835..838
          FLOAT_LIT@835..838 "2.0"
  TopGlobal@838..868
    LINEFEED@838..839 "\n"
    GLOBAL_KW@839..845 "global"
    SPACE@845..846 " "
    IDENT@846..860 "particle_timer"
    SPACE@860..861 " "
    EQUALS@861..862 "="
    SPACE@862..863 " "
    ELit@863..868
      LitFloat@863..868
        FLOAT_LIT@863..868 "200.0"
  TopGlobal@868..920
    LINEFEED@868..869 "\n"
    LINEFEED@869..870 "\n"
    GLOBAL_KW@870..876 "global"
    SPACE@876..877 " "
    IDENT@877..880 "red"
    SPACE@880..881 " "
    EQUALS@881..882 "="
    SPACE@882..883 " "
    EStruct@883..920
      UPPER_IDENT@883..888 "Color"
      SPACE@888..889 " "
      L_BRACE@889..890 "{"
      SPACE@890..891 " "
      EStructField@891..900
        IDENT@891..892 "r"
        SPACE@892..893 " "
        EQUALS@893..894 "="
        SPACE@894..895 " "
        ELit@895..900
          LitFloat@895..900
            FLOAT_LIT@895..900 "180.0"
      COMMA@900..901 ","
      SPACE@901..902 " "
      EStructField@902..909
        IDENT@902..903 "g"
        SPACE@903..904 " "
        EQUALS@904..905 "="
        SPACE@905..906 " "
        ELit@906..909
          LitFloat@906..909
            FLOAT_LIT@906..909 "0.0"
      COMMA@909..910 ","
      SPACE@910..911 " "
      EStructField@911..919
        IDENT@911..912 "b"
        SPACE@912..913 " "
        EQUALS@913..914 "="
        SPACE@914..915 " "
        ELit@915..919
          LitFloat@915..919
            FLOAT_LIT@915..918 "0.0"
            SPACE@918..919 " "
      R_BRACE@919..920 "}"
  TopGlobal@920..973
    LINEFEED@920..921 "\n"
    GLOBAL_KW@921..927 "global"
    SPACE@927..928 " "
    IDENT@928..933 "green"
    SPACE@933..934 " "
    EQUALS@934..935 "="
    SPACE@935..936 " "
    EStruct@936..973
      UPPER_IDENT@936..941 "Color"
      SPACE@941..942 " "
      L_BRACE@942..943 "{"
      SPACE@943..944 " "
      EStructField@944..951
        IDENT@944..945 "r"
        SPACE@945..946 " "
        EQUALS@946..947 "="
        SPACE@947..948 " "
        ELit@948..951
          LitFloat@948..951
            FLOAT_LIT@948..951 "0.0"
      COMMA@951..952 ","
      SPACE@952..953 " "
      EStructField@953..962
        IDENT@953..954 "g"
        SPACE@954..955 " "
        EQUALS@955..956 "="
        SPACE@956..957 " "
        ELit@957..962
          LitFloat@957..962
            FLOAT_LIT@957..962 "180.0"
      COMMA@962..963 ","
      SPACE@963..964 " "
      EStructField@964..972
        IDENT@964..965 "b"
        SPACE@965..966 " "
        EQUALS@966..967 "="
        SPACE@967..968 " "
        ELit@968..972
          LitFloat@968..972
            FLOAT_LIT@968..971 "0.0"
            SPACE@971..972 " "
      R_BRACE@972..973 "}"
  TopGlobal@973..1025
    LINEFEED@973..974 "\n"
    GLOBAL_KW@974..980 "global"
    SPACE@980..981 " "
    IDENT@981..985 "blue"
    SPACE@985..986 " "
    EQUALS@986..987 "="
    SPACE@987..988 " "
    EStruct@988..1025
      UPPER_IDENT@988..993 "Color"
      SPACE@993..994 " "
      L_BRACE@994..995 "{"
      SPACE@995..996 " "
      EStructField@996..1003
        IDENT@996..997 "r"
        SPACE@997..998 " "
        EQUALS@998..999 "="
        SPACE@999..1000 " "
        ELit@1000..1003
          LitFloat@1000..1003
            FLOAT_LIT@1000..1003 "0.0"
      COMMA@1003..1004 ","
      SPACE@1004..1005 " "
      EStructField@1005..1012
        IDENT@1005..1006 "g"
        SPACE@1006..1007 " "
        EQUALS@1007..1008 "="
        SPACE@1008..1009 " "
        ELit@1009..1012
          LitFloat@1009..1012
            FLOAT_LIT@1009..1012 "0.0"
      COMMA@1012..1013 ","
      SPACE@1013..1014 " "
      EStructField@1014..1024
        IDENT@1014..1015 "b"
        SPACE@1015..1016 " "
        EQUALS@1016..1017 "="
        SPACE@1017..1018 " "
        ELit@1018..1024
          LitFloat@1018..1024
            FLOAT_LIT@1018..1023 "180.0"
            SPACE@1023..1024 " "
      R_BRACE@1024..1025 "}"
  TopGlobal@1025..1773
    LINEFEED@1025..1026 "\n"
    LINEFEED@1026..1027 "\n"
    GLOBAL_KW@1027..1033 "global"
    SPACE@1033..1034 " "
    IDENT@1034..1039 "cubes"
    SPACE@1039..1040 " "
    EQUALS@1040..1041 "="
    SPACE@1041..1042 " "
    EArray@1042..1773
      L_BRACKET@1042..1043 "["
      EStruct@1043..1144
        LINEFEED@1043..1044 "\n"
        SPACE@1044..1046 "  "
        UPPER_IDENT@1046..1051 "Shape"
        SPACE@1051..1052 " "
        L_BRACE@1052..1053 "{"
        SPACE@1053..1054 " "
        EStructField@1054..1063
          IDENT@1054..1055 "x"
          SPACE@1055..1056 " "
          EQUALS@1056..1057 "="
          SPACE@1057..1060 "   "
          ELit@1060..1063
            LitFloat@1060..1063
              FLOAT_LIT@1060..1063 "0.0"
        COMMA@1063..1064 ","
        SPACE@1064..1065 " "
        EStructField@1065..1072
          IDENT@1065..1066 "y"
          SPACE@1066..1067 " "
          EQUALS@1067..1068 "="
          SPACE@1068..1069 " "
          ELit@1069..1072
            LitFloat@1069..1072
              FLOAT_LIT@1069..1072 "0.0"
        COMMA@1072..1073 ","
        SPACE@1073..1074 " "
        EStructField@1074..1083
          IDENT@1074..1076 "vx"
          SPACE@1076..1077 " "
          EQUALS@1077..1078 "="
          SPACE@1078..1080 "  "
          ELit@1080..1083
            LitFloat@1080..1083
              FLOAT_LIT@1080..1083 "9.0"
        COMMA@1083..1084 ","
        SPACE@1084..1085 " "
        EStructField@1085..1094
          IDENT@1085..1087 "vy"
          SPACE@1087..1088 " "
          EQUALS@1088..1089 "="
          SPACE@1089..1090 " "
          ELit@1090..1094
            LitFloat@1090..1094
              FLOAT_LIT@1090..1094 "14.0"
        COMMA@1094..1095 ","
        SPACE@1095..1096 " "
        EStructField@1096..1129
          IDENT@1096..1100 "body"
          SPACE@1100..1101 " "
          EQUALS@1101..1102 "="
          SPACE@1102..1103 " "
          EStruct@1103..1129
            Qualifier@1103..1109
              UPPER_IDENT@1103..1107 "Body"
              DOUBLE_COLON@1107..1109 "::"
            UPPER_IDENT@1109..1113 "Cube"
            SPACE@1113..1114 " "
            L_BRACE@1114..1115 "{"
            SPACE@1115..1116 " "
            EStructField@1116..1128
              IDENT@1116..1120 "size"
              SPACE@1120..1121 " "
              EQUALS@1121..1122 "="
              SPACE@1122..1123 " "
              ELit@1123..1128
                LitFloat@1123..1128
                  FLOAT_LIT@1123..1127 "10.0"
                  SPACE@1127..1128 " "
            R_BRACE@1128..1129 "}"
        COMMA@1129..1130 ","
        SPACE@1130..1131 " "
        EStructField@1131..1143
          IDENT@1131..1136 "color"
          SPACE@1136..1137 " "
          EQUALS@1137..1138 "="
          SPACE@1138..1139 " "
          EVar@1139..1143
            IDENT@1139..1142 "red"
            SPACE@1142..1143 " "
        R_BRACE@1143..1144 "}"
      COMMA@1144..1145 ","
      EStruct@1145..1248
        LINEFEED@1145..1146 "\n"
        SPACE@1146..1148 "  "
        UPPER_IDENT@1148..1153 "Shape"
        SPACE@1153..1154 " "
        L_BRACE@1154..1155 "{"
        SPACE@1155..1156 " "
        EStructField@1156..1165
          IDENT@1156..1157 "x"
          SPACE@1157..1158 " "
          EQUALS@1158..1159 "="
          SPACE@1159..1160 " "
          ELit@1160..1165
            LitFloat@1160..1165
              FLOAT_LIT@1160..1165 "100.0"
        COMMA@1165..1166 ","
        SPACE@1166..1167 " "
        EStructField@1167..1174
          IDENT@1167..1168 "y"
          SPACE@1168..1169 " "
          EQUALS@1169..1170 "="
          SPACE@1170..1171 " "
          ELit@1171..1174
            LitFloat@1171..1174
              FLOAT_LIT@1171..1174 "0.0"
        COMMA@1174..1175 ","
        SPACE@1175..1176 " "
        EStructField@1176..1185
          IDENT@1176..1178 "vx"
          SPACE@1178..1179 " "
          EQUALS@1179..1180 "="
          SPACE@1180..1181 " "
          ELit@1181..1185
            LitFloat@1181..1185
              FLOAT_LIT@1181..1185 "10.0"
        COMMA@1185..1186 ","
        SPACE@1186..1187 " "
        EStructField@1187..1196
          IDENT@1187..1189 "vy"
          SPACE@1189..1190 " "
          EQUALS@1190..1191 "="
          SPACE@1191..1192 " "
          ELit@1192..1196
            LitFloat@1192..1196
              FLOAT_LIT@1192..1196 "13.0"
        COMMA@1196..1197 ","
        SPACE@1197..1198 " "
        EStructField@1198..1231
          IDENT@1198..1202 "body"
          SPACE@1202..1203 " "
          EQUALS@1203..1204 "="
          SPACE@1204..1205 " "
          EStruct@1205..1231
            Qualifier@1205..1211
              UPPER_IDENT@1205..1209 "Body"
              DOUBLE_COLON@1209..1211 "::"
            UPPER_IDENT@1211..1215 "Cube"
            SPACE@1215..1216 " "
            L_BRACE@1216..1217 "{"
            SPACE@1217..1218 " "
            EStructField@1218..1230
              IDENT@1218..1222 "size"
              SPACE@1222..1223 " "
              EQUALS@1223..1224 "="
              SPACE@1224..1225 " "
              ELit@1225..1230
                LitFloat@1225..1230
                  FLOAT_LIT@1225..1229 "15.0"
                  SPACE@1229..1230 " "
            R_BRACE@1230..1231 "}"
        COMMA@1231..1232 ","
        SPACE@1232..1233 " "
        EStructField@1233..1247
          IDENT@1233..1238 "color"
          SPACE@1238..1239 " "
          EQUALS@1239..1240 "="
          SPACE@1240..1241 " "
          EVar@1241..1247
            IDENT@1241..1246 "green"
            SPACE@1246..1247 " "
        R_BRACE@1247..1248 "}"
      COMMA@1248..1249 ","
      EStruct@1249..1355
        LINEFEED@1249..1250 "\n"
        SPACE@1250..1252 "  "
        UPPER_IDENT@1252..1257 "Shape"
        SPACE@1257..1258 " "
        L_BRACE@1258..1259 "{"
        SPACE@1259..1260 " "
        EStructField@1260..1269
          IDENT@1260..1261 "x"
          SPACE@1261..1262 " "
          EQUALS@1262..1263 "="
          SPACE@1263..1264 " "
          ELit@1264..1269
            LitFloat@1264..1269
              FLOAT_LIT@1264..1269 "200.0"
        COMMA@1269..1270 ","
        SPACE@1270..1271 " "
        EStructField@1271..1278
          IDENT@1271..1272 "y"
          SPACE@1272..1273 " "
          EQUALS@1273..1274 "="
          SPACE@1274..1275 " "
          ELit@1275..1278
            LitFloat@1275..1278
              FLOAT_LIT@1275..1278 "0.0"
        COMMA@1278..1279 ","
        SPACE@1279..1280 " "
        EStructField@1280..1289
          IDENT@1280..1282 "vx"
          SPACE@1282..1283 " "
          EQUALS@1283..1284 "="
          SPACE@1284..1285 " "
          ELit@1285..1289
            LitFloat@1285..1289
              FLOAT_LIT@1285..1289 "11.0"
        COMMA@1289..1290 ","
        SPACE@1290..1291 " "
        EStructField@1291..1300
          IDENT@1291..1293 "vy"
          SPACE@1293..1294 " "
          EQUALS@1294..1295 "="
          SPACE@1295..1296 " "
          ELit@1296..1300
            LitFloat@1296..1300
              FLOAT_LIT@1296..1300 "12.0"
        COMMA@1300..1301 ","
        SPACE@1301..1302 " "
        EStructField@1302..1339
          IDENT@1302..1306 "body"
          SPACE@1306..1307 " "
          EQUALS@1307..1308 "="
          SPACE@1308..1309 " "
          EStruct@1309..1339
            Qualifier@1309..1315
              UPPER_IDENT@1309..1313 "Body"
              DOUBLE_COLON@1313..1315 "::"
            UPPER_IDENT@1315..1321 "Circle"
            SPACE@1321..1322 " "
            L_BRACE@1322..1323 "{"
            SPACE@1323..1324 " "
            EStructField@1324..1338
              IDENT@1324..1330 "radius"
              SPACE@1330..1331 " "
              EQUALS@1331..1332 "="
              SPACE@1332..1333 " "
              ELit@1333..1338
                LitFloat@1333..1338
                  FLOAT_LIT@1333..1337 "10.0"
                  SPACE@1337..1338 " "
            R_BRACE@1338..1339 "}"
        COMMA@1339..1340 ","
        SPACE@1340..1341 " "
        EStructField@1341..1354
          IDENT@1341..1346 "color"
          SPACE@1346..1347 " "
          EQUALS@1347..1348 "="
          SPACE@1348..1349 " "
          EVar@1349..1354
            IDENT@1349..1353 "blue"
            SPACE@1353..1354 " "
        R_BRACE@1354..1355 "}"
      COMMA@1355..1356 ","
      EStruct@1356..1458
        LINEFEED@1356..1357 "\n"
        SPACE@1357..1359 "  "
        UPPER_IDENT@1359..1364 "Shape"
        SPACE@1364..1365 " "
        L_BRACE@1365..1366 "{"
        SPACE@1366..1367 " "
        EStructField@1367..1376
          IDENT@1367..1368 "x"
          SPACE@1368..1369 " "
          EQUALS@1369..1370 "="
          SPACE@1370..1371 " "
          ELit@1371..1376
            LitFloat@1371..1376
              FLOAT_LIT@1371..1376 "300.0"
        COMMA@1376..1377 ","
        SPACE@1377..1378 " "
        EStructField@1378..1385
          IDENT@1378..1379 "y"
          SPACE@1379..1380 " "
          EQUALS@1380..1381 "="
          SPACE@1381..1382 " "
          ELit@1382..1385
            LitFloat@1382..1385
              FLOAT_LIT@1382..1385 "0.0"
        COMMA@1385..1386 ","
        SPACE@1386..1387 " "
        EStructField@1387..1396
          IDENT@1387..1389 "vx"
          SPACE@1389..1390 " "
          EQUALS@1390..1391 "="
          SPACE@1391..1392 " "
          ELit@1392..1396
            LitFloat@1392..1396
              FLOAT_LIT@1392..1396 "12.0"
        COMMA@1396..1397 ","
        SPACE@1397..1398 " "
        EStructField@1398..1407
          IDENT@1398..1400 "vy"
          SPACE@1400..1401 " "
          EQUALS@1401..1402 "="
          SPACE@1402..1403 " "
          ELit@1403..1407
            LitFloat@1403..1407
              FLOAT_LIT@1403..1407 "11.0"
        COMMA@1407..1408 ","
        SPACE@1408..1409 " "
        EStructField@1409..1442
          IDENT@1409..1413 "body"
          SPACE@1413..1414 " "
          EQUALS@1414..1415 "="
          SPACE@1415..1416 " "
          EStruct@1416..1442
            Qualifier@1416..1422
              UPPER_IDENT@1416..1420 "Body"
              DOUBLE_COLON@1420..1422 "::"
            UPPER_IDENT@1422..1426 "Cube"
            SPACE@1426..1427 " "
            L_BRACE@1427..1428 "{"
            SPACE@1428..1429 " "
            EStructField@1429..1441
              IDENT@1429..1433 "size"
              SPACE@1433..1434 " "
              EQUALS@1434..1435 "="
              SPACE@1435..1436 " "
              ELit@1436..1441
                LitFloat@1436..1441
                  FLOAT_LIT@1436..1440 "25.0"
                  SPACE@1440..1441 " "
            R_BRACE@1441..1442 "}"
        COMMA@1442..1443 ","
        SPACE@1443..1444 " "
        EStructField@1444..1457
          IDENT@1444..1449 "color"
          SPACE@1449..1450 " "
          EQUALS@1450..1451 "="
          SPACE@1451..1452 " "
          EVar@1452..1457
            IDENT@1452..1456 "blue"
            SPACE@1456..1457 " "
        R_BRACE@1457..1458 "}"
      COMMA@1458..1459 ","
      EStruct@1459..1562
        LINEFEED@1459..1460 "\n"
        SPACE@1460..1462 "  "
        UPPER_IDENT@1462..1467 "Shape"
        SPACE@1467..1468 " "
        L_BRACE@1468..1469 "{"
        SPACE@1469..1470 " "
        EStructField@1470..1479
          IDENT@1470..1471 "x"
          SPACE@1471..1472 " "
          EQUALS@1472..1473 "="
          SPACE@1473..1474 " "
          ELit@1474..1479
            LitFloat@1474..1479
              FLOAT_LIT@1474..1479 "400.0"
        COMMA@1479..1480 ","
        SPACE@1480..1481 " "
        EStructField@1481..1488
          IDENT@1481..1482 "y"
          SPACE@1482..1483 " "
          EQUALS@1483..1484 "="
          SPACE@1484..1485 " "
          ELit@1485..1488
            LitFloat@1485..1488
              FLOAT_LIT@1485..1488 "0.0"
        COMMA@1488..1489 ","
        SPACE@1489..1490 " "
        EStructField@1490..1499
          IDENT@1490..1492 "vx"
          SPACE@1492..1493 " "
          EQUALS@1493..1494 "="
          SPACE@1494..1495 " "
          ELit@1495..1499
            LitFloat@1495..1499
              FLOAT_LIT@1495..1499 "13.0"
        COMMA@1499..1500 ","
        SPACE@1500..1501 " "
        EStructField@1501..1510
          IDENT@1501..1503 "vy"
          SPACE@1503..1504 " "
          EQUALS@1504..1505 "="
          SPACE@1505..1506 " "
          ELit@1506..1510
            LitFloat@1506..1510
              FLOAT_LIT@1506..1510 "10.0"
        COMMA@1510..1511 ","
        SPACE@1511..1512 " "
        EStructField@1512..1545
          IDENT@1512..1516 "body"
          SPACE@1516..1517 " "
          EQUALS@1517..1518 "="
          SPACE@1518..1519 " "
          EStruct@1519..1545
            Qualifier@1519..1525
              UPPER_IDENT@1519..1523 "Body"
              DOUBLE_COLON@1523..1525 "::"
            UPPER_IDENT@1525..1529 "Cube"
            SPACE@1529..1530 " "
            L_BRACE@1530..1531 "{"
            SPACE@1531..1532 " "
            EStructField@1532..1544
              IDENT@1532..1536 "size"
              SPACE@1536..1537 " "
              EQUALS@1537..1538 "="
              SPACE@1538..1539 " "
              ELit@1539..1544
                LitFloat@1539..1544
                  FLOAT_LIT@1539..1543 "30.0"
                  SPACE@1543..1544 " "
            R_BRACE@1544..1545 "}"
        COMMA@1545..1546 ","
        SPACE@1546..1547 " "
        EStructField@1547..1561
          IDENT@1547..1552 "color"
          SPACE@1552..1553 " "
          EQUALS@1553..1554 "="
          SPACE@1554..1555 " "
          EVar@1555..1561
            IDENT@1555..1560 "green"
            SPACE@1560..1561 " "
        R_BRACE@1561..1562 "}"
      COMMA@1562..1563 ","
      EStruct@1563..1668
        LINEFEED@1563..1564 "\n"
        SPACE@1564..1566 "  "
        UPPER_IDENT@1566..1571 "Shape"
        SPACE@1571..1572 " "
        L_BRACE@1572..1573 "{"
        SPACE@1573..1574 " "
        EStructField@1574..1583
          IDENT@1574..1575 "x"
          SPACE@1575..1576 " "
          EQUALS@1576..1577 "="
          SPACE@1577..1578 " "
          ELit@1578..1583
            LitFloat@1578..1583
              FLOAT_LIT@1578..1583 "500.0"
        COMMA@1583..1584 ","
        SPACE@1584..1585 " "
        EStructField@1585..1592
          IDENT@1585..1586 "y"
          SPACE@1586..1587 " "
          EQUALS@1587..1588 "="
          SPACE@1588..1589 " "
          ELit@1589..1592
            LitFloat@1589..1592
              FLOAT_LIT@1589..1592 "0.0"
        COMMA@1592..1593 ","
        SPACE@1593..1594 " "
        EStructField@1594..1603
          IDENT@1594..1596 "vx"
          SPACE@1596..1597 " "
          EQUALS@1597..1598 "="
          SPACE@1598..1599 " "
          ELit@1599..1603
            LitFloat@1599..1603
              FLOAT_LIT@1599..1603 "14.0"
        COMMA@1603..1604 ","
        SPACE@1604..1605 " "
        EStructField@1605..1614
          IDENT@1605..1607 "vy"
          SPACE@1607..1608 " "
          EQUALS@1608..1609 "="
          SPACE@1609..1611 "  "
          ELit@1611..1614
            LitFloat@1611..1614
              FLOAT_LIT@1611..1614 "9.0"
        COMMA@1614..1615 ","
        SPACE@1615..1616 " "
        EStructField@1616..1653
          IDENT@1616..1620 "body"
          SPACE@1620..1621 " "
          EQUALS@1621..1622 "="
          SPACE@1622..1623 " "
          EStruct@1623..1653
            Qualifier@1623..1629
              UPPER_IDENT@1623..1627 "Body"
              DOUBLE_COLON@1627..1629 "::"
            UPPER_IDENT@1629..1635 "Circle"
            SPACE@1635..1636 " "
            L_BRACE@1636..1637 "{"
            SPACE@1637..1638 " "
            EStructField@1638..1652
              IDENT@1638..1644 "radius"
              SPACE@1644..1645 " "
              EQUALS@1645..1646 "="
              SPACE@1646..1647 " "
              ELit@1647..1652
                LitFloat@1647..1652
                  FLOAT_LIT@1647..1651 "17.0"
                  SPACE@1651..1652 " "
            R_BRACE@1652..1653 "}"
        COMMA@1653..1654 ","
        SPACE@1654..1655 " "
        EStructField@1655..1667
          IDENT@1655..1660 "color"
          SPACE@1660..1661 " "
          EQUALS@1661..1662 "="
          SPACE@1662..1663 " "
          EVar@1663..1667
            IDENT@1663..1666 "red"
            SPACE@1666..1667 " "
        R_BRACE@1667..1668 "}"
      COMMA@1668..1669 ","
      EStruct@1669..1771
        LINEFEED@1669..1670 "\n"
        SPACE@1670..1672 "  "
        UPPER_IDENT@1672..1677 "Shape"
        SPACE@1677..1678 " "
        L_BRACE@1678..1679 "{"
        SPACE@1679..1680 " "
        EStructField@1680..1689
          IDENT@1680..1681 "x"
          SPACE@1681..1682 " "
          EQUALS@1682..1683 "="
          SPACE@1683..1684 " "
          ELit@1684..1689
            LitFloat@1684..1689
              FLOAT_LIT@1684..1689 "500.0"
        COMMA@1689..1690 ","
        SPACE@1690..1691 " "
        EStructField@1691..1698
          IDENT@1691..1692 "y"
          SPACE@1692..1693 " "
          EQUALS@1693..1694 "="
          SPACE@1694..1695 " "
          ELit@1695..1698
            LitFloat@1695..1698
              FLOAT_LIT@1695..1698 "0.0"
        COMMA@1698..1699 ","
        SPACE@1699..1700 " "
        EStructField@1700..1709
          IDENT@1700..1702 "vx"
          SPACE@1702..1703 " "
          EQUALS@1703..1704 "="
          SPACE@1704..1705 " "
          ELit@1705..1709
            LitFloat@1705..1709
              FLOAT_LIT@1705..1709 "19.0"
        COMMA@1709..1710 ","
        SPACE@1710..1711 " "
        EStructField@1711..1720
          IDENT@1711..1713 "vy"
          SPACE@1713..1714 " "
          EQUALS@1714..1715 "="
          SPACE@1715..1716 " "
          ELit@1716..1720
            LitFloat@1716..1720
              FLOAT_LIT@1716..1720 "17.0"
        COMMA@1720..1721 ","
        SPACE@1721..1722 " "
        EStructField@1722..1755
          IDENT@1722..1726 "body"
          SPACE@1726..1727 " "
          EQUALS@1727..1728 "="
          SPACE@1728..1729 " "
          EStruct@1729..1755
            Qualifier@1729..1735
              UPPER_IDENT@1729..1733 "Body"
              DOUBLE_COLON@1733..1735 "::"
            UPPER_IDENT@1735..1739 "Cube"
            SPACE@1739..1740 " "
            L_BRACE@1740..1741 "{"
            SPACE@1741..1742 " "
            EStructField@1742..1754
              IDENT@1742..1746 "size"
              SPACE@1746..1747 " "
              EQUALS@1747..1748 "="
              SPACE@1748..1749 " "
              ELit@1749..1754
                LitFloat@1749..1754
                  FLOAT_LIT@1749..1753 "35.0"
                  SPACE@1753..1754 " "
            R_BRACE@1754..1755 "}"
        COMMA@1755..1756 ","
        SPACE@1756..1757 " "
        EStructField@1757..1770
          IDENT@1757..1762 "color"
          SPACE@1762..1763 " "
          EQUALS@1763..1764 "="
          SPACE@1764..1765 " "
          EVar@1765..1770
            IDENT@1765..1769 "blue"
            SPACE@1769..1770 " "
        R_BRACE@1770..1771 "}"
      LINEFEED@1771..1772 "\n"
      R_BRACKET@1772..1773 "]"
  TopGlobal@1773..1907
    LINEFEED@1773..1774 "\n"
    LINEFEED@1774..1775 "\n"
    GLOBAL_KW@1775..1781 "global"
    SPACE@1781..1782 " "
    IDENT@1782..1791 "particles"
    SPACE@1791..1792 " "
    EQUALS@1792..1793 "="
    SPACE@1793..1794 " "
    EStruct@1794..1907
      UPPER_IDENT@1794..1804 "RingBuffer"
      SPACE@1804..1805 " "
      L_BRACE@1805..1806 "{"
      EStructField@1806..1888
        LINEFEED@1806..1807 "\n"
        SPACE@1807..1809 "  "
        IDENT@1809..1815 "buffer"
        SPACE@1815..1816 " "
        EQUALS@1816..1817 "="
        SPACE@1817..1818 " "
        EIntrinsic@1818..1888
          AT_IDENT@1818..1828 "@array_new"
          EArgList@1828..1888
            L_PAREN@1828..1829 "("
            EStruct@1829..1883
              UPPER_IDENT@1829..1837 "Particle"
              SPACE@1837..1838 " "
              L_BRACE@1838..1839 "{"
              SPACE@1839..1840 " "
              EStructField@1840..1847
                IDENT@1840..1841 "x"
                SPACE@1841..1842 " "
                EQUALS@1842..1843 "="
                SPACE@1843..1844 " "
                ELit@1844..1847
                  LitFloat@1844..1847
                    FLOAT_LIT@1844..1847 "0.0"
              COMMA@1847..1848 ","
              SPACE@1848..1849 " "
              EStructField@1849..1856
                IDENT@1849..1850 "y"
                SPACE@1850..1851 " "
                EQUALS@1851..1852 "="
                SPACE@1852..1853 " "
                ELit@1853..1856
                  LitFloat@1853..1856
                    FLOAT_LIT@1853..1856 "0.0"
              COMMA@1856..1857 ","
              SPACE@1857..1858 " "
              EStructField@1858..1869
                IDENT@1858..1863 "color"
                SPACE@1863..1864 " "
                EQUALS@1864..1865 "="
                SPACE@1865..1866 " "
                EVar@1866..1869
                  IDENT@1866..1869 "red"
              COMMA@1869..1870 ","
              SPACE@1870..1871 " "
              EStructField@1871..1882
                IDENT@1871..1875 "time"
                SPACE@1875..1876 " "
                EQUALS@1876..1877 "="
                SPACE@1877..1878 " "
                ELit@1878..1882
                  LitFloat@1878..1882
                    FLOAT_LIT@1878..1881 "0.0"
                    SPACE@1881..1882 " "
              R_BRACE@1882..1883 "}"
            COMMA@1883..1884 ","
            SPACE@1884..1885 " "
            ELit@1885..1887
              LitInt@1885..1887
                INT_LIT@1885..1887 "25"
            R_PAREN@1887..1888 ")"
      COMMA@1888..1889 ","
      EStructField@1889..1905
        LINEFEED@1889..1890 "\n"
        SPACE@1890..1892 "  "
        IDENT@1892..1901 "watermark"
        SPACE@1901..1902 " "
        EQUALS@1902..1903 "="
        SPACE@1903..1904 " "
        ELit@1904..1905
          LitInt@1904..1905
            INT_LIT@1904..1905 "0"
      LINEFEED@1905..1906 "\n"
      R_BRACE@1906..1907 "}"
  TopFn@1907..2088
    LINEFEED@1907..1908 "\n"
    LINEFEED@1908..1909 "\n"
    FN_KW@1909..1911 "fn"
    SPACE@1911..1912 " "
    IDENT@1912..1924 "add_particle"
    L_PAREN@1924..1925 "("
    Param@1925..1937
      IDENT@1925..1926 "p"
      SPACE@1926..1927 " "
      COLON@1927..1928 ":"
      SPACE@1928..1929 " "
      TyCons@1929..1937
        UPPER_IDENT@1929..1937 "Particle"
    R_PAREN@1937..1938 ")"
    SPACE@1938..1939 " "
    EBlock@1939..2088
      L_BRACE@1939..1940 "{"
      DSet@1940..1988
        LINEFEED@1940..1941 "\n"
        SPACE@1941..1943 "  "
        SET_KW@1943..1946 "set"
        SPACE@1946..1947 " "
        SetTarget@1947..1985
          EArrayIdx@1947..1985
            EStructIdx@1947..1963
              EVar@1947..1956
                IDENT@1947..1956 "particles"
              DOT@1956..1957 "."
              IDENT@1957..1963 "buffer"
            L_BRACKET@1963..1964 "["
            EStructIdx@1964..1983
              EVar@1964..1973
                IDENT@1964..1973 "particles"
              DOT@1973..1974 "."
              IDENT@1974..1983 "watermark"
            R_BRACKET@1983..1984 "]"
            SPACE@1984..1985 " "
        EQUALS@1985..1986 "="
        SPACE@1986..1987 " "
        EVar@1987..1988
          IDENT@1987..1988 "p"
      SEMICOLON@1988..1989 ";"
      DSet@1989..2086
        LINEFEED@1989..1990 "\n"
        SPACE@1990..1992 "  "
        SET_KW@1992..1995 "set"
        SPACE@1995..1996 " "
        SetTarget@1996..2016
          EStructIdx@1996..2016
            EVar@1996..2005
              IDENT@1996..2005 "particles"
            DOT@2005..2006 "."
            IDENT@2006..2015 "watermark"
            SPACE@2015..2016 " "
        EQUALS@2016..2017 "="
        ECall@2017..2086
          EVar@2017..2031
            LINEFEED@2017..2018 "\n"
            SPACE@2018..2022 "    "
            IDENT@2022..2031 "i32_rem_s"
          EArgList@2031..2086
            L_PAREN@2031..2032 "("
            EBinary@2032..2055
              EStructIdx@2032..2052
                EVar@2032..2041
                  IDENT@2032..2041 "particles"
                DOT@2041..2042 "."
                IDENT@2042..2051 "watermark"
                SPACE@2051..2052 " "
              BinOp@2052..2054
                PLUS@2052..2053 "+"
                SPACE@2053..2054 " "
              ELit@2054..2055
                LitInt@2054..2055
                  INT_LIT@2054..2055 "1"
            COMMA@2055..2056 ","
            SPACE@2056..2057 " "
            EIntrinsic@2057..2085
              AT_IDENT@2057..2067 "@array_len"
              EArgList@2067..2085
                L_PAREN@2067..2068 "("
                EStructIdx@2068..2084
                  EVar@2068..2077
                    IDENT@2068..2077 "particles"
                  DOT@2077..2078 "."
                  IDENT@2078..2084 "buffer"
                R_PAREN@2084..2085 ")"
            R_PAREN@2085..2086 ")"
      LINEFEED@2086..2087 "\n"
      R_BRACE@2087..2088 "}"
  TopFn@2088..2176
    LINEFEED@2088..2089 "\n"
    LINEFEED@2089..2090 "\n"
    FN_KW@2090..2092 "fn"
    SPACE@2092..2093 " "
    IDENT@2093..2098 "clamp"
    L_PAREN@2098..2099 "("
    Param@2099..2110
      IDENT@2099..2102 "min"
      SPACE@2102..2103 " "
      COLON@2103..2104 ":"
      SPACE@2104..2105 " "
      TyFloat@2105..2108
        F32_BUILTIN@2105..2108 "f32"
      COMMA@2108..2109 ","
      SPACE@2109..2110 " "
    Param@2110..2121
      IDENT@2110..2113 "val"
      SPACE@2113..2114 " "
      COLON@2114..2115 ":"
      SPACE@2115..2116 " "
      TyFloat@2116..2119
        F32_BUILTIN@2116..2119 "f32"
      COMMA@2119..2120 ","
      SPACE@2120..2121 " "
    Param@2121..2130
      IDENT@2121..2124 "max"
      SPACE@2124..2125 " "
      COLON@2125..2126 ":"
      SPACE@2126..2127 " "
      TyFloat@2127..2130
        F32_BUILTIN@2127..2130 "f32"
    R_PAREN@2130..2131 ")"
    SPACE@2131..2132 " "
    ARROW@2132..2134 "->"
    SPACE@2134..2135 " "
    TyFloat@2135..2139
      F32_BUILTIN@2135..2138 "f32"
      SPACE@2138..2139 " "
    EBlock@2139..2176
      L_BRACE@2139..2140 "{"
      DExpr@2140..2174
        ECall@2140..2174
          EVar@2140..2150
            LINEFEED@2140..2141 "\n"
            SPACE@2141..2143 "  "
            IDENT@2143..2150 "f32_min"
          EArgList@2150..2174
            L_PAREN@2150..2151 "("
            EVar@2151..2154
              IDENT@2151..2154 "max"
            COMMA@2154..2155 ","
            SPACE@2155..2156 " "
            ECall@2156..2173
              EVar@2156..2163
                IDENT@2156..2163 "f32_max"
              EArgList@2163..2173
                L_PAREN@2163..2164 "("
                EVar@2164..2167
                  IDENT@2164..2167 "min"
                COMMA@2167..2168 ","
                SPACE@2168..2169 " "
                EVar@2169..2172
                  IDENT@2169..2172 "val"
                R_PAREN@2172..2173 ")"
            R_PAREN@2173..2174 ")"
      LINEFEED@2174..2175 "\n"
      R_BRACE@2175..2176 "}"
  TopFn@2176..2301
    LINEFEED@2176..2177 "\n"
    LINEFEED@2177..2178 "\n"
    FN_KW@2178..2180 "fn"
    SPACE@2180..2181 " "
    IDENT@2181..2185 "size"
    L_PAREN@2185..2186 "("
    Param@2186..2197
      IDENT@2186..2190 "body"
      SPACE@2190..2191 " "
      COLON@2191..2192 ":"
      SPACE@2192..2193 " "
      TyCons@2193..2197
        UPPER_IDENT@2193..2197 "Body"
    R_PAREN@2197..2198 ")"
    SPACE@2198..2199 " "
    ARROW@2199..2201 "->"
    SPACE@2201..2202 " "
    TyFloat@2202..2206
      F32_BUILTIN@2202..2205 "f32"
      SPACE@2205..2206 " "
    EBlock@2206..2301
      L_BRACE@2206..2207 "{"
      DExpr@2207..2299
        EMatch@2207..2299
          LINEFEED@2207..2208 "\n"
          SPACE@2208..2210 "  "
          MATCH_KW@2210..2215 "match"
          SPACE@2215..2216 " "
          EVar@2216..2221
            IDENT@2216..2220 "body"
            SPACE@2220..2221 " "
          L_BRACE@2221..2222 "{"
          EMatchBranch@2222..2253
            PatVariant@2222..2240
              Qualifier@2222..2233
                LINEFEED@2222..2223 "\n"
                SPACE@2223..2227 "    "
                UPPER_IDENT@2227..2231 "Body"
                DOUBLE_COLON@2231..2233 "::"
              UPPER_IDENT@2233..2237 "Cube"
              SPACE@2237..2238 " "
              IDENT@2238..2239 "c"
              SPACE@2239..2240 " "
            FAT_ARROW@2240..2242 "=>"
            SPACE@2242..2243 " "
            EBlock@2243..2253
              L_BRACE@2243..2244 "{"
              SPACE@2244..2245 " "
              DExpr@2245..2252
                EStructIdx@2245..2252
                  EVar@2245..2246
                    IDENT@2245..2246 "c"
                  DOT@2246..2247 "."
                  IDENT@2247..2251 "size"
                  SPACE@2251..2252 " "
              R_BRACE@2252..2253 "}"
          COMMA@2253..2254 ","
          EMatchBranch@2254..2295
            PatVariant@2254..2274
              Qualifier@2254..2265
                LINEFEED@2254..2255 "\n"
                SPACE@2255..2259 "    "
                UPPER_IDENT@2259..2263 "Body"
                DOUBLE_COLON@2263..2265 "::"
              UPPER_IDENT@2265..2271 "Circle"
              SPACE@2271..2272 " "
              IDENT@2272..2273 "c"
              SPACE@2273..2274 " "
            FAT_ARROW@2274..2276 "=>"
            SPACE@2276..2277 " "
            EBlock@2277..2295
              L_BRACE@2277..2278 "{"
              SPACE@2278..2279 " "
              DExpr@2279..2294
                EBinary@2279..2294
                  EStructIdx@2279..2288
                    EVar@2279..2280
                      IDENT@2279..2280 "c"
                    DOT@2280..2281 "."
                    IDENT@2281..2287 "radius"
                    SPACE@2287..2288 " "
                  BinOp@2288..2290
                    STAR@2288..2289 "*"
                    SPACE@2289..2290 " "
                  ELit@2290..2294
                    LitFloat@2290..2294
                      FLOAT_LIT@2290..2293 "2.0"
                      SPACE@2293..2294 " "
              R_BRACE@2294..2295 "}"
          LINEFEED@2295..2296 "\n"
          SPACE@2296..2298 "  "
          R_BRACE@2298..2299 "}"
      LINEFEED@2299..2300 "\n"
      R_BRACE@2300..2301 "}"
  TopFn@2301..2597
    LINEFEED@2301..2302 "\n"
    LINEFEED@2302..2303 "\n"
    FN_KW@2303..2305 "fn"
    SPACE@2305..2306 " "
    IDENT@2306..2315 "draw_body"
    L_PAREN@2315..2316 "("
    Param@2316..2325
      IDENT@2316..2317 "x"
      SPACE@2317..2318 " "
      COLON@2318..2319 ":"
      SPACE@2319..2320 " "
      TyFloat@2320..2323
        F32_BUILTIN@2320..2323 "f32"
      COMMA@2323..2324 ","
      SPACE@2324..2325 " "
    Param@2325..2334
      IDENT@2325..2326 "y"
      SPACE@2326..2327 " "
      COLON@2327..2328 ":"
      SPACE@2328..2329 " "
      TyFloat@2329..2332
        F32_BUILTIN@2329..2332 "f32"
      COMMA@2332..2333 ","
      SPACE@2333..2334 " "
    Param@2334..2345
      IDENT@2334..2338 "body"
      SPACE@2338..2339 " "
      COLON@2339..2340 ":"
      SPACE@2340..2341 " "
      TyCons@2341..2345
        UPPER_IDENT@2341..2345 "Body"
    R_PAREN@2345..2346 ")"
    SPACE@2346..2347 " "
    EBlock@2347..2597
      L_BRACE@2347..2348 "{"
      DExpr@2348..2595
        EMatch@2348..2595
          LINEFEED@2348..2349 "\n"
          SPACE@2349..2351 "  "
          MATCH_KW@2351..2356 "match"
          SPACE@2356..2357 " "
          EVar@2357..2362
            IDENT@2357..2361 "body"
            SPACE@2361..2362 " "
          L_BRACE@2362..2363 "{"
          EMatchBranch@2363..2520
            PatVariant@2363..2381
              Qualifier@2363..2374
                LINEFEED@2363..2364 "\n"
                SPACE@2364..2368 "    "
                UPPER_IDENT@2368..2372 "Body"
                DOUBLE_COLON@2372..2374 "::"
              UPPER_IDENT@2374..2378 "Cube"
              SPACE@2378..2379 " "
              IDENT@2379..2380 "c"
              SPACE@2380..2381 " "
            FAT_ARROW@2381..2383 "=>"
            SPACE@2383..2384 " "
            EBlock@2384..2520
              L_BRACE@2384..2385 "{"
              DExpr@2385..2407
                ECall@2385..2407
                  EVar@2385..2401
                    LINEFEED@2385..2386 "\n"
                    SPACE@2386..2394 "        "
                    IDENT@2394..2401 "move_to"
                  EArgList@2401..2407
                    L_PAREN@2401..2402 "("
                    EVar@2402..2403
                      IDENT@2402..2403 "x"
                    COMMA@2403..2404 ","
                    SPACE@2404..2405 " "
                    EVar@2405..2406
                      IDENT@2405..2406 "y"
                    R_PAREN@2406..2407 ")"
              SEMICOLON@2407..2408 ";"
              DExpr@2408..2440
                ECall@2408..2440
                  EVar@2408..2424
                    LINEFEED@2408..2409 "\n"
                    SPACE@2409..2417 "        "
                    IDENT@2417..2424 "line_to"
                  EArgList@2424..2440
                    L_PAREN@2424..2425 "("
                    EVar@2425..2427
                      IDENT@2425..2426 "x"
                      SPACE@2426..2427 " "
                    COMMA@2427..2428 ","
                    SPACE@2428..2429 " "
                    EBinary@2429..2439
                      EVar@2429..2431
                        IDENT@2429..2430 "y"
                        SPACE@2430..2431 " "
                      BinOp@2431..2433
                        PLUS@2431..2432 "+"
                        SPACE@2432..2433 " "
                      EStructIdx@2433..2439
                        EVar@2433..2434
                          IDENT@2433..2434 "c"
                        DOT@2434..2435 "."
                        IDENT@2435..2439 "size"
                    R_PAREN@2439..2440 ")"
              SEMICOLON@2440..2441 ";"
              DExpr@2441..2481
                ECall@2441..2481
                  EVar@2441..2457
                    LINEFEED@2441..2442 "\n"
                    SPACE@2442..2450 "        "
                    IDENT@2450..2457 "line_to"
                  EArgList@2457..2481
                    L_PAREN@2457..2458 "("
                    EBinary@2458..2468
                      EVar@2458..2460
                        IDENT@2458..2459 "x"
                        SPACE@2459..2460 " "
                      BinOp@2460..2462
                        PLUS@2460..2461 "+"
                        SPACE@2461..2462 " "
                      EStructIdx@2462..2468
                        EVar@2462..2463
                          IDENT@2462..2463 "c"
                        DOT@2463..2464 "."
                        IDENT@2464..2468 "size"
                    COMMA@2468..2469 ","
                    SPACE@2469..2470 " "
                    EBinary@2470..2480
                      EVar@2470..2472
                        IDENT@2470..2471 "y"
                        SPACE@2471..2472 " "
                      BinOp@2472..2474
                        PLUS@2472..2473 "+"
                        SPACE@2473..2474 " "
                      EStructIdx@2474..2480
                        EVar@2474..2475
                          IDENT@2474..2475 "c"
                        DOT@2475..2476 "."
                        IDENT@2476..2480 "size"
                    R_PAREN@2480..2481 ")"
              SEMICOLON@2481..2482 ";"
              DExpr@2482..2513
                ECall@2482..2513
                  EVar@2482..2498
                    LINEFEED@2482..2483 "\n"
                    SPACE@2483..2491 "        "
                    IDENT@2491..2498 "line_to"
                  EArgList@2498..2513
                    L_PAREN@2498..2499 "("
                    EBinary@2499..2509
                      EVar@2499..2501
                        IDENT@2499..2500 "x"
                        SPACE@2500..2501 " "
                      BinOp@2501..2503
                        PLUS@2501..2502 "+"
                        SPACE@2502..2503 " "
                      EStructIdx@2503..2509
                        EVar@2503..2504
                          IDENT@2503..2504 "c"
                        DOT@2504..2505 "."
                        IDENT@2505..2509 "size"
                    COMMA@2509..2510 ","
                    SPACE@2510..2511 " "
                    EVar@2511..2512
                      IDENT@2511..2512 "y"
                    R_PAREN@2512..2513 ")"
              SEMICOLON@2513..2514 ";"
              LINEFEED@2514..2515 "\n"
              SPACE@2515..2519 "    "
              R_BRACE@2519..2520 "}"
          COMMA@2520..2521 ","
          EMatchBranch@2521..2591
            PatVariant@2521..2541
              Qualifier@2521..2532
                LINEFEED@2521..2522 "\n"
                SPACE@2522..2526 "    "
                UPPER_IDENT@2526..2530 "Body"
                DOUBLE_COLON@2530..2532 "::"
              UPPER_IDENT@2532..2538 "Circle"
              SPACE@2538..2539 " "
              IDENT@2539..2540 "c"
              SPACE@2540..2541 " "
            FAT_ARROW@2541..2543 "=>"
            SPACE@2543..2544 " "
            EBlock@2544..2591
              L_BRACE@2544..2545 "{"
              DExpr@2545..2584
                ECall@2545..2584
                  EVar@2545..2555
                    LINEFEED@2545..2546 "\n"
                    SPACE@2546..2552 "      "
                    IDENT@2552..2555 "arc"
                  EArgList@2555..2584
                    L_PAREN@2555..2556 "("
                    EVar@2556..2557
                      IDENT@2556..2557 "x"
                    COMMA@2557..2558 ","
                    SPACE@2558..2559 " "
                    EVar@2559..2560
                      IDENT@2559..2560 "y"
                    COMMA@2560..2561 ","
                    SPACE@2561..2562 " "
                    EStructIdx@2562..2570
                      EVar@2562..2563
                        IDENT@2562..2563 "c"
                      DOT@2563..2564 "."
                      IDENT@2564..2570 "radius"
                    COMMA@2570..2571 ","
                    SPACE@2571..2572 " "
                    ELit@2572..2575
                      LitFloat@2572..2575
                        FLOAT_LIT@2572..2575 "0.0"
                    COMMA@2575..2576 ","
                    SPACE@2576..2577 " "
                    EVar@2577..2583
                      IDENT@2577..2583 "two_pi"
                    R_PAREN@2583..2584 ")"
              SEMICOLON@2584..2585 ";"
              LINEFEED@2585..2586 "\n"
              SPACE@2586..2590 "    "
              R_BRACE@2590..2591 "}"
          LINEFEED@2591..2592 "\n"
          SPACE@2592..2594 "  "
          R_BRACE@2594..2595 "}"
      LINEFEED@2595..2596 "\n"
      R_BRACE@2596..2597 "}"
  TopFn@2597..2774
    LINEFEED@2597..2598 "\n"
    LINEFEED@2598..2599 "\n"
    FN_KW@2599..2601 "fn"
    SPACE@2601..2602 " "
    IDENT@2602..2611 "draw_cube"
    L_PAREN@2611..2612 "("
    Param@2612..2624
      IDENT@2612..2616 "cube"
      SPACE@2616..2617 " "
      COLON@2617..2618 ":"
      SPACE@2618..2619 " "
      TyCons@2619..2624
        UPPER_IDENT@2619..2624 "Shape"
    R_PAREN@2624..2625 ")"
    SPACE@2625..2626 " "
    EBlock@2626..2774
      L_BRACE@2626..2627 "{"
      DExpr@2627..2642
        ECall@2627..2642
          EVar@2627..2640
            LINEFEED@2627..2628 "\n"
            SPACE@2628..2630 "  "
            IDENT@2630..2640 "begin_path"
          EArgList@2640..2642
            L_PAREN@2640..2641 "("
            R_PAREN@2641..2642 ")"
      SEMICOLON@2642..2643 ";"
      DExpr@2643..2682
        ECall@2643..2682
          EVar@2643..2655
            LINEFEED@2643..2644 "\n"
            SPACE@2644..2646 "  "
            IDENT@2646..2655 "draw_body"
          EArgList@2655..2682
            L_PAREN@2655..2656 "("
            EStructIdx@2656..2662
              EVar@2656..2660
                IDENT@2656..2660 "cube"
              DOT@2660..2661 "."
              IDENT@2661..2662 "x"
            COMMA@2662..2663 ","
            SPACE@2663..2664 " "
            EStructIdx@2664..2670
              EVar@2664..2668
                IDENT@2664..2668 "cube"
              DOT@2668..2669 "."
              IDENT@2669..2670 "y"
            COMMA@2670..2671 ","
            SPACE@2671..2672 " "
            EStructIdx@2672..2681
              EVar@2672..2676
                IDENT@2672..2676 "cube"
              DOT@2676..2677 "."
              IDENT@2677..2681 "body"
            R_PAREN@2681..2682 ")"
      SEMICOLON@2682..2683 ";"
      DExpr@2683..2744
        ECall@2683..2744
          EVar@2683..2702
            LINEFEED@2683..2684 "\n"
            SPACE@2684..2686 "  "
            IDENT@2686..2702 "set_stroke_color"
          EArgList@2702..2744
            L_PAREN@2702..2703 "("
            EStructIdx@2703..2715
              EStructIdx@2703..2713
                EVar@2703..2707
                  IDENT@2703..2707 "cube"
                DOT@2707..2708 "."
                IDENT@2708..2713 "color"
              DOT@2713..2714 "."
              IDENT@2714..2715 "r"
            COMMA@2715..2716 ","
            SPACE@2716..2717 " "
            EStructIdx@2717..2729
              EStructIdx@2717..2727
                EVar@2717..2721
                  IDENT@2717..2721 "cube"
                DOT@2721..2722 "."
                IDENT@2722..2727 "color"
              DOT@2727..2728 "."
              IDENT@2728..2729 "g"
            COMMA@2729..2730 ","
            SPACE@2730..2731 " "
            EStructIdx@2731..2743
              EStructIdx@2731..2741
                EVar@2731..2735
                  IDENT@2731..2735 "cube"
                DOT@2735..2736 "."
                IDENT@2736..2741 "color"
              DOT@2741..2742 "."
              IDENT@2742..2743 "b"
            R_PAREN@2743..2744 ")"
      SEMICOLON@2744..2745 ";"
      DExpr@2745..2760
        ECall@2745..2760
          EVar@2745..2758
            LINEFEED@2745..2746 "\n"
            SPACE@2746..2748 "  "
            IDENT@2748..2758 "close_path"
          EArgList@2758..2760
            L_PAREN@2758..2759 "("
            R_PAREN@2759..2760 ")"
      SEMICOLON@2760..2761 ";"
      DExpr@2761..2772
        ECall@2761..2772
          EVar@2761..2770
            LINEFEED@2761..2762 "\n"
            SPACE@2762..2764 "  "
            IDENT@2764..2770 "stroke"
          EArgList@2770..2772
            L_PAREN@2770..2771 "("
            R_PAREN@2771..2772 ")"
      LINEFEED@2772..2773 "\n"
      R_BRACE@2773..2774 "}"
  TopFn@2774..3049
    LINEFEED@2774..2775 "\n"
    LINEFEED@2775..2776 "\n"
    FN_KW@2776..2778 "fn"
    SPACE@2778..2779 " "
    IDENT@2779..2792 "draw_particle"
    L_PAREN@2792..2793 "("
    Param@2793..2812
      IDENT@2793..2801 "particle"
      SPACE@2801..2802 " "
      COLON@2802..2803 ":"
      SPACE@2803..2804 " "
      TyCons@2804..2812
        UPPER_IDENT@2804..2812 "Particle"
    R_PAREN@2812..2813 ")"
    SPACE@2813..2814 " "
    EBlock@2814..3049
      L_BRACE@2814..2815 "{"
      DExpr@2815..3047
        EIf@2815..3047
          LINEFEED@2815..2816 "\n"
          SPACE@2816..2818 "  "
          IF_KW@2818..2820 "if"
          SPACE@2820..2821 " "
          EBinary@2821..2841
            EStructIdx@2821..2835
              EVar@2821..2829
                IDENT@2821..2829 "particle"
              DOT@2829..2830 "."
              IDENT@2830..2834 "time"
              SPACE@2834..2835 " "
            BinOp@2835..2837
              R_ANGLE@2835..2836 ">"
              SPACE@2836..2837 " "
            ELit@2837..2841
              LitFloat@2837..2841
                FLOAT_LIT@2837..2840 "0.0"
                SPACE@2840..2841 " "
          EBlock@2841..3040
            L_BRACE@2841..2842 "{"
            DExpr@2842..2859
              ECall@2842..2859
                EVar@2842..2857
                  LINEFEED@2842..2843 "\n"
                  SPACE@2843..2847 "    "
                  IDENT@2847..2857 "begin_path"
                EArgList@2857..2859
                  L_PAREN@2857..2858 "("
                  R_PAREN@2858..2859 ")"
            SEMICOLON@2859..2860 ";"
            DExpr@2860..2945
              ECall@2860..2945
                EVar@2860..2868
                  LINEFEED@2860..2861 "\n"
                  SPACE@2861..2865 "    "
                  IDENT@2865..2868 "arc"
                EArgList@2868..2945
                  L_PAREN@2868..2869 "("
                  EStructIdx@2869..2879
                    EVar@2869..2877
                      IDENT@2869..2877 "particle"
                    DOT@2877..2878 "."
                    IDENT@2878..2879 "x"
                  COMMA@2879..2880 ","
                  SPACE@2880..2881 " "
                  EStructIdx@2881..2891
                    EVar@2881..2889
                      IDENT@2881..2889 "particle"
                    DOT@2889..2890 "."
                    IDENT@2890..2891 "y"
                  COMMA@2891..2892 ","
                  SPACE@2892..2893 " "
                  EBinary@2893..2931
                    EParen@2893..2926
                      L_PAREN@2893..2894 "("
                      EBinary@2894..2924
                        EVar@2894..2909
                          IDENT@2894..2908 "particle_timer"
                          SPACE@2908..2909 " "
                        BinOp@2909..2911
                          MINUS@2909..2910 "-"
                          SPACE@2910..2911 " "
                        EStructIdx@2911..2924
                          EVar@2911..2919
                            IDENT@2911..2919 "particle"
                          DOT@2919..2920 "."
                          IDENT@2920..2924 "time"
                      R_PAREN@2924..2925 ")"
                      SPACE@2925..2926 " "
                    BinOp@2926..2928
                      SLASH@2926..2927 "/"
                      SPACE@2927..2928 " "
                    ELit@2928..2931
                      LitFloat@2928..2931
                        FLOAT_LIT@2928..2931 "2.0"
                  COMMA@2931..2932 ","
                  SPACE@2932..2933 " "
                  ELit@2933..2936
                    LitFloat@2933..2936
                      FLOAT_LIT@2933..2936 "0.0"
                  COMMA@2936..2937 ","
                  SPACE@2937..2938 " "
                  EVar@2938..2944
                    IDENT@2938..2944 "two_pi"
                  R_PAREN@2944..2945 ")"
            SEMICOLON@2945..2946 ";"
            DExpr@2946..3021
              ECall@2946..3021
                EVar@2946..2967
                  LINEFEED@2946..2947 "\n"
                  SPACE@2947..2951 "    "
                  IDENT@2951..2967 "set_stroke_color"
                EArgList@2967..3021
                  L_PAREN@2967..2968 "("
                  EStructIdx@2968..2984
                    EStructIdx@2968..2982
                      EVar@2968..2976
                        IDENT@2968..2976 "particle"
                      DOT@2976..2977 "."
                      IDENT@2977..2982 "color"
                    DOT@2982..2983 "."
                    IDENT@2983..2984 "r"
                  COMMA@2984..2985 ","
                  SPACE@2985..2986 " "
                  EStructIdx@2986..3002
                    EStructIdx@2986..3000
                      EVar@2986..2994
                        IDENT@2986..2994 "particle"
                      DOT@2994..2995 "."
                      IDENT@2995..3000 "color"
                    DOT@3000..3001 "."
                    IDENT@3001..3002 "g"
                  COMMA@3002..3003 ","
                  SPACE@3003..3004 " "
                  EStructIdx@3004..3020
                    EStructIdx@3004..3018
                      EVar@3004..3012
                        IDENT@3004..3012 "particle"
                      DOT@3012..3013 "."
                      IDENT@3013..3018 "color"
                    DOT@3018..3019 "."
                    IDENT@3019..3020 "b"
                  R_PAREN@3020..3021 ")"
            SEMICOLON@3021..3022 ";"
            DExpr@3022..3035
              ECall@3022..3035
                EVar@3022..3033
                  LINEFEED@3022..3023 "\n"
                  SPACE@3023..3027 "    "
                  IDENT@3027..3033 "stroke"
                EArgList@3033..3035
                  L_PAREN@3033..3034 "("
                  R_PAREN@3034..3035 ")"
            LINEFEED@3035..3036 "\n"
            SPACE@3036..3038 "  "
            R_BRACE@3038..3039 "}"
            SPACE@3039..3040 " "
          ELSE_KW@3040..3044 "else"
          SPACE@3044..3045 " "
          EBlock@3045..3047
            L_BRACE@3045..3046 "{"
            R_BRACE@3046..3047 "}"
      LINEFEED@3047..3048 "\n"
      R_BRACE@3048..3049 "}"
  TopFn@3049..3607
    LINEFEED@3049..3050 "\n"
    LINEFEED@3050..3051 "\n"
    FN_KW@3051..3053 "fn"
    SPACE@3053..3054 " "
    IDENT@3054..3067 "collide_cubes"
    L_PAREN@3067..3068 "("
    Param@3068..3080
      IDENT@3068..3070 "c1"
      SPACE@3070..3071 " "
      COLON@3071..3072 ":"
      SPACE@3072..3073 " "
      TyCons@3073..3078
        UPPER_IDENT@3073..3078 "Shape"
      COMMA@3078..3079 ","
      SPACE@3079..3080 " "
    Param@3080..3090
      IDENT@3080..3082 "c2"
      SPACE@3082..3083 " "
      COLON@3083..3084 ":"
      SPACE@3084..3085 " "
      TyCons@3085..3090
        UPPER_IDENT@3085..3090 "Shape"
    R_PAREN@3090..3091 ")"
    SPACE@3091..3092 " "
    EBlock@3092..3607
      L_BRACE@3092..3093 "{"
      DLet@3093..3170
        LINEFEED@3093..3094 "\n"
        SPACE@3094..3096 "  "
        LET_KW@3096..3099 "let"
        SPACE@3099..3100 " "
        IDENT@3100..3109 "overlap_x"
        SPACE@3109..3110 " "
        EQUALS@3110..3111 "="
        SPACE@3111..3112 " "
        EBinary@3112..3170
          EBinary@3112..3140
            EStructIdx@3112..3117
              EVar@3112..3114
                IDENT@3112..3114 "c1"
              DOT@3114..3115 "."
              IDENT@3115..3116 "x"
              SPACE@3116..3117 " "
            BinOp@3117..3119
              L_ANGLE@3117..3118 "<"
              SPACE@3118..3119 " "
            EBinary@3119..3140
              EStructIdx@3119..3124
                EVar@3119..3121
                  IDENT@3119..3121 "c2"
                DOT@3121..3122 "."
                IDENT@3122..3123 "x"
                SPACE@3123..3124 " "
              BinOp@3124..3126
                PLUS@3124..3125 "+"
                SPACE@3125..3126 " "
              ECall@3126..3140
                EVar@3126..3130
                  IDENT@3126..3130 "size"
                EArgList@3130..3140
                  L_PAREN@3130..3131 "("
                  EStructIdx@3131..3138
                    EVar@3131..3133
                      IDENT@3131..3133 "c2"
                    DOT@3133..3134 "."
                    IDENT@3134..3138 "body"
                  R_PAREN@3138..3139 ")"
                  SPACE@3139..3140 " "
          BinOp@3140..3143
            ANDAND@3140..3142 "&&"
            SPACE@3142..3143 " "
          EBinary@3143..3170
            EBinary@3143..3164
              EStructIdx@3143..3148
                EVar@3143..3145
                  IDENT@3143..3145 "c1"
                DOT@3145..3146 "."
                IDENT@3146..3147 "x"
                SPACE@3147..3148 " "
              BinOp@3148..3150
                PLUS@3148..3149 "+"
                SPACE@3149..3150 " "
              ECall@3150..3164
                EVar@3150..3154
                  IDENT@3150..3154 "size"
                EArgList@3154..3164
                  L_PAREN@3154..3155 "("
                  EStructIdx@3155..3162
                    EVar@3155..3157
                      IDENT@3155..3157 "c1"
                    DOT@3157..3158 "."
                    IDENT@3158..3162 "body"
                  R_PAREN@3162..3163 ")"
                  SPACE@3163..3164 " "
            BinOp@3164..3166
              R_ANGLE@3164..3165 ">"
              SPACE@3165..3166 " "
            EStructIdx@3166..3170
              EVar@3166..3168
                IDENT@3166..3168 "c2"
              DOT@3168..3169 "."
              IDENT@3169..3170 "x"
      SEMICOLON@3170..3171 ";"
      DLet@3171..3248
        LINEFEED@3171..3172 "\n"
        SPACE@3172..3174 "  "
        LET_KW@3174..3177 "let"
        SPACE@3177..3178 " "
        IDENT@3178..3187 "overlap_y"
        SPACE@3187..3188 " "
        EQUALS@3188..3189 "="
        SPACE@3189..3190 " "
        EBinary@3190..3248
          EBinary@3190..3218
            EStructIdx@3190..3195
              EVar@3190..3192
                IDENT@3190..3192 "c1"
              DOT@3192..3193 "."
              IDENT@3193..3194 "y"
              SPACE@3194..3195 " "
            BinOp@3195..3197
              L_ANGLE@3195..3196 "<"
              SPACE@3196..3197 " "
            EBinary@3197..3218
              EStructIdx@3197..3202
                EVar@3197..3199
                  IDENT@3197..3199 "c2"
                DOT@3199..3200 "."
                IDENT@3200..3201 "y"
                SPACE@3201..3202 " "
              BinOp@3202..3204
                PLUS@3202..3203 "+"
                SPACE@3203..3204 " "
              ECall@3204..3218
                EVar@3204..3208
                  IDENT@3204..3208 "size"
                EArgList@3208..3218
                  L_PAREN@3208..3209 "("
                  EStructIdx@3209..3216
                    EVar@3209..3211
                      IDENT@3209..3211 "c2"
                    DOT@3211..3212 "."
                    IDENT@3212..3216 "body"
                  R_PAREN@3216..3217 ")"
                  SPACE@3217..3218 " "
          BinOp@3218..3221
            ANDAND@3218..3220 "&&"
            SPACE@3220..3221 " "
          EBinary@3221..3248
            EBinary@3221..3242
              EStructIdx@3221..3226
                EVar@3221..3223
                  IDENT@3221..3223 "c1"
                DOT@3223..3224 "."
                IDENT@3224..3225 "y"
                SPACE@3225..3226 " "
              BinOp@3226..3228
                PLUS@3226..3227 "+"
                SPACE@3227..3228 " "
              ECall@3228..3242
                EVar@3228..3232
                  IDENT@3228..3232 "size"
                EArgList@3232..3242
                  L_PAREN@3232..3233 "("
                  EStructIdx@3233..3240
                    EVar@3233..3235
                      IDENT@3233..3235 "c1"
                    DOT@3235..3236 "."
                    IDENT@3236..3240 "body"
                  R_PAREN@3240..3241 ")"
                  SPACE@3241..3242 " "
            BinOp@3242..3244
              R_ANGLE@3242..3243 ">"
              SPACE@3243..3244 " "
            EStructIdx@3244..3248
              EVar@3244..3246
                IDENT@3244..3246 "c2"
              DOT@3246..3247 "."
              IDENT@3247..3248 "y"
      SEMICOLON@3248..3249 ";"
      DExpr@3249..3605
        EIf@3249..3605
          LINEFEED@3249..3250 "\n"
          LINEFEED@3250..3251 "\n"
          SPACE@3251..3253 "  "
          IF_KW@3253..3255 "if"
          SPACE@3255..3256 " "
          EBinary@3256..3279
            EVar@3256..3266
              IDENT@3256..3265 "overlap_y"
              SPACE@3265..3266 " "
            BinOp@3266..3269
              ANDAND@3266..3268 "&&"
              SPACE@3268..3269 " "
            EVar@3269..3279
              IDENT@3269..3278 "overlap_x"
              SPACE@3278..3279 " "
          EBlock@3279..3598
            L_BRACE@3279..3280 "{"
            DExpr@3280..3371
              ECall@3280..3371
                EVar@3280..3297
                  LINEFEED@3280..3281 "\n"
                  SPACE@3281..3285 "    "
                  IDENT@3285..3297 "add_particle"
                EArgList@3297..3371
                  L_PAREN@3297..3298 "("
                  EStruct@3298..3370
                    UPPER_IDENT@3298..3306 "Particle"
                    SPACE@3306..3307 " "
                    L_BRACE@3307..3308 "{"
                    SPACE@3308..3309 " "
                    EStructField@3309..3317
                      IDENT@3309..3310 "x"
                      SPACE@3310..3311 " "
                      EQUALS@3311..3312 "="
                      SPACE@3312..3313 " "
                      EStructIdx@3313..3317
                        EVar@3313..3315
                          IDENT@3313..3315 "c1"
                        DOT@3315..3316 "."
                        IDENT@3316..3317 "x"
                    COMMA@3317..3318 ","
                    SPACE@3318..3319 " "
                    EStructField@3319..3327
                      IDENT@3319..3320 "y"
                      SPACE@3320..3321 " "
                      EQUALS@3321..3322 "="
                      SPACE@3322..3323 " "
                      EStructIdx@3323..3327
                        EVar@3323..3325
                          IDENT@3323..3325 "c1"
                        DOT@3325..3326 "."
                        IDENT@3326..3327 "y"
                    COMMA@3327..3328 ","
                    SPACE@3328..3329 " "
                    EStructField@3329..3345
                      IDENT@3329..3334 "color"
                      SPACE@3334..3335 " "
                      EQUALS@3335..3336 "="
                      SPACE@3336..3337 " "
                      EStructIdx@3337..3345
                        EVar@3337..3339
                          IDENT@3337..3339 "c1"
                        DOT@3339..3340 "."
                        IDENT@3340..3345 "color"
                    COMMA@3345..3346 ","
                    SPACE@3346..3347 " "
                    EStructField@3347..3369
                      IDENT@3347..3351 "time"
                      SPACE@3351..3352 " "
                      EQUALS@3352..3353 "="
                      SPACE@3353..3354 " "
                      EVar@3354..3369
                        IDENT@3354..3368 "particle_timer"
                        SPACE@3368..3369 " "
                    R_BRACE@3369..3370 "}"
                  R_PAREN@3370..3371 ")"
            SEMICOLON@3371..3372 ";"
            DLet@3372..3403
              LINEFEED@3372..3373 "\n"
              LINEFEED@3373..3374 "\n"
              SPACE@3374..3378 "    "
              LET_KW@3378..3381 "let"
              SPACE@3381..3382 " "
              IDENT@3382..3389 "delta_x"
              SPACE@3389..3390 " "
              EQUALS@3390..3391 "="
              SPACE@3391..3392 " "
              EBinary@3392..3403
                EStructIdx@3392..3397
                  EVar@3392..3394
                    IDENT@3392..3394 "c1"
                  DOT@3394..3395 "."
                  IDENT@3395..3396 "x"
                  SPACE@3396..3397 " "
                BinOp@3397..3399
                  MINUS@3397..3398 "-"
                  SPACE@3398..3399 " "
                EStructIdx@3399..3403
                  EVar@3399..3401
                    IDENT@3399..3401 "c2"
                  DOT@3401..3402 "."
                  IDENT@3402..3403 "x"
            SEMICOLON@3403..3404 ";"
            DLet@3404..3434
              LINEFEED@3404..3405 "\n"
              SPACE@3405..3409 "    "
              LET_KW@3409..3412 "let"
              SPACE@3412..3413 " "
              IDENT@3413..3420 "delta_y"
              SPACE@3420..3421 " "
              EQUALS@3421..3422 "="
              SPACE@3422..3423 " "
              EBinary@3423..3434
                EStructIdx@3423..3428
                  EVar@3423..3425
                    IDENT@3423..3425 "c1"
                  DOT@3425..3426 "."
                  IDENT@3426..3427 "y"
                  SPACE@3427..3428 " "
                BinOp@3428..3430
                  MINUS@3428..3429 "-"
                  SPACE@3429..3430 " "
                EStructIdx@3430..3434
                  EVar@3430..3432
                    IDENT@3430..3432 "c2"
                  DOT@3432..3433 "."
                  IDENT@3433..3434 "y"
            SEMICOLON@3434..3435 ";"
            DExpr@3435..3593
              EIf@3435..3593
                LINEFEED@3435..3436 "\n"
                SPACE@3436..3440 "    "
                IF_KW@3440..3442 "if"
                SPACE@3442..3443 " "
                EBinary@3443..3479
                  ECall@3443..3460
                    EVar@3443..3450
                      IDENT@3443..3450 "f32_abs"
                    EArgList@3450..3460
                      L_PAREN@3450..3451 "("
                      EVar@3451..3458
                        IDENT@3451..3458 "delta_x"
                      R_PAREN@3458..3459 ")"
                      SPACE@3459..3460 " "
                  BinOp@3460..3462
                    R_ANGLE@3460..3461 ">"
                    SPACE@3461..3462 " "
                  ECall@3462..3479
                    EVar@3462..3469
                      IDENT@3462..3469 "f32_abs"
                    EArgList@3469..3479
                      L_PAREN@3469..3470 "("
                      EVar@3470..3477
                        IDENT@3470..3477 "delta_y"
                      R_PAREN@3477..3478 ")"
                      SPACE@3478..3479 " "
                EBlock@3479..3534
                  L_BRACE@3479..3480 "{"
                  DSet@3480..3527
                    LINEFEED@3480..3481 "\n"
                    SPACE@3481..3487 "      "
                    SET_KW@3487..3490 "set"
                    SPACE@3490..3491 " "
                    SetTarget@3491..3497
                      EStructIdx@3491..3497
                        EVar@3491..3493
                          IDENT@3491..3493 "c1"
                        DOT@3493..3494 "."
                        IDENT@3494..3496 "vx"
                        SPACE@3496..3497 " "
                    EQUALS@3497..3498 "="
                    SPACE@3498..3499 " "
                    ECall@3499..3527
                      EVar@3499..3511
                        IDENT@3499..3511 "f32_copysign"
                      EArgList@3511..3527
                        L_PAREN@3511..3512 "("
                        EStructIdx@3512..3517
                          EVar@3512..3514
                            IDENT@3512..3514 "c1"
                          DOT@3514..3515 "."
                          IDENT@3515..3517 "vx"
                        COMMA@3517..3518 ","
                        SPACE@3518..3519 " "
                        EVar@3519..3526
                          IDENT@3519..3526 "delta_x"
                        R_PAREN@3526..3527 ")"
                  LINEFEED@3527..3528 "\n"
                  SPACE@3528..3532 "    "
                  R_BRACE@3532..3533 "}"
                  SPACE@3533..3534 " "
                ELSE_KW@3534..3538 "else"
                SPACE@3538..3539 " "
                EBlock@3539..3593
                  L_BRACE@3539..3540 "{"
                  DSet@3540..3587
                    LINEFEED@3540..3541 "\n"
                    SPACE@3541..3547 "      "
                    SET_KW@3547..3550 "set"
                    SPACE@3550..3551 " "
                    SetTarget@3551..3557
                      EStructIdx@3551..3557
                        EVar@3551..3553
                          IDENT@3551..3553 "c1"
                        DOT@3553..3554 "."
                        IDENT@3554..3556 "vy"
                        SPACE@3556..3557 " "
                    EQUALS@3557..3558 "="
                    SPACE@3558..3559 " "
                    ECall@3559..3587
                      EVar@3559..3571
                        IDENT@3559..3571 "f32_copysign"
                      EArgList@3571..3587
                        L_PAREN@3571..3572 "("
                        EStructIdx@3572..3577
                          EVar@3572..3574
                            IDENT@3572..3574 "c1"
                          DOT@3574..3575 "."
                          IDENT@3575..3577 "vy"
                        COMMA@3577..3578 ","
                        SPACE@3578..3579 " "
                        EVar@3579..3586
                          IDENT@3579..3586 "delta_y"
                        R_PAREN@3586..3587 ")"
                  LINEFEED@3587..3588 "\n"
                  SPACE@3588..3592 "    "
                  R_BRACE@3592..3593 "}"
            LINEFEED@3593..3594 "\n"
            SPACE@3594..3596 "  "
            R_BRACE@3596..3597 "}"
            SPACE@3597..3598 " "
          ELSE_KW@3598..3602 "else"
          SPACE@3602..3603 " "
          EBlock@3603..3605
            L_BRACE@3603..3604 "{"
            R_BRACE@3604..3605 "}"
      LINEFEED@3605..3606 "\n"
      R_BRACE@3606..3607 "}"
  TopFn@3607..3833
    LINEFEED@3607..3608 "\n"
    LINEFEED@3608..3609 "\n"
    FN_KW@3609..3611 "fn"
    SPACE@3611..3612 " "
    IDENT@3612..3624 "collide_cube"
    L_PAREN@3624..3625 "("
    Param@3625..3637
      IDENT@3625..3629 "cube"
      SPACE@3629..3630 " "
      COLON@3630..3631 ":"
      SPACE@3631..3632 " "
      TyCons@3632..3637
        UPPER_IDENT@3632..3637 "Shape"
    R_PAREN@3637..3638 ")"
    SPACE@3638..3639 " "
    EBlock@3639..3833
      L_BRACE@3639..3640 "{"
      DLet@3640..3654
        LINEFEED@3640..3641 "\n"
        SPACE@3641..3643 "  "
        LET_KW@3643..3646 "let"
        SPACE@3646..3647 " "
        IDENT@3647..3650 "idx"
        SPACE@3650..3651 " "
        EQUALS@3651..3652 "="
        SPACE@3652..3653 " "
        ELit@3653..3654
          LitInt@3653..3654
            INT_LIT@3653..3654 "0"
      SEMICOLON@3654..3655 ";"
      DWhile@3655..3831
        LINEFEED@3655..3656 "\n"
        SPACE@3656..3658 "  "
        WHILE_KW@3658..3663 "while"
        SPACE@3663..3664 " "
        EBinary@3664..3688
          EVar@3664..3668
            IDENT@3664..3667 "idx"
            SPACE@3667..3668 " "
          BinOp@3668..3670
            L_ANGLE@3668..3669 "<"
            SPACE@3669..3670 " "
          EIntrinsic@3670..3688
            AT_IDENT@3670..3680 "@array_len"
            EArgList@3680..3688
              L_PAREN@3680..3681 "("
              EVar@3681..3686
                IDENT@3681..3686 "cubes"
              R_PAREN@3686..3687 ")"
              SPACE@3687..3688 " "
        EBlock@3688..3831
          L_BRACE@3688..3689 "{"
          DExpr@3689..3804
            EIf@3689..3804
              LINEFEED@3689..3690 "\n"
              SPACE@3690..3694 "    "
              IF_KW@3694..3696 "if"
              SPACE@3696..3697 " "
              EBinary@3697..3746
                EBinary@3697..3720
                  EStructIdx@3697..3710
                    EArrayIdx@3697..3707
                      EVar@3697..3702
                        IDENT@3697..3702 "cubes"
                      L_BRACKET@3702..3703 "["
                      EVar@3703..3706
                        IDENT@3703..3706 "idx"
                      R_BRACKET@3706..3707 "]"
                    DOT@3707..3708 "."
                    IDENT@3708..3709 "x"
                    SPACE@3709..3710 " "
                  BinOp@3710..3713
                    DOUBLE_EQUALS@3710..3712 "=="
                    SPACE@3712..3713 " "
                  EStructIdx@3713..3720
                    EVar@3713..3717
                      IDENT@3713..3717 "cube"
                    DOT@3717..3718 "."
                    IDENT@3718..3719 "x"
                    SPACE@3719..3720 " "
                BinOp@3720..3723
                  ANDAND@3720..3722 "&&"
                  SPACE@3722..3723 " "
                EBinary@3723..3746
                  EStructIdx@3723..3736
                    EArrayIdx@3723..3733
                      EVar@3723..3728
                        IDENT@3723..3728 "cubes"
                      L_BRACKET@3728..3729 "["
                      EVar@3729..3732
                        IDENT@3729..3732 "idx"
                      R_BRACKET@3732..3733 "]"
                    DOT@3733..3734 "."
                    IDENT@3734..3735 "y"
                    SPACE@3735..3736 " "
                  BinOp@3736..3739
                    DOUBLE_EQUALS@3736..3738 "=="
                    SPACE@3738..3739 " "
                  EStructIdx@3739..3746
                    EVar@3739..3743
                      IDENT@3739..3743 "cube"
                    DOT@3743..3744 "."
                    IDENT@3744..3745 "y"
                    SPACE@3745..3746 " "
              EBlock@3746..3754
                L_BRACE@3746..3747 "{"
                LINEFEED@3747..3748 "\n"
                SPACE@3748..3752 "    "
                R_BRACE@3752..3753 "}"
                SPACE@3753..3754 " "
              ELSE_KW@3754..3758 "else"
              SPACE@3758..3759 " "
              EBlock@3759..3804
                L_BRACE@3759..3760 "{"
                DExpr@3760..3798
                  ECall@3760..3798
                    EVar@3760..3780
                      LINEFEED@3760..3761 "\n"
                      SPACE@3761..3767 "      "
                      IDENT@3767..3780 "collide_cubes"
                    EArgList@3780..3798
                      L_PAREN@3780..3781 "("
                      EVar@3781..3785
                        IDENT@3781..3785 "cube"
                      COMMA@3785..3786 ","
                      SPACE@3786..3787 " "
                      EArrayIdx@3787..3797
                        EVar@3787..3792
                          IDENT@3787..3792 "cubes"
                        L_BRACKET@3792..3793 "["
                        EVar@3793..3796
                          IDENT@3793..3796 "idx"
                        R_BRACKET@3796..3797 "]"
                      R_PAREN@3797..3798 ")"
                LINEFEED@3798..3799 "\n"
                SPACE@3799..3803 "    "
                R_BRACE@3803..3804 "}"
          SEMICOLON@3804..3805 ";"
          DSet@3805..3827
            LINEFEED@3805..3806 "\n"
            SPACE@3806..3810 "    "
            SET_KW@3810..3813 "set"
            SPACE@3813..3814 " "
            SetTarget@3814..3818
              EVar@3814..3818
                IDENT@3814..3817 "idx"
                SPACE@3817..3818 " "
            EQUALS@3818..3819 "="
            SPACE@3819..3820 " "
            EBinary@3820..3827
              EVar@3820..3824
                IDENT@3820..3823 "idx"
                SPACE@3823..3824 " "
              BinOp@3824..3826
                PLUS@3824..3825 "+"
                SPACE@3825..3826 " "
              ELit@3826..3827
                LitInt@3826..3827
                  INT_LIT@3826..3827 "1"
          LINEFEED@3827..3828 "\n"
          SPACE@3828..3830 "  "
          R_BRACE@3830..3831 "}"
      LINEFEED@3831..3832 "\n"
      R_BRACE@3832..3833 "}"
  TopFn@3833..4297
    LINEFEED@3833..3834 "\n"
    LINEFEED@3834..3835 "\n"
    FN_KW@3835..3837 "fn"
    SPACE@3837..3838 " "
    IDENT@3838..3847 "tick_cube"
    L_PAREN@3847..3848 "("
    Param@3848..3862
      IDENT@3848..3852 "cube"
      SPACE@3852..3853 " "
      COLON@3853..3854 ":"
      SPACE@3854..3855 " "
      TyCons@3855..3860
        UPPER_IDENT@3855..3860 "Shape"
      COMMA@3860..3861 ","
      SPACE@3861..3862 " "
    Param@3862..3883
      IDENT@3862..3877 "elapsed_time_ms"
      SPACE@3877..3878 " "
      COLON@3878..3879 ":"
      SPACE@3879..3880 " "
      TyFloat@3880..3883
        F32_BUILTIN@3880..3883 "f32"
    R_PAREN@3883..3884 ")"
    SPACE@3884..3885 " "
    EBlock@3885..4297
      L_BRACE@3885..3886 "{"
      DLet@3886..3932
        LINEFEED@3886..3887 "\n"
        SPACE@3887..3889 "  "
        LET_KW@3889..3892 "let"
        SPACE@3892..3893 " "
        IDENT@3893..3907 "elapsed_factor"
        SPACE@3907..3908 " "
        EQUALS@3908..3909 "="
        SPACE@3909..3910 " "
        EBinary@3910..3932
          EVar@3910..3926
            IDENT@3910..3925 "elapsed_time_ms"
            SPACE@3925..3926 " "
          BinOp@3926..3928
            SLASH@3926..3927 "/"
            SPACE@3927..3928 " "
          ELit@3928..3932
            LitFloat@3928..3932
              FLOAT_LIT@3928..3932 "48.0"
      SEMICOLON@3932..3933 ";"
      DSet@3933..3983
        LINEFEED@3933..3934 "\n"
        LINEFEED@3934..3935 "\n"
        SPACE@3935..3937 "  "
        SET_KW@3937..3940 "set"
        SPACE@3940..3941 " "
        SetTarget@3941..3948
          EStructIdx@3941..3948
            EVar@3941..3945
              IDENT@3941..3945 "cube"
            DOT@3945..3946 "."
            IDENT@3946..3947 "x"
            SPACE@3947..3948 " "
        EQUALS@3948..3949 "="
        SPACE@3949..3950 " "
        EBinary@3950..3983
          EStructIdx@3950..3957
            EVar@3950..3954
              IDENT@3950..3954 "cube"
            DOT@3954..3955 "."
            IDENT@3955..3956 "x"
            SPACE@3956..3957 " "
          BinOp@3957..3959
            PLUS@3957..3958 "+"
            SPACE@3958..3959 " "
          EBinary@3959..3983
            EStructIdx@3959..3967
              EVar@3959..3963
                IDENT@3959..3963 "cube"
              DOT@3963..3964 "."
              IDENT@3964..3966 "vx"
              SPACE@3966..3967 " "
            BinOp@3967..3969
              STAR@3967..3968 "*"
              SPACE@3968..3969 " "
            EVar@3969..3983
              IDENT@3969..3983 "elapsed_factor"
      SEMICOLON@3983..3984 ";"
      DSet@3984..4033
        LINEFEED@3984..3985 "\n"
        SPACE@3985..3987 "  "
        SET_KW@3987..3990 "set"
        SPACE@3990..3991 " "
        SetTarget@3991..3998
          EStructIdx@3991..3998
            EVar@3991..3995
              IDENT@3991..3995 "cube"
            DOT@3995..3996 "."
            IDENT@3996..3997 "y"
            SPACE@3997..3998 " "
        EQUALS@3998..3999 "="
        SPACE@3999..4000 " "
        EBinary@4000..4033
          EStructIdx@4000..4007
            EVar@4000..4004
              IDENT@4000..4004 "cube"
            DOT@4004..4005 "."
            IDENT@4005..4006 "y"
            SPACE@4006..4007 " "
          BinOp@4007..4009
            PLUS@4007..4008 "+"
            SPACE@4008..4009 " "
          EBinary@4009..4033
            EStructIdx@4009..4017
              EVar@4009..4013
                IDENT@4009..4013 "cube"
              DOT@4013..4014 "."
              IDENT@4014..4016 "vy"
              SPACE@4016..4017 " "
            BinOp@4017..4019
              STAR@4017..4018 "*"
              SPACE@4018..4019 " "
            EVar@4019..4033
              IDENT@4019..4033 "elapsed_factor"
      SEMICOLON@4033..4034 ";"
      DExpr@4034..4164
        EIf@4034..4164
          LINEFEED@4034..4035 "\n"
          LINEFEED@4035..4036 "\n"
          SPACE@4036..4038 "  "
          IF_KW@4038..4040 "if"
          SPACE@4040..4041 " "
          EBinary@4041..4072
            EBinary@4041..4054
              EStructIdx@4041..4048
                EVar@4041..4045
                  IDENT@4041..4045 "cube"
                DOT@4045..4046 "."
                IDENT@4046..4047 "x"
                SPACE@4047..4048 " "
              BinOp@4048..4050
                L_ANGLE@4048..4049 "<"
                SPACE@4049..4050 " "
              ELit@4050..4054
                LitFloat@4050..4054
                  FLOAT_LIT@4050..4053 "0.0"
                  SPACE@4053..4054 " "
            BinOp@4054..4057
              OROR@4054..4056 "||"
              SPACE@4056..4057 " "
            EBinary@4057..4072
              EStructIdx@4057..4064
                EVar@4057..4061
                  IDENT@4057..4061 "cube"
                DOT@4061..4062 "."
                IDENT@4062..4063 "x"
                SPACE@4063..4064 " "
              BinOp@4064..4066
                R_ANGLE@4064..4065 ">"
                SPACE@4065..4066 " "
              ELit@4066..4072
                LitFloat@4066..4072
                  FLOAT_LIT@4066..4071 "500.0"
                  SPACE@4071..4072 " "
          EBlock@4072..4157
            L_BRACE@4072..4073 "{"
            DSet@4073..4116
              LINEFEED@4073..4074 "\n"
              SPACE@4074..4078 "    "
              SET_KW@4078..4081 "set"
              SPACE@4081..4082 " "
              SetTarget@4082..4089
                EStructIdx@4082..4089
                  EVar@4082..4086
                    IDENT@4082..4086 "cube"
                  DOT@4086..4087 "."
                  IDENT@4087..4088 "x"
                  SPACE@4088..4089 " "
              EQUALS@4089..4090 "="
              SPACE@4090..4091 " "
              ECall@4091..4116
                EVar@4091..4096
                  IDENT@4091..4096 "clamp"
                EArgList@4096..4116
                  L_PAREN@4096..4097 "("
                  ELit@4097..4100
                    LitFloat@4097..4100
                      FLOAT_LIT@4097..4100 "0.0"
                  COMMA@4100..4101 ","
                  SPACE@4101..4102 " "
                  EStructIdx@4102..4108
                    EVar@4102..4106
                      IDENT@4102..4106 "cube"
                    DOT@4106..4107 "."
                    IDENT@4107..4108 "x"
                  COMMA@4108..4109 ","
                  SPACE@4109..4110 " "
                  ELit@4110..4115
                    LitFloat@4110..4115
                      FLOAT_LIT@4110..4115 "500.0"
                  R_PAREN@4115..4116 ")"
            SEMICOLON@4116..4117 ";"
            DSet@4117..4152
              LINEFEED@4117..4118 "\n"
              SPACE@4118..4122 "    "
              SET_KW@4122..4125 "set"
              SPACE@4125..4126 " "
              SetTarget@4126..4134
                EStructIdx@4126..4134
                  EVar@4126..4130
                    IDENT@4126..4130 "cube"
                  DOT@4130..4131 "."
                  IDENT@4131..4133 "vx"
                  SPACE@4133..4134 " "
              EQUALS@4134..4135 "="
              SPACE@4135..4136 " "
              ECall@4136..4152
                EVar@4136..4143
                  IDENT@4136..4143 "f32_neg"
                EArgList@4143..4152
                  L_PAREN@4143..4144 "("
                  EStructIdx@4144..4151
                    EVar@4144..4148
                      IDENT@4144..4148 "cube"
                    DOT@4148..4149 "."
                    IDENT@4149..4151 "vx"
                  R_PAREN@4151..4152 ")"
            LINEFEED@4152..4153 "\n"
            SPACE@4153..4155 "  "
            R_BRACE@4155..4156 "}"
            SPACE@4156..4157 " "
          ELSE_KW@4157..4161 "else"
          SPACE@4161..4162 " "
          EBlock@4162..4164
            L_BRACE@4162..4163 "{"
            R_BRACE@4163..4164 "}"
      SEMICOLON@4164..4165 ";"
      DExpr@4165..4295
        EIf@4165..4295
          LINEFEED@4165..4166 "\n"
          LINEFEED@4166..4167 "\n"
          SPACE@4167..4169 "  "
          IF_KW@4169..4171 "if"
          SPACE@4171..4172 " "
          EBinary@4172..4203
            EBinary@4172..4185
              EStructIdx@4172..4179
                EVar@4172..4176
                  IDENT@4172..4176 "cube"
                DOT@4176..4177 "."
                IDENT@4177..4178 "y"
                SPACE@4178..4179 " "
              BinOp@4179..4181
                L_ANGLE@4179..4180 "<"
                SPACE@4180..4181 " "
              ELit@4181..4185
                LitFloat@4181..4185
                  FLOAT_LIT@4181..4184 "0.0"
                  SPACE@4184..4185 " "
            BinOp@4185..4188
              OROR@4185..4187 "||"
              SPACE@4187..4188 " "
            EBinary@4188..4203
              EStructIdx@4188..4195
                EVar@4188..4192
                  IDENT@4188..4192 "cube"
                DOT@4192..4193 "."
                IDENT@4193..4194 "y"
                SPACE@4194..4195 " "
              BinOp@4195..4197
                R_ANGLE@4195..4196 ">"
                SPACE@4196..4197 " "
              ELit@4197..4203
                LitFloat@4197..4203
                  FLOAT_LIT@4197..4202 "500.0"
                  SPACE@4202..4203 " "
          EBlock@4203..4288
            L_BRACE@4203..4204 "{"
            DSet@4204..4247
              LINEFEED@4204..4205 "\n"
              SPACE@4205..4209 "    "
              SET_KW@4209..4212 "set"
              SPACE@4212..4213 " "
              SetTarget@4213..4220
                EStructIdx@4213..4220
                  EVar@4213..4217
                    IDENT@4213..4217 "cube"
                  DOT@4217..4218 "."
                  IDENT@4218..4219 "y"
                  SPACE@4219..4220 " "
              EQUALS@4220..4221 "="
              SPACE@4221..4222 " "
              ECall@4222..4247
                EVar@4222..4227
                  IDENT@4222..4227 "clamp"
                EArgList@4227..4247
                  L_PAREN@4227..4228 "("
                  ELit@4228..4231
                    LitFloat@4228..4231
                      FLOAT_LIT@4228..4231 "0.0"
                  COMMA@4231..4232 ","
                  SPACE@4232..4233 " "
                  EStructIdx@4233..4239
                    EVar@4233..4237
                      IDENT@4233..4237 "cube"
                    DOT@4237..4238 "."
                    IDENT@4238..4239 "y"
                  COMMA@4239..4240 ","
                  SPACE@4240..4241 " "
                  ELit@4241..4246
                    LitFloat@4241..4246
                      FLOAT_LIT@4241..4246 "500.0"
                  R_PAREN@4246..4247 ")"
            SEMICOLON@4247..4248 ";"
            DSet@4248..4283
              LINEFEED@4248..4249 "\n"
              SPACE@4249..4253 "    "
              SET_KW@4253..4256 "set"
              SPACE@4256..4257 " "
              SetTarget@4257..4265
                EStructIdx@4257..4265
                  EVar@4257..4261
                    IDENT@4257..4261 "cube"
                  DOT@4261..4262 "."
                  IDENT@4262..4264 "vy"
                  SPACE@4264..4265 " "
              EQUALS@4265..4266 "="
              SPACE@4266..4267 " "
              ECall@4267..4283
                EVar@4267..4274
                  IDENT@4267..4274 "f32_neg"
                EArgList@4274..4283
                  L_PAREN@4274..4275 "("
                  EStructIdx@4275..4282
                    EVar@4275..4279
                      IDENT@4275..4279 "cube"
                    DOT@4279..4280 "."
                    IDENT@4280..4282 "vy"
                  R_PAREN@4282..4283 ")"
            LINEFEED@4283..4284 "\n"
            SPACE@4284..4286 "  "
            R_BRACE@4286..4287 "}"
            SPACE@4287..4288 " "
          ELSE_KW@4288..4292 "else"
          SPACE@4292..4293 " "
          EBlock@4293..4295
            L_BRACE@4293..4294 "{"
            R_BRACE@4294..4295 "}"
      LINEFEED@4295..4296 "\n"
      R_BRACE@4296..4297 "}"
  TopFn@4297..4766
    LINEFEED@4297..4298 "\n"
    LINEFEED@4298..4299 "\n"
    FN_KW@4299..4301 "fn"
    SPACE@4301..4302 " "
    IDENT@4302..4306 "tick"
    L_PAREN@4306..4307 "("
    Param@4307..4328
      IDENT@4307..4322 "elapsed_time_ms"
      SPACE@4322..4323 " "
      COLON@4323..4324 ":"
      SPACE@4324..4325 " "
      TyFloat@4325..4328
        F32_BUILTIN@4325..4328 "f32"
    R_PAREN@4328..4329 ")"
    SPACE@4329..4330 " "
    EBlock@4330..4766
      L_BRACE@4330..4331 "{"
      DExpr@4331..4341
        ECall@4331..4341
          EVar@4331..4339
            LINEFEED@4331..4332 "\n"
            SPACE@4332..4334 "  "
            IDENT@4334..4339 "clear"
          EArgList@4339..4341
            L_PAREN@4339..4340 "("
            R_PAREN@4340..4341 ")"
      SEMICOLON@4341..4342 ";"
      DLet@4342..4357
        LINEFEED@4342..4343 "\n"
        LINEFEED@4343..4344 "\n"
        SPACE@4344..4346 "  "
        LET_KW@4346..4349 "let"
        SPACE@4349..4350 " "
        IDENT@4350..4353 "idx"
        SPACE@4353..4354 " "
        EQUALS@4354..4355 "="
        SPACE@4355..4356 " "
        ELit@4356..4357
          LitInt@4356..4357
            INT_LIT@4356..4357 "0"
      SEMICOLON@4357..4358 ";"
      DWhile@4358..4520
        LINEFEED@4358..4359 "\n"
        SPACE@4359..4361 "  "
        WHILE_KW@4361..4366 "while"
        SPACE@4366..4367 " "
        EBinary@4367..4391
          EVar@4367..4371
            IDENT@4367..4370 "idx"
            SPACE@4370..4371 " "
          BinOp@4371..4373
            L_ANGLE@4371..4372 "<"
            SPACE@4372..4373 " "
          EIntrinsic@4373..4391
            AT_IDENT@4373..4383 "@array_len"
            EArgList@4383..4391
              L_PAREN@4383..4384 "("
              EVar@4384..4389
                IDENT@4384..4389 "cubes"
              R_PAREN@4389..4390 ")"
              SPACE@4390..4391 " "
        EBlock@4391..4520
          L_BRACE@4391..4392 "{"
          DExpr@4392..4421
            ECall@4392..4421
              EVar@4392..4409
                LINEFEED@4392..4393 "\n"
                SPACE@4393..4397 "    "
                IDENT@4397..4409 "collide_cube"
              EArgList@4409..4421
                L_PAREN@4409..4410 "("
                EArrayIdx@4410..4420
                  EVar@4410..4415
                    IDENT@4410..4415 "cubes"
                  L_BRACKET@4415..4416 "["
                  EVar@4416..4419
                    IDENT@4416..4419 "idx"
                  R_BRACKET@4419..4420 "]"
                R_PAREN@4420..4421 ")"
          SEMICOLON@4421..4422 ";"
          DExpr@4422..4465
            ECall@4422..4465
              EVar@4422..4436
                LINEFEED@4422..4423 "\n"
                SPACE@4423..4427 "    "
                IDENT@4427..4436 "tick_cube"
              EArgList@4436..4465
                L_PAREN@4436..4437 "("
                EArrayIdx@4437..4447
                  EVar@4437..4442
                    IDENT@4437..4442 "cubes"
                  L_BRACKET@4442..4443 "["
                  EVar@4443..4446
                    IDENT@4443..4446 "idx"
                  R_BRACKET@4446..4447 "]"
                COMMA@4447..4448 ","
                SPACE@4448..4449 " "
                EVar@4449..4464
                  IDENT@4449..4464 "elapsed_time_ms"
                R_PAREN@4464..4465 ")"
          SEMICOLON@4465..4466 ";"
          DExpr@4466..4492
            ECall@4466..4492
              EVar@4466..4480
                LINEFEED@4466..4467 "\n"
                SPACE@4467..4471 "    "
                IDENT@4471..4480 "draw_cube"
              EArgList@4480..4492
                L_PAREN@4480..4481 "("
                EArrayIdx@4481..4491
                  EVar@4481..4486
                    IDENT@4481..4486 "cubes"
                  L_BRACKET@4486..4487 "["
                  EVar@4487..4490
                    IDENT@4487..4490 "idx"
                  R_BRACKET@4490..4491 "]"
                R_PAREN@4491..4492 ")"
          SEMICOLON@4492..4493 ";"
          DSet@4493..4516
            LINEFEED@4493..4494 "\n"
            LINEFEED@4494..4495 "\n"
            SPACE@4495..4499 "    "
            SET_KW@4499..4502 "set"
            SPACE@4502..4503 " "
            SetTarget@4503..4507
              EVar@4503..4507
                IDENT@4503..4506 "idx"
                SPACE@4506..4507 " "
            EQUALS@4507..4508 "="
            SPACE@4508..4509 " "
            EBinary@4509..4516
              EVar@4509..4513
                IDENT@4509..4512 "idx"
                SPACE@4512..4513 " "
              BinOp@4513..4515
                PLUS@4513..4514 "+"
                SPACE@4514..4515 " "
              ELit@4515..4516
                LitInt@4515..4516
                  INT_LIT@4515..4516 "1"
          LINEFEED@4516..4517 "\n"
          SPACE@4517..4519 "  "
          R_BRACE@4519..4520 "}"
      SEMICOLON@4520..4521 ";"
      DSet@4521..4536
        LINEFEED@4521..4522 "\n"
        LINEFEED@4522..4523 "\n"
        SPACE@4523..4525 "  "
        SET_KW@4525..4528 "set"
        SPACE@4528..4529 " "
        SetTarget@4529..4533
          EVar@4529..4533
            IDENT@4529..4532 "idx"
            SPACE@4532..4533 " "
        EQUALS@4533..4534 "="
        SPACE@4534..4535 " "
        ELit@4535..4536
          LitInt@4535..4536
            INT_LIT@4535..4536 "0"
      SEMICOLON@4536..4537 ";"
      DWhile@4537..4764
        LINEFEED@4537..4538 "\n"
        SPACE@4538..4540 "  "
        WHILE_KW@4540..4545 "while"
        SPACE@4545..4546 " "
        EBinary@4546..4581
          EVar@4546..4550
            IDENT@4546..4549 "idx"
            SPACE@4549..4550 " "
          BinOp@4550..4552
            L_ANGLE@4550..4551 "<"
            SPACE@4551..4552 " "
          EIntrinsic@4552..4581
            AT_IDENT@4552..4562 "@array_len"
            EArgList@4562..4581
              L_PAREN@4562..4563 "("
              EStructIdx@4563..4579
                EVar@4563..4572
                  IDENT@4563..4572 "particles"
                DOT@4572..4573 "."
                IDENT@4573..4579 "buffer"
              R_PAREN@4579..4580 ")"
              SPACE@4580..4581 " "
        EBlock@4581..4764
          L_BRACE@4581..4582 "{"
          DExpr@4582..4623
            ECall@4582..4623
              EVar@4582..4600
                LINEFEED@4582..4583 "\n"
                SPACE@4583..4587 "    "
                IDENT@4587..4600 "draw_particle"
              EArgList@4600..4623
                L_PAREN@4600..4601 "("
                EArrayIdx@4601..4622
                  EStructIdx@4601..4617
                    EVar@4601..4610
                      IDENT@4601..4610 "particles"
                    DOT@4610..4611 "."
                    IDENT@4611..4617 "buffer"
                  L_BRACKET@4617..4618 "["
                  EVar@4618..4621
                    IDENT@4618..4621 "idx"
                  R_BRACKET@4621..4622 "]"
                R_PAREN@4622..4623 ")"
          SEMICOLON@4623..4624 ";"
          DLet@4624..4665
            LINEFEED@4624..4625 "\n"
            SPACE@4625..4629 "    "
            LET_KW@4629..4632 "let"
            SPACE@4632..4633 " "
            IDENT@4633..4641 "particle"
            SPACE@4641..4642 " "
            EQUALS@4642..4643 "="
            SPACE@4643..4644 " "
            EArrayIdx@4644..4665
              EStructIdx@4644..4660
                EVar@4644..4653
                  IDENT@4644..4653 "particles"
                DOT@4653..4654 "."
                IDENT@4654..4660 "buffer"
              L_BRACKET@4660..4661 "["
              EVar@4661..4664
                IDENT@4661..4664 "idx"
              R_BRACKET@4664..4665 "]"
          SEMICOLON@4665..4666 ";"
          DSet@4666..4736
            LINEFEED@4666..4667 "\n"
            SPACE@4667..4671 "    "
            SET_KW@4671..4674 "set"
            SPACE@4674..4675 " "
            SetTarget@4675..4689
              EStructIdx@4675..4689
                EVar@4675..4683
                  IDENT@4675..4683 "particle"
                DOT@4683..4684 "."
                IDENT@4684..4688 "time"
                SPACE@4688..4689 " "
            EQUALS@4689..4690 "="
            SPACE@4690..4691 " "
            ECall@4691..4736
              EVar@4691..4698
                IDENT@4691..4698 "f32_max"
              EArgList@4698..4736
                L_PAREN@4698..4699 "("
                ELit@4699..4702
                  LitFloat@4699..4702
                    FLOAT_LIT@4699..4702 "0.0"
                COMMA@4702..4703 ","
                SPACE@4703..4704 " "
                EBinary@4704..4735
                  EStructIdx@4704..4718
                    EVar@4704..4712
                      IDENT@4704..4712 "particle"
                    DOT@4712..4713 "."
                    IDENT@4713..4717 "time"
                    SPACE@4717..4718 " "
                  BinOp@4718..4720
                    MINUS@4718..4719 "-"
                    SPACE@4719..4720 " "
                  EVar@4720..4735
                    IDENT@4720..4735 "elapsed_time_ms"
                R_PAREN@4735..4736 ")"
          SEMICOLON@4736..4737 ";"
          DSet@4737..4760
            LINEFEED@4737..4738 "\n"
            LINEFEED@4738..4739 "\n"
            SPACE@4739..4743 "    "
            SET_KW@4743..4746 "set"
            SPACE@4746..4747 " "
            SetTarget@4747..4751
              EVar@4747..4751
                IDENT@4747..4750 "idx"
                SPACE@4750..4751 " "
            EQUALS@4751..4752 "="
            SPACE@4752..4753 " "
            EBinary@4753..4760
              EVar@4753..4757
                IDENT@4753..4756 "idx"
                SPACE@4756..4757 " "
              BinOp@4757..4759
                PLUS@4757..4758 "+"
                SPACE@4758..4759 " "
              ELit@4759..4760
                LitInt@4759..4760
                  INT_LIT@4759..4760 "1"
          LINEFEED@4760..4761 "\n"
          SPACE@4761..4763 "  "
          R_BRACE@4763..4764 "}"
      LINEFEED@4764..4765 "\n"
      R_BRACE@4765..4766 "}"
